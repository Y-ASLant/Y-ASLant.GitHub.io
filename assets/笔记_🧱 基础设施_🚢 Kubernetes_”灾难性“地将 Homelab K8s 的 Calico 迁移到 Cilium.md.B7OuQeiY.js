import{_ as r,c as d,I as a,j as s,w as h,a as i,au as l,D as k,o as F}from"./chunks/framework.RMxno62p.js";const ss=JSON.parse('{"title":"â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium","description":"","frontmatter":{"tags":["å¼€å‘/äº‘åŸç”Ÿ","è®¡ç®—æœº/è®¡ç®—æœºç§‘å­¦/CS/è™šæ‹ŸåŒ–","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes","å¼€å‘/å®¹å™¨åŒ–","å¼€å‘/è™šæ‹ŸåŒ–","å¼€å‘/å®¹å™¨åŒ–/Docker","å¼€å‘/äº‘åŸç”Ÿ/Docker","å‘½ä»¤è¡Œ/kubectl","å‘½ä»¤è¡Œ/kubeadm","å‘½ä»¤è¡Œ/containerd","å‘½ä»¤è¡Œ/docker","è½¯ä»¶/äº‘åŸç”Ÿ/kubeadm","è½¯ä»¶/äº‘åŸç”Ÿ/kubelet","è½¯ä»¶/äº‘åŸç”Ÿ/kubectl","è½¯ä»¶/äº‘åŸç”Ÿ/containerd","è½¯ä»¶/äº‘åŸç”Ÿ/docker","å¼€å‘/è™šæ‹ŸåŒ–/cgroup","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes/K8s","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes","è®¡ç®—æœº/ç½‘ç»œ","è¿ç»´/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŸç”Ÿ/Cilium","è½¯ä»¶/äº‘åŸç”Ÿ/kube-proxy","è®¡ç®—æœº/ç½‘ç»œ/Calico","è¿ç»´/Calico","è½¯ä»¶/äº‘åŸç”Ÿ/Calico","è®¡ç®—æœº/ç½‘ç»œ/Cilium","å¼€å‘/æ ‡è®°è¯­è¨€/YAML"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md","filePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md"}'),g={name:"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md"},C=s("h1",{id:"ç¾éš¾æ€§-åœ°å°†-homelab-k8s-çš„-calico-è¿ç§»åˆ°-cilium",tabindex:"-1"},[i("â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium "),s("a",{class:"header-anchor",href:"#ç¾éš¾æ€§-åœ°å°†-homelab-k8s-çš„-calico-è¿ç§»åˆ°-cilium","aria-label":'Permalink to "â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium"'},"â€‹")],-1),y=s("h3",{id:"æ–‡æ¡£å…¼å®¹æ€§",tabindex:"-1"},[i("æ–‡æ¡£å…¼å®¹æ€§ "),s("a",{class:"header-anchor",href:"#æ–‡æ¡£å…¼å®¹æ€§","aria-label":'Permalink to "æ–‡æ¡£å…¼å®¹æ€§"'},"â€‹")],-1),o={tabindex:"0"},c=s("thead",null,[s("tr",null,[s("th",null,"ä¸»ä½“"),s("th",null,"ç‰ˆæœ¬å·"),s("th",null,"æ–‡æ¡£åœ°å€ï¼ˆå¦‚æœæœ‰ï¼‰")])],-1),u=s("tr",null,[s("td",null,"Debian"),s("td",null,"11"),s("td")],-1),A=s("td",null,"Kubernetes",-1),b=s("td",null,"1.28",-1),m=s("td",null,"Docker",-1),E=s("td",null,"24.0.2",-1),B=s("tr",null,[s("td",null,"containerd"),s("td",null,"1.7.6"),s("td")],-1),v=s("tr",null,[s("td",null,"Linux kernel"),s("td",null,"5.10.0"),s("td")],-1),f=s("tr",null,[s("td",null,"Calico"),s("td"),s("td")],-1),D=s("td",null,"Cilium",-1),_=s("td",null,"1.14.2",-1),q=s("td",null,"helm",-1),x=s("td",null,"v3.9.0",-1),I=s("h2",{id:"ç®€å•åˆ é™¤-calico-ä¹‹åå®‰è£…-cilium",tabindex:"-1"},[i("ç®€å•åˆ é™¤ Calico ä¹‹åå®‰è£… Cilium "),s("a",{class:"header-anchor",href:"#ç®€å•åˆ é™¤-calico-ä¹‹åå®‰è£…-cilium","aria-label":'Permalink to "ç®€å•åˆ é™¤ Calico ä¹‹åå®‰è£… Cilium"'},"â€‹")],-1),P=s("h3",{id:"å®‰è£…-cilium",tabindex:"-1"},[i("å®‰è£… Cilium "),s("a",{class:"header-anchor",href:"#å®‰è£…-cilium","aria-label":'Permalink to "å®‰è£… Cilium"'},"â€‹")],-1),T=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --version</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1.14.2</span></span></code></pre></div><p>æ¥å®‰è£… Ciliumã€‚</p><p>ç­‰å¾…ä¸€æ®µæ—¶é—´ä¹‹åå‘ç°æˆ‘ä»¬çš„ KubeSphere é¢æ¿ä¸å†å“åº”äº†ï¼Œè€Œæ˜¯è¿”å›äº† 502 é”™è¯¯ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ KubeSphere çš„ API æœåŠ¡å™¨ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pods</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubesphere-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ks-apiserver-6cd95fb98f-kvdkb</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                  Age</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                From</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     ------</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">               ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     -------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Unhealthy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">               22m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (x8 </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">over</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 23m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)  kubelet  Liveness probe failed: Get </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;http://10.233.90.228:9090/kapis/version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: dial tcp 10.233.90.228:9090: connect: invalid argument</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Killing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 22m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Container</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ks-apiserver</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> liveness</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> probe,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restarted</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Pulled</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                  22m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Container</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kubesphere/ks-apiserver:v3.3.1&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> already</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> present</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> machine</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Created</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 22m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Created</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ks-apiserver</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Started</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 22m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Started</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ks-apiserver</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  FailedCreatePodSandBox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  20m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sandbox:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rpc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Unknown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> desc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sandbox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ed593ddb9cd630d2fc136e83c31d464cb97fa70712b2f4f85f0f5f73b38f055b&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ks-apiserver-6cd95fb98f-kvdkb&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> networkPlugin</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cni</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ks-apiserver-6cd95fb98f-kvdkb_kubesphere-system&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> network:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> unable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> agent</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> client</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> after</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30.000000</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> timeout:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;http://localhost/v1/config&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dial</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> unix</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var/run/cilium/cilium.sock:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connect:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> such</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> agent</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> running?</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  FailedCreatePodSandBox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  18m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sandbox:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rpc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Unknown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> desc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sandbox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;5001e5aa69fecab537abe27c5900d84a6049f50883695d04a9c9f1ed734a1b20&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ks-apiserver-6cd95fb98f-kvdkb&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> networkPlugin</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cni</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ks-apiserver-6cd95fb98f-kvdkb_kubesphere-system&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> network:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> unable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> agent</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> client</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> after</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30.000000</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> timeout:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;http://localhost/v1/config&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dial</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> unix</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /var/run/cilium/cilium.sock:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connect:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> such</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> directory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> agent</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> running?</span></span></code></pre></div><p>å¯ä»¥å‘ç° Cilium å…¶å®æ²¡æœ‰æ­£å¸¸è¿è¡Œèµ·æ¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ <code>kubelet</code> æ€ä¹ˆæ ·ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â—</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet.service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Kubernetes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Node</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Agent</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     Loaded:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loaded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (/etc/systemd/system/kubelet.service; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vendor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> preset:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Drop-In:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/systemd/system/kubelet.service.d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â””â”€10-kubeadm.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> active</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (running) since Sat 2023-09-30 20:10:16 CST; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">34min</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">       Docs:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://kubernetes.io/docs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">   Main</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PID:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 506</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (kubelet)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      Tasks:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 175</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9830</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     Memory:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 325.8M</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        CPU:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 4min</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 55.659s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     CGroup:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /system.slice/kubelet.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/local/bin/kubelet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --kubeconfig=/etc/kubernetes/kubelet.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --config=/var/lib/kubelet/config.yaml</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --cgroup-driver=s</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€50849</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€50935</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€50971</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€50972</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€51015</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€51283</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€51306</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€51323</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€51337</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€51381</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â”œâ”€51398</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â””â”€51414</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/cni/bin/cilium-cni</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:17</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[506]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:17.246138</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cni.go:361]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Error adding pod to network&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;unable to connect to Cilium daemon: failed to create cilium agent client after 30.000000 seconds timeout: Get </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">http://localhost/v1/config</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">: dial unix /var/run/cilium/cilium.sock: connect: no such file or directory\\nIs the agent running?&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod=&quot;kubesphere-monitoring-system/kube-state-metrics-687d66b747-5s6rt&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:17</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[506]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:17.614511</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet_volumes.go:245]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;There were many similar errors. Turn up verbosity to see them.&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;orphaned pod </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">1f1a54f9-7023-4995-a4c0-de78&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">9æœˆ 30 20:44:17 node1 kubelet[506]: E0930 20:44:17.986337     506 cni.go:361] &quot;Error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> adding</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> network&quot; err=&quot;unable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> agent</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> client</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> after</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30.000000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> s</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:18</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[506]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:18.428698</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cni.go:361]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Error adding pod to network&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;unable to connect to Cilium daemon: failed to create cilium agent client after 30.000000 seconds timeout: Get </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">http://localhost/v1/config</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">: dial unix /var/run/cilium/cilium.sock: connect: no such file or directory\\nIs the agent running?&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod=&quot;kubesphere-monitoring-system/kube-state-metrics-687d66b747-5s6rt&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:19</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[506]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:19.582819</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet_volumes.go:245]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;There were many similar errors. Turn up verbosity to see them.&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;orphaned pod </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">1f1a54f9-7023-4995-a4c0-de78&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">9æœˆ 30 20:44:20 node1 kubelet[506]: E0930 20:44:20.573676     506 remote_runtime.go:116] &quot;RunPodSandbox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> runtime</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed&quot; err=&quot;rpc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Unknown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> desc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sandbox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> contai</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:20</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[506]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:20.573860</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kuberuntime_sandbox.go:70]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Failed to create sandbox for pod&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;rpc error: code = Unknown desc = failed to set up sandbox container </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">9æœˆ 30 20:44:20 node1 kubelet[506]: E0930 20:44:20.573973     506 kuberuntime_manager.go:819] &quot;CreatePodSandbox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed&quot; err=&quot;rpc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Unknown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> desc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sandbox</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> container</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:20</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[506]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:20.574210</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod_workers.go:951]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Error syncing pod, skipping&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;failed to </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">CreatePodSandbox</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">kube-state-metrics-687d66b747-5s6rt_kubespher&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">9æœˆ 30 20:44:21 node1 kubelet[506]: E0930 20:44:21.601638     506 kubelet_volumes.go:245] &quot;There</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> were</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> many</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> similar</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> errors.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Turn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> verbosity</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> see</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> them.&quot; err=&quot;orphaned</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">1f1a54f9-7023-4995-a4c0-de7</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">8&gt;</span></span></code></pre></div><p>å¯ä»¥å‘ç°ä¹Ÿæ˜¯ä¸€æ ·çš„æŠ¥é”™ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:18</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[506]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20:44:18.428698</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     506</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cni.go:361]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Error adding pod to network&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;unable to connect to Cilium daemon: failed to create cilium agent client after 30.000000 seconds timeout: Get </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">http://localhost/v1/config</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">: dial unix /var/run/cilium/cilium.sock: connect: no such file or directory\\nIs the agent running?&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod=&quot;kubesphere-monitoring-system/kube-state-metrics-687d66b747-5s6rt&quot;</span></span></code></pre></div><p>è¿™è¯´æ˜æˆ‘ä»¬çš„ Cilium æ— æ³•è¿è¡Œèµ·æ¥ï¼Œä¹Ÿè®¸æ˜¯ Calico ç›¸å…³çš„èµ„æºæ²¡æœ‰æ¸…ç†å¹²å‡€ã€‚</p><h2 id="ç§»é™¤å†²çªçš„-å°šæœªå®Œå…¨æ¸…ç†å¹²å‡€çš„-calico-ç›¸å…³çš„èµ„æº" tabindex="-1">ç§»é™¤å†²çªçš„ï¼Œå°šæœªå®Œå…¨æ¸…ç†å¹²å‡€çš„ Calico ç›¸å…³çš„èµ„æº <a class="header-anchor" href="#ç§»é™¤å†²çªçš„-å°šæœªå®Œå…¨æ¸…ç†å¹²å‡€çš„-calico-ç›¸å…³çš„èµ„æº" aria-label="Permalink to &quot;ç§»é™¤å†²çªçš„ï¼Œå°šæœªå®Œå…¨æ¸…ç†å¹²å‡€çš„ Calico ç›¸å…³çš„èµ„æº&quot;">â€‹</a></h2>`,10),S=l(`<p>ç„¶åæˆ‘ä»¬éœ€è¦é‡æ–°å®‰è£…ä¸€ä¸‹ Ciliumã€‚</p><h2 id="å¸è½½-cilium" tabindex="-1">å¸è½½ Cilium <a class="header-anchor" href="#å¸è½½-cilium" aria-label="Permalink to &quot;å¸è½½ Cilium&quot;">â€‹</a></h2><p>æˆ‘ä»¬å†è¿è¡Œä¸€ä¸‹ <code>cilium uninstall</code> è¯•è¯•çœ‹ï¼Œç„¶ååˆ é™¤ Cilium çš„ CNI é…ç½®ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/cni/net.d/05-cilium.conflist</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/cni/net.d/10-calico.conflist.cilium_bak</span></span></code></pre></div><p>ç§»é™¤ä¹‹åå‘ç°å®¹å™¨è¿˜æ˜¯åœ¨æŠ¥é”™ï¼Œæˆ‘ä»¬ç”¨ <code>kubectl describe</code> çœ‹çœ‹é…ç½®å’Œäº‹ä»¶ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> redis-v1-fb59985cc-lj4j2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bots</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Tolerations:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 node.kubernetes.io/not-ready:NoExecute</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> op=Exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 300s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                             node.kubernetes.io/unreachable:NoExecute</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> op=Exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 300s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            Age</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    From</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">               Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     ------</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">               -------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  FailedScheduling</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  45m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    default-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  0/3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> available:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">had</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taint</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {node.cilium.io/agent-not-ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> },</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> didn&#39;t tolerate.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Warning  FailedScheduling  44m    default-scheduler  0/3 nodes are available: 3 node(s) had taint {node.cilium.io/agent-not-ready: }, that the pod didn&#39;t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tolerate.</span></span></code></pre></div><p>å¯ä»¥å‘ç°æœ‰ä¸¤ä¸ªæ±¡ç‚¹å’Œå…³äº <code>node.cilium.io/agent-not-ready</code> æ±¡ç‚¹çš„æŠ¥é”™ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»æŠŠ Cilium ç§»é™¤äº†ï¼Œæ‰€ä»¥è¿™é‡Œçš„æ±¡ç‚¹æˆ‘ä»¬ä¸æ¸…æ¥šæ˜¯å“ªé‡Œé…ç½®ä¸Šæ¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taint</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node.cilium.io/agent-not-ready-</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taint</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node.cilium.io/agent-not-ready-</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taint</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node.cilium.io/agent-not-ready-</span></span></code></pre></div><p>ç»™ç§»é™¤äº†ï¼Œç§»é™¤ä¹‹åå†æ¬¡é‡å¯å…¨éƒ¨èŠ‚ç‚¹çš„ <code>kubelet</code> è¯•è¯•çœ‹æ˜¯å¦è¿˜æœ‰æ®‹ä½™ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet</span></span></code></pre></div><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†æ¬¡è§‚å¯Ÿå°±èƒ½å‘ç°åªå‰©ä¸‹æˆ‘ä»¬é¢„æœŸå†…çš„ <code>node.kubernetes.io/not-ready</code>ï¼ˆK8s èŠ‚ç‚¹æœªå‡†å¤‡å¥½ï¼‰æ±¡ç‚¹äº†ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> redis-v1-fb59985cc-p2r5r</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bots</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Tolerations:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 node.kubernetes.io/not-ready:NoExecute</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> op=Exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 300s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                             node.kubernetes.io/unreachable:NoExecute</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> op=Exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 300s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            Age</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    From</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">               Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     ------</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">               -------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  FailedScheduling</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  46m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    default-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  0/3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> available:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">had</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taint</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {node.cilium.io/agent-not-ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> },</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> didn&#39;t tolerate.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Warning  FailedScheduling  44m    default-scheduler  0/3 nodes are available: 3 node(s) had taint {node.cilium.io/agent-not-ready: }, that the pod didn&#39;t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tolerate.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  FailedScheduling</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  5m51s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  default-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  0/3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> available:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">had</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> taint</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {node.kubernetes.io/not-ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> },</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> didn&#39;t tolerate.</span></span></code></pre></div><p>è¿™ä¸ªæ—¶å€™ç”±äºæˆ‘ä»¬åœ¨ä¹‹å‰å·²ç»åˆ é™¤äº† Calicoï¼Œä¹Ÿåˆ é™¤äº†æœ‰å†²çªé…ç½®çš„ Ciliumï¼Œè¿™ä¸ªæ—¶å€™é¢„æœŸæƒ…å†µä¸‹æˆ‘ä»¬ä¼šå‡ºç° CNI æ’ä»¶ç¼ºå¤±çš„æŠ¥é”™ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â—</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet.service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Kubernetes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Node</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Agent</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     Loaded:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loaded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (/etc/systemd/system/kubelet.service; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vendor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> preset:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Drop-In:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/systemd/system/kubelet.service.d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â””â”€10-kubeadm.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> active</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (running) since Sat 2023-09-30 21:48:45 CST; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">5min</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ago</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">       Docs:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://kubernetes.io/docs/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">   Main</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> PID:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 23191</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (kubelet)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      Tasks:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9830</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     Memory:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 52.4M</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        CPU:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 47.656s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     CGroup:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /system.slice/kubelet.service</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">             â””â”€23191</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/local/bin/kubelet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --kubeconfig=/etc/kubernetes/kubelet.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --config=/var/lib/kubelet/config.yaml</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --cgroup-driver=s</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">9æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 21:53:55</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet[23191]:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> E0930</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 21:53:55.698482</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   23191</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod_workers.go:951]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Error syncing pod, skipping&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> err=&quot;network is not ready: container runtime network not ready: NetworkReady=false NetworkReady=false reason:NetworkPluginNotReady message:docker: network plugin is not ready: cni config uninitialized&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pod=&quot;kubesphere-monitoring-system/kube-state-metrics-687d66b747-5s6rt&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> podUID=ba43f196-a8c9-4d87-a18c-e847cef665d0</span></span></code></pre></div><h2 id="å®‰è£…-cilium-1" tabindex="-1">å®‰è£… Cilium <a class="header-anchor" href="#å®‰è£…-cilium-1" aria-label="Permalink to &quot;å®‰è£… Cilium&quot;">â€‹</a></h2><p>è¿™æ˜¯æ­£å¸¸çš„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†æ¬¡æ‰§è¡Œä¸€ä¸‹ Cilium å®˜æ–¹æ–‡æ¡£æ•™çš„å®‰è£…ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --version</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1.14.2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â„¹ï¸</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Using</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1.14.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ğŸ”®</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Auto-detected</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster.local</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ğŸ”®</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Auto-detected</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> has</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> been</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installed</span></span></code></pre></div><p>ç­‰å¾…ä¸€ä¼šå„¿åœ¨æ‰§è¡Œï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --wait</span></span></code></pre></div><p>ç„¶åå°±èƒ½çœ‹åˆ°æˆ‘ä»¬çš„ cilium ç°åœ¨çŠ¶æ€æ­£å¸¸äº†ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --wait</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    /Â¯Â¯\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /Â¯Â¯</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\_</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">_/Â¯Â¯</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Cilium:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> \\__/Â¯Â¯\\__/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Operator:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> /Â¯Â¯\\__/Â¯Â¯\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Envoy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DaemonSet:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    disabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (using </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">embedded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> \\__/Â¯Â¯\\__/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Hubble</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Relay:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       disabled</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    \\__/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       ClusterMesh:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        disabled</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">DaemonSet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             Desired:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3/3,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Available:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3/3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             cilium-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Desired:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Available:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Containers:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            cilium-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Running:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             Running:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Cluster</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Pods:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          1/55</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> managed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cilium</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    1.14.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Image</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> versions</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             quay.io/cilium/cilium:v1.14.2@sha256:6263f3a3d5d63b267b538298dbeb5ae87da3efacf09a2c620446c873ba807d35:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       cilium-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    quay.io/cilium/operator-generic:v1.14.2@sha256:52f70250dea22e506959439a7c4ea31b10fe8375db62f5c27ab746e3a2af866d:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span></code></pre></div><h2 id="å‡ºç°ç½‘ç»œé—®é¢˜" tabindex="-1">å‡ºç°ç½‘ç»œé—®é¢˜ <a class="header-anchor" href="#å‡ºç°ç½‘ç»œé—®é¢˜" aria-label="Permalink to &quot;å‡ºç°ç½‘ç»œé—®é¢˜&quot;">â€‹</a></h2><h3 id="è”é€šæ€§æµ‹è¯•ä¸é€šè¿‡" tabindex="-1">è”é€šæ€§æµ‹è¯•ä¸é€šè¿‡ <a class="header-anchor" href="#è”é€šæ€§æµ‹è¯•ä¸é€šè¿‡" aria-label="Permalink to &quot;è”é€šæ€§æµ‹è¯•ä¸é€šè¿‡&quot;">â€‹</a></h3><p>å®‰è£…ä¹‹åæˆ‘ä»¬æ‰§è¡Œï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connectivity</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span></span></code></pre></div><p>æ¥è¿›è¡Œç½‘ç»œè¿æ¥æµ‹è¯•ï¼Œä¼šå‘ç° <code>cilium-test/client</code> éƒ¨ç½²å¤±è´¥äº†ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connectivity</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â„¹ï¸</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Monitor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> aggregation</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> detected,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> skip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> some</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> flow</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> validation</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> steps</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Creating namespace cilium-test </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> connectivity check...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying echo-same-node service...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying DNS test server configmap...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying same-node deployment...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying client deployment...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying client2 deployment...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying echo-other-node service...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying other-node deployment...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [host-netns] Deploying cluster.local daemonset...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [host-netns-non-cilium] Deploying cluster.local daemonset...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ¨</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Deploying echo-external-node deployment...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âŒ›</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [cluster.local] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> deployment cilium-test/client to become ready...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">connectivity</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failed:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> timeout</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reached</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> waiting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-test/client</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> become</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ready</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (last </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> only</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> replicas</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> available</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä¸€ä¸‹äº‹ä»¶ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-test</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             Age</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   From</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                   Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    ------</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">             ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                   -------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  ScalingReplicaSet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  13m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   deployment-controller</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Scaled</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> replica</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> client-7dccdf9bdf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span></code></pre></div><p>çœ‹èµ·æ¥æˆ‘ä»¬çš„ <code>deployment</code> å¤±è´¥åœ¨æ‰©å®¹åˆ° 1 ä»½ Replicaï¼Œé‚£æˆ‘ä»¬çœ‹çœ‹ Pod è¿™è¾¹æ˜¯å¡åœ¨å“ªä¸ªç¯èŠ‚äº†ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-test</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pods</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                  READY</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              RESTARTS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">client-7dccdf9bdf-tmc5h</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">               0/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ImagePullBackOff</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          20m</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">client2-5fd767c97f-bl84c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              0/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ImagePullBackOff</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          20m</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span></code></pre></div><h3 id="é•œåƒæ‹‰å–å¤±è´¥" tabindex="-1">é•œåƒæ‹‰å–å¤±è´¥ <a class="header-anchor" href="#é•œåƒæ‹‰å–å¤±è´¥" aria-label="Permalink to &quot;é•œåƒæ‹‰å–å¤±è´¥&quot;">â€‹</a></h3><p>çœ‹èµ·æ¥æ˜¯ <code>ImagePullBackoff</code> äº†ï¼Œæ— æ³•æ‹‰å–é•œåƒï¼Œæˆ‘ä»¬çœ‹çœ‹å…·ä½“çš„äº‹ä»¶å§ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pods</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-test</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> client-7dccdf9bdf-tmc5h</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Reason</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Age</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                  From</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">               Message</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     ------</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">                 ----</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">               -------</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Scheduled</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  20m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                  default-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> assigned</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-test/client-7dccdf9bdf-tmc5h</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     6m41s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;quay.io/cilium/alpine-curl:v1.7.0@sha256:ccd0ed9da1752bab88a807647ad3cec65d460d281ab88988b60d70148783e751&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rpc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Unknown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> desc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> response</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;https://quay.io/v2/&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> net/http:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> canceled</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> while</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> waiting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (Client.Timeout </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">exceeded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> while</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> awaiting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> headers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     6m41s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            Error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ErrImagePull</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   BackOff</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    6m40s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            Back-off</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;quay.io/cilium/alpine-curl:v1.7.0@sha256:ccd0ed9da1752bab88a807647ad3cec65d460d281ab88988b60d70148783e751&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Failed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     6m40s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                kubelet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            Error:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ImagePullBackOff</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Normal</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Pulling</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    6m27s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (x2 </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">over</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 19m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)  kubelet            Pulling image </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;quay.io/cilium/alpine-curl:v1.7.0@sha256:ccd0ed9da1752bab88a807647ad3cec65d460d281ab88988b60d70148783e751&quot;</span></span></code></pre></div><p>çœ‹èµ·æ¥ä¹Ÿè®¸æ˜¯ Homelab è¿™è¾¹ç½‘ç»œæœ‰ç‚¹çˆ†ç‚¸ã€‚åœ¨è°ƒæ•´äº† Clash èŠ‚ç‚¹é€‰æ‹©ä¹‹åä¾ç„¶ä¸è¡Œï¼Œæˆ‘ä»¬å¾—æ·±å…¥è°ƒæŸ¥ä¸€ä¸‹ã€‚</p><h3 id="æ’æŸ¥-coredns-å’Œç›¸å…³çš„-pod" tabindex="-1">æ’æŸ¥ coredns å’Œç›¸å…³çš„ Pod <a class="header-anchor" href="#æ’æŸ¥-coredns-å’Œç›¸å…³çš„-pod" aria-label="Permalink to &quot;æ’æŸ¥ coredns å’Œç›¸å…³çš„ Pod&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pods</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                           READY</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             RESTARTS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cilium-mdtzl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                   1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              8h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cilium-mmh9j</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                   1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              8h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cilium-operator-8bf9464bf-xdb7l</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (8h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)     8h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cilium-rqhvs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                   1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              8h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">coredns-b5648d655-d8ltm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                        0/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ImagePullBackOff</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              11h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">coredns-b5648d655-p5j5d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                        0/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ImagePullBackOff</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              8h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hubble-relay-85cff75759-hlpk4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                  0/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ErrImagePull</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              7h19m</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hubble-ui-78b9fbc9cb-hqmw6</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                     0/2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ErrImagePull</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              7h19m</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-apiserver-node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                           1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            19</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (9h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-controller-manager-node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                  1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            30</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (8h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-proxy-bjrg4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                               1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            19</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (9h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-proxy-h6cqw</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                               1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            17</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (9h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-proxy-s9pbw</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                               1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            16</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (9h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-scheduler-node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                           1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            28</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (8h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nodelocaldns-56lvx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                             1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            16</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (9h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nodelocaldns-h5hf4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                             1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            17</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (9h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nodelocaldns-rk2fh</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                             1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            19</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (9h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)    308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">openebs-localpv-provisioner-57bbf864d5-2hkzr</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   0/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     ErrImagePull</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">       15</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (10h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   308d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">snapshot-controller-0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                          1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">            15</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (10h </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ago</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)   308d</span></span></code></pre></div><p>çœ‹èµ·æ¥ <code>coredns</code> è‡ªå·±å°±èµ·ä¸æ¥äº†ã€‚æ·±å…¥æŸ¥çœ‹ä¸€ä¸‹ <code>coredns</code> è¿™ä¸ª Pod çš„ <code>ImagePullBackOff</code> çš„åŸå› ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>$ sudo kubectl describe pods coredns-b5648d655-d8ltm -n kube-system</span></span>
<span class="line"><span></span></span>
<span class="line"><span>...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Tolerations:                 CriticalAddonsOnly op=Exists</span></span>
<span class="line"><span>                             node-role.kubernetes.io/control-plane:NoSchedule</span></span>
<span class="line"><span>                             node-role.kubernetes.io/master:NoSchedule</span></span>
<span class="line"><span>                             node.kubernetes.io/not-ready:NoExecute op=Exists for 300s</span></span>
<span class="line"><span>                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s</span></span>
<span class="line"><span>Events:</span></span>
<span class="line"><span>  Type     Reason   Age                    From     Message</span></span>
<span class="line"><span>  ----     ------   ----                   ----     -------</span></span>
<span class="line"><span>  Warning  Failed   18m (x77 over 8h)      kubelet  Failed to pull image &quot;coredns/coredns:1.8.0&quot;: rpc error: code = Unknown desc = Error response from daemon: Get &quot;https://registry-1.docker.io/v2/&quot;: net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)</span></span>
<span class="line"><span>  Normal   Pulling  13m (x86 over 8h)      kubelet  Pulling image &quot;coredns/coredns:1.8.0&quot;</span></span>
<span class="line"><span>  Normal   BackOff  3m28s (x1857 over 8h)  kubelet  Back-off pulling image &quot;coredns/coredns:1.8.0&quot;</span></span></code></pre></div><h3 id="å®šä½åˆ°ç½‘ç»œé—®é¢˜" tabindex="-1">å®šä½åˆ°ç½‘ç»œé—®é¢˜ <a class="header-anchor" href="#å®šä½åˆ°ç½‘ç»œé—®é¢˜" aria-label="Permalink to &quot;å®šä½åˆ°ç½‘ç»œé—®é¢˜&quot;">â€‹</a></h3><p>çœ‹èµ·æ¥ä¸å…‰æ˜¯ <code>quay.io</code> çš„é•œåƒæœåŠ¡æ— æ³•è®¿é—®åˆ°ï¼Œ<code>docker.io</code> ä¹Ÿä¸è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç”¨ <code>curl</code> ç›´æ¥è¯•è¯•çœ‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://registry-1.docker.io/v2/</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -I</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (6) Could not resolve host: registry-1.docker.io</span></span></code></pre></div><p>å‘ç°æ— æ³•è§£æäº†ï¼Œé‚£æˆ‘ä»¬çœ‹çœ‹æœ¬æœºçš„ DNS å‘¢ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dig</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> registry-1.docker.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @8.8.8.8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> DiG</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9.16.37-Debian</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> registry-1.docker.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @8.8.8.8</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; global options: +cmd</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; Got answer:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 19821</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; flags: qr aa rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; QUESTION SECTION:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;registry-1.docker.io.		IN	A</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; ANSWER SECTION:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">registry-1.docker.io.	1	IN	A	18.215.138.58</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">registry-1.docker.io.	1	IN	A	52.1.184.176</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">registry-1.docker.io.	1	IN	A	34.194.164.123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; Query time: 3 msec</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; SERVER: 8.8.8.8#53(8.8.8.8)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; WHEN: Sun Oct 01 09:13:02 CST 2023</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; MSG SIZE  rcvd: 86</span></span></code></pre></div><p>æ­£å¸¸ï¼Œä½†æ˜¯ <code>10.0.0.1</code> çš„ Homelab Gateway è·¯ç”±å™¨çš„ DNS è¿æ¥ä¸ä¸Šäº†ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dig</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> registry-1.docker.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @10.0.0.1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> DiG</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9.16.37-Debian</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> registry-1.docker.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @10.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; global options: +cmd</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">;; connection timed out; no servers could be reached</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.0.1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">PING</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (10.0.0.1) 56(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">84</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) bytes of data.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10.0.0.1:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">63</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.695</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10.0.0.1:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">63</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.777</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10.0.0.1:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">63</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.536</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10.0.0.1:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">63</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.754</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">^C</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">---</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ping</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> statistics</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> ---</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> packets</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> transmitted,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> received,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> packet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loss,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5998ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rtt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> min/avg/max/mdev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 0.536/0.685/0.777/0.078</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ms</span></span></code></pre></div><p>èƒ½ ping é€šï¼Œä½†æ˜¯å¦‚æœç”¨ mtr çœ‹çš„è¯èƒ½å‘ç° 10.0.0.1 çš„ hostname ä¸æ˜¯æˆ‘ä»¬çš„ Gateway è·¯ç”±å™¨ä¼šæ­£å¸¸è¿”å›çš„ hostnameï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (10.0.2.208) -</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> 10.0.0.1                                                                                                                                                     2023-10-01T09:18:40+0800</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Keys:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Help</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Display</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mode</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> statistics</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Order</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> fields</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   quit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                                                                                                                                                                   Packets</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">               Pings</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                                                                                                                                            Loss%</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Snt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Last</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Avg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Best</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  Wrst</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> StDev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 1.</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (waiting </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 2.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                                                                                                                                                      0.0%</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     4</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    0.8</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0.8</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0.7</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0.9</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   0.0</span></span></code></pre></div><p>åº”è¯¥æ˜¯è·¯ç”±åˆ°äº†åˆ«çš„åœ°æ–¹å»äº†ï¼Œå¯ä»¥å†æ£€æŸ¥ä¸€ä¸‹è·¯ç”±è¡¨ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> route</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> via</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> eth0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">10.0.0.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> via</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.2.208</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium_host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kernel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.2.208</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mtu</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1450</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">10.0.0.0/16</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> eth0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kernel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scope</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.0.124</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">10.0.1.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> via</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.2.208</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium_host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kernel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.2.208</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mtu</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1450</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">10.0.2.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> via</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.2.208</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium_host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kernel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.0.2.208</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">10.0.2.208</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium_host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kernel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scope</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> link</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">10.24.0.0/24</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> eth1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kernel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scope</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10.24.0.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">172.17.0.0/16</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> proto</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kernel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scope</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> src</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 172.17.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> linkdown</span></span></code></pre></div><p>ç¡®å®æ˜¯è¿™æ ·ã€‚</p>`,52),R=l(`<blockquote><p><code>10.0.0.0/8</code>Â æ˜¯é»˜è®¤çš„ Pod CIDRã€‚å¦‚æœæ‚¨çš„èŠ‚ç‚¹ç½‘ç»œä½äºåŒä¸€èŒƒå›´å†…ï¼Œæ‚¨å°†å¤±å»ä¸å…¶ä»–èŠ‚ç‚¹çš„è¿æ¥ã€‚å‡å®šæ‰€æœ‰å‡ºå£æµé‡éƒ½é’ˆå¯¹ç»™å®šèŠ‚ç‚¹ä¸Šçš„ Podï¼Œè€Œä¸æ˜¯å…¶ä»–èŠ‚ç‚¹ã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è§£å†³ï¼š</p><ul><li>æ˜¾å¼å°†Â <code>clusterPoolIPv4PodCIDRList</code>Â è®¾ç½®ä¸ºä¸å†²çªçš„ CIDR</li><li>ä¸ºæ‚¨çš„èŠ‚ç‚¹ä½¿ç”¨ä¸åŒçš„ CIDR</li></ul></blockquote><p>OKï¼Œé‚£æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯çœŸçš„æ˜¯è¿™æ ·ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ciliumnodes</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    CILIUMINTERNALIP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   INTERNALIP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   10.0.2.208</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         10.24.0.2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    14h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   10.0.1.157</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">         10.24.0.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    14h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node3</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   10.0.0.78</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">          10.24.0.5</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    14h</span></span></code></pre></div><p>ä¸å¤ªå¯¹åŠ²ï¼Œæˆ‘ä»¬ describe çœ‹çœ‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> describe</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ciliumnodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         node1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Namespace:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Labels:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       beta.kubernetes.io/arch=amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              beta.kubernetes.io/os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/arch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=node1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=linux</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">              node-access</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ssh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              node-role.kubernetes.io/control-plane</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              node-role.kubernetes.io/master</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              node-role.kubernetes.io/worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              node.kubernetes.io/exclude-from-external-load-balancers</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Annotations:</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Version:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  cilium.io/v2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Kind:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         CiliumNode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Spec:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Addresses:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Ip:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    10.24.0.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  InternalIP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Ip:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    10.0.2.208</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  CiliumInternalIP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Alibaba</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cloud:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Azure:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Encryption:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Eni:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Health:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    ipv4:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  10.0.2.140</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ingress:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ipam:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rs:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      10.0.2.0/24</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Pools:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Status:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Alibaba</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cloud:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Azure:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Eni:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ipam:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Status:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         node2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Namespace:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Labels:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       beta.kubernetes.io/arch=amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              beta.kubernetes.io/os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/arch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=node2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=linux</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">              node-access</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ssh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              node-role.kubernetes.io/worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Annotations:</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Version:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  cilium.io/v2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Kind:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         CiliumNode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Spec:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Addresses:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Ip:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    10.24.0.4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  InternalIP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Ip:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    10.0.1.157</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  CiliumInternalIP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Alibaba</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cloud:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Azure:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Encryption:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Eni:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Health:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    ipv4:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  10.0.1.242</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ingress:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ipam:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rs:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      10.0.1.0/24</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Pools:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Status:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Alibaba</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cloud:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Azure:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Eni:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ipam:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Status:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         node3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Namespace:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Labels:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       beta.kubernetes.io/arch=amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              beta.kubernetes.io/os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/arch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=node3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              kubernetes.io/os</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=linux</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">              node-access</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ssh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">              node-role.kubernetes.io/worker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Annotations:</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Version:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  cilium.io/v2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Kind:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         CiliumNode</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Spec:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Addresses:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Ip:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    10.24.0.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  InternalIP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Ip:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    10.0.0.78</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  CiliumInternalIP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Alibaba</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cloud:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Azure:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Encryption:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Eni:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Health:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    ipv4:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  10.0.0.87</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ingress:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ipam:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Pod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Rs:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      10.0.0.0/24</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Pools:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Status:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Alibaba</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cloud:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Azure:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Eni:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  Ipam:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    Operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Status:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Events:</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div>`,7),w=s("h2",{id:"ä¸ºä¿®å¤-cidr-å†²çªé‡è£…-cilium",tabindex:"-1"},[i("ä¸ºä¿®å¤ CIDR å†²çªé‡è£… Cilium "),s("a",{class:"header-anchor",href:"#ä¸ºä¿®å¤-cidr-å†²çªé‡è£…-cilium","aria-label":'Permalink to "ä¸ºä¿®å¤ CIDR å†²çªé‡è£… Cilium"'},"â€‹")],-1),N=s("h4",{id:"å¸è½½-cilium-1",tabindex:"-1"},[i("å¸è½½ Cilium "),s("a",{class:"header-anchor",href:"#å¸è½½-cilium-1","aria-label":'Permalink to "å¸è½½ Cilium"'},"â€‹")],-1),K=l(`<h4 id="æ£€æŸ¥ç½‘ç»œæ˜¯å¦æ¢å¤" tabindex="-1">æ£€æŸ¥ç½‘ç»œæ˜¯å¦æ¢å¤ <a class="header-anchor" href="#æ£€æŸ¥ç½‘ç»œæ˜¯å¦æ¢å¤" aria-label="Permalink to &quot;æ£€æŸ¥ç½‘ç»œæ˜¯å¦æ¢å¤&quot;">â€‹</a></h4><p>æ¸…ç†ä¹‹åæˆ‘ä»¬å†æ¬¡æ£€æŸ¥ç½‘ç»œè”é€šæ€§ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ping</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baidu.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">PING</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baidu.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (110.242.68.66) 56(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">84</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) bytes of data.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 110.242.68.66</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (110.242.68.66): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.564</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 110.242.68.66</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (110.242.68.66): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.569</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 110.242.68.66</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (110.242.68.66): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.514</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 110.242.68.66</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (110.242.68.66): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.874</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">^C</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baidu.com</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ping</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> statistics</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> ---</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> packets</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> transmitted,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> received,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> packet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loss,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2998ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rtt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> min/avg/max/mdev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 0.514/0.630/0.874/0.142</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ms</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> baidu.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -I</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP/1.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Date:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Fri,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 06</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 03:43:26</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Server:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Apache</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Last-Modified:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Tue,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Jan</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2010</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 13:48:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ETag:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;51-47cf7e6ee8400&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Accept-Ranges:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Length:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 81</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Cache-Control:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> max-age=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">86400</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Expires:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Sat,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 07</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 03:43:26</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Connection:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Keep-Alive</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> text/html</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ping</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> google.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">PING</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> google.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (142.250.204.46) 56(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">84</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) bytes of data.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hkg07s38-in-f14.1e100.net</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (142.250.204.46): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.660</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hkg07s38-in-f14.1e100.net</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (142.250.204.46): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.570</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hkg07s38-in-f14.1e100.net</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (142.250.204.46): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.611</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hkg07s38-in-f14.1e100.net</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (142.250.204.46): </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">icmp_seq</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> ttl</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">62</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> time</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0.609</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">^C</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> google.com</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ping</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> statistics</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> ---</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> packets</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> transmitted,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> received,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> packet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loss,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3002ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rtt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> min/avg/max/mdev</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 0.570/0.612/0.660/0.031</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ms</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> google.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -I</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP/1.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 301</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Moved</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Permanently</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Location:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://www.google.com/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> text/html</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">charset</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">UTF-8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Security-Policy-Report-Only:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> object-src</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;none&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">base-uri</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;self&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">script-src</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;nonce-TZgO-fIhEQR2thcKEH04rw&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;strict-dynamic&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;report-sample&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;unsafe-eval&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;unsafe-inline&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">report-uri</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://csp.withgoogle.com/csp/gws/other-hp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Date:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Fri,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 06</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 03:43:46</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Expires:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Sun,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 05</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Nov</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 03:43:46</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Cache-Control:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> public,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> max-age=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2592000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Server:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gws</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Length:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 219</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">X-XSS-Protection:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">X-Frame-Options:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SAMEORIGIN</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP/1.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> text/html</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">charset</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ISO-8859-1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Security-Policy-Report-Only:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> object-src</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;none&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">base-uri</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;self&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">script-src</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;nonce-Ln-1anLLMO6ubPnv34o45g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;strict-dynamic&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;report-sample&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;unsafe-eval&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;unsafe-inline&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">report-uri</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://csp.withgoogle.com/csp/gws/other-hp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">P3P:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Date:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Fri,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 06</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 03:43:46</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Server:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gws</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">X-XSS-Protection:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">X-Frame-Options:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SAMEORIGIN</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Transfer-Encoding:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chunked</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Expires:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Fri,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 06</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 03:43:46</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Cache-Control:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> private</span></span></code></pre></div><p>å‘ç°æ­£å¸¸äº†ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¼€å§‹é‡æ–°å®‰è£…ã€‚</p><h4 id="å¡«å……é…ç½®" tabindex="-1">å¡«å……é…ç½® <a class="header-anchor" href="#å¡«å……é…ç½®" aria-label="Permalink to &quot;å¡«å……é…ç½®&quot;">â€‹</a></h4><p>æ–°çš„å®‰è£…æµç¨‹éœ€è¦èµ° Helmï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦ç»™ Cilium çš„ Helm éƒ¨ç½²å‚æ•°é…ç½®ä¸€äº›é¢å¤–ä¿¡æ¯æ¥é˜»æ­¢ Cilium ä½¿ç”¨ 10.0.0.0/8 ä½œä¸º CIDRï¼Œæ–°å»º <code>cilium-values-migration.yaml</code> æ–‡ä»¶ï¼š</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># é»˜è®¤æ‰“å¼€ Hubble çš„ Relay å’Œ UIï¼Œè¿™æ ·ä¹‹åæˆ‘ä»¬å°±ä¸ç”¨å†å•ç‹¬æ‰§è¡Œ cilium hubble enable æ¥å¯ç”¨äº†</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">hubble</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  relay</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  ui</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">ipam</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # å¯ä»¥é˜…è¯» https://docs.cilium.io/en/stable/network/concepts/ipam/kubernetes/ äº†è§£æ›´å¤š</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;kubernetes&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  operator</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # æ­¤å¤„çš„å­—é¢é‡éœ€è¦å’Œæˆ‘ä»¬çš„ Kubernetes åœ¨åˆ›å»ºçš„æ—¶å€™æŒ‡å®šçš„ Pod CIDR ç›¸åŒ</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    clusterPoolIPv4PodCIDRList</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;10.244.0.0/16&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># å¦‚æœä¸Šé¢æŒ‡å®šäº† ipam.operator.clusterPoolIPv4PodCIDRList é‚£ä¹ˆè¿™é‡Œå°±ä¹Ÿå¾—é…ç½®æˆä¸€æ ·çš„å­—é¢é‡</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">ipv4NativeRoutingCIDR</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;10.244.0.0/16&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># å¦‚æœ tunnel ä¿æŒæ‰“å¼€ï¼Œè€Œä¸”æˆ‘ä»¬å¸è½½äº† kube-proxyï¼Œé‚£ä¹ˆéœ€è¦å¼€å¯ä¸‹é¢çš„ä¸¤ä¸ªé€‰é¡¹</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">enableIPv4Masquerade</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">enableIPv6Masquerade</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span></code></pre></div>`,10),O=s("code",null,"kubeProxyReplacement",-1),M=l('<blockquote><p>Cilium çš„ kube-proxy æ›¿æ¢ä¾èµ–äº socket-LB åŠŸèƒ½ï¼Œè¿™éœ€è¦ v4.19.57ã€v5.1.16ã€v5.2.0 æˆ–æ›´é«˜ç‰ˆæœ¬çš„ Linux å†…æ ¸ã€‚ Linux å†…æ ¸ v5.3 å’Œ v5.8 æ·»åŠ äº†å…¶ä»–åŠŸèƒ½ï¼ŒCilium å¯ä»¥ä½¿ç”¨è¿™äº›åŠŸèƒ½æ¥è¿›ä¸€æ­¥ä¼˜åŒ– kube-proxy æ›¿æ¢å®ç°ã€‚ è¯·æ³¨æ„ï¼Œv5.0.y å†…æ ¸æ²¡æœ‰è¿è¡Œ kube-proxy æ›¿æ¢æ‰€éœ€çš„ä¿®å¤ç¨‹åºï¼Œå› ä¸ºæ­¤æ—¶ v5.0.y ç¨³å®šå†…æ ¸å·²ç»ˆæ­¢ç”Ÿå‘½ (EOL)ï¼Œå¹¶ä¸”ä¸å†åœ¨å†…æ ¸ä¸Šç»´æŠ¤.orgã€‚å¯¹äºå•ç‹¬çš„å‘è¡Œç‰ˆç»´æŠ¤çš„å†…æ ¸ï¼Œæƒ…å†µå¯èƒ½æœ‰æ‰€ä¸åŒã€‚å› æ­¤ï¼Œè¯·æ£€æŸ¥æ‚¨çš„å‘è¡Œç‰ˆã€‚</p></blockquote><p>æ‰€ä»¥è¿˜è¯·ç¡®ä¿ <code>uname -a</code> ä¸­è¾“å‡ºçš„å†…æ ¸ç‰ˆæœ¬æ»¡è¶³éœ€æ±‚ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œå¯ä»¥æ³¨é‡Šæˆ–è€…åˆ æ‰æ­¤è¡Œã€‚</p><p>ç¡®è®¤æ— è¯¯ä¹‹åæˆ‘ä»¬ç”¨ä¸‹é¢çš„å‘½ä»¤è¾“å‡º Helm å®‰è£…ç”¨çš„é…ç½®æ–‡ä»¶ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --version</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1.14.2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --values</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-values-migration.yaml</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dry-run-helm-values</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-values-initial.yaml</span></span></code></pre></div>',4),G=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-values-initial.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cluster:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubernetes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">enableIPv4Masquerade:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">enableIPv6Masquerade:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hubble:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  relay:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    enabled:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  ui:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    enabled:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ipam:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  mode:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubernetes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  operator:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    clusterPoolIPv4PodCIDRList:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10.244.0.0/16</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ipv4NativeRoutingCIDR:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10.244.0.0/16</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ³¨æ„ç¡®è®¤ä¸€ä¸‹ Kubernetes API Server çš„ IP æ˜¯å¦æ˜¯è¿™ä¸ª</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">k8sServiceHost:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> lb.kubesphere.local</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ³¨æ„ç¡®è®¤ä¸€ä¸‹ Kubernetes API Server çš„ç«¯å£æ˜¯å¦æ˜¯è¿™ä¸ª</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">k8sServicePort:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 6443</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubeProxyReplacement:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> strict</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">operator:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  replicas:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">serviceAccounts:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  cilium:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  operator:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-operator</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tunnel:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vxlan</span></span></code></pre></div><h4 id="ç§»é™¤åŸæœ¬çš„-kube-proxy" tabindex="-1">ç§»é™¤åŸæœ¬çš„ <code>kube-proxy</code> <a class="header-anchor" href="#ç§»é™¤åŸæœ¬çš„-kube-proxy" aria-label="Permalink to &quot;ç§»é™¤åŸæœ¬çš„ \`kube-proxy\`&quot;">â€‹</a></h4>`,2),H={class:"tip custom-block github-alert"},L=s("p",{class:"custom-block-title"},"å¦‚æœä½ é€‰æ‹©ä½¿ç”¨ `kubeProxyReplacement` å‚æ•°æ›¿ä»£ `kube-proxy`",-1),$=s("code",null,"kube-proxy",-1),V=s("code",null,"kube-proxy",-1),U=l(`<h4 id="å®‰è£…-cilium-2" tabindex="-1">å®‰è£… Cilium <a class="header-anchor" href="#å®‰è£…-cilium-2" aria-label="Permalink to &quot;å®‰è£… Cilium&quot;">â€‹</a></h4><p>å¦‚æœä½ è¿˜æ²¡æœ‰æ·»åŠ  Cilium çš„ Repoï¼Œå¯ä»¥åŠ ä¸€ä¸‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://helm.cilium.io/</span></span></code></pre></div><p>ç„¶åå®‰è£…ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium/cilium</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --values</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium-values-initial.yaml</span></span></code></pre></div><p>ç„¶åæˆ‘ä»¬å†ç­‰ç­‰çœ‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --wait</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    /Â¯Â¯\\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /Â¯Â¯</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\_</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">_/Â¯Â¯</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\ </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Cilium:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> \\__/Â¯Â¯\\__/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Operator:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> /Â¯Â¯\\__/Â¯Â¯\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Envoy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DaemonSet:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    disabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (using </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">embedded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> \\__/Â¯Â¯\\__/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Hubble</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Relay:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    \\__/</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       ClusterMesh:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        disabled</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             cilium-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Desired:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Available:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             hubble-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          Desired:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Available:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">DaemonSet</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">              cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             Desired:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3/3,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Available:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 3/3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             hubble-relay</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       Desired:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ready:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Available:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Containers:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            hubble-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          Running:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       hubble-relay</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       Running:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             Running:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       cilium-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    Running:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Cluster</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Pods:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          10/10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> managed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cilium</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Helm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    1.14.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Image</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> versions</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">         cilium-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    quay.io/cilium/operator-generic:v1.14.2@sha256:52f70250dea22e506959439a7c4ea31b10fe8375db62f5c27ab746e3a2af866d:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       hubble-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          quay.io/cilium/hubble-ui:v0.12.0@sha256:1c876cfa1d5e35bc91e1025c9314f922041592a88b03313c22c1f97a5d2ba88f:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       hubble-ui</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          quay.io/cilium/hubble-ui-backend:v0.12.0@sha256:8a79a1aad4fc9c2aa2b3e4379af0af872a89fcec9d99e117188190671c66fc2e:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       hubble-relay</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       quay.io/cilium/hubble-relay:v1.14.2@sha256:a89030b31f333e8fb1c10d2473250399a1a537c27d022cd8becc1a65d1bef1d6:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">                       cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             quay.io/cilium/cilium:v1.14.2@sha256:6263f3a3d5d63b267b538298dbeb5ae87da3efacf09a2c620446c873ba807d35:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span></span></code></pre></div><p>ç°åœ¨å†æ¥æµ‹è¯•çš„è¯å°±æ˜¯æ­£å¸¸çš„äº†ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cilium</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connectivity</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">âœ…</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> All</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 42</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tests</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (295 </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">actions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) successful, 13 tests skipped, 0 scenarios skipped.</span></span></code></pre></div><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2>`,10);function W(z,j,Q,X,Y,Z){const t=k("NolebasePageProperties"),n=k("VPNolebaseInlineLinkPreview"),p=k("NolebaseGitContributors"),e=k("NolebaseGitChangelog");return F(),d("div",null,[C,a(t),y,s("table",o,[c,s("tbody",null,[u,s("tr",null,[A,b,s("td",null,[a(n,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://v1-28.docs.kubernetes.io/")]),_:1})])]),s("tr",null,[m,E,s("td",null,[a(n,{href:"https://docs.docker.com/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://docs.docker.com/")]),_:1})])]),B,v,f,s("tr",null,[D,_,s("td",null,[a(n,{href:"https://docs.cilium.io/en/v1.14/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://docs.cilium.io/en/v1.14/")]),_:1})])]),s("tr",null,[q,x,s("td",null,[a(n,{href:"https://helm.sh/docs/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://helm.sh/docs/")]),_:1})])])])]),I,P,s("p",null,[i("æ ¹æ® "),a(n,{href:"https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Cilium Quick Installation")]),_:1}),i(" çš„è¦æ±‚è¿è¡Œï¼š")]),T,s("p",null,[i("å¯ä»¥æ ¹æ®æ–‡æ¡£"),a(n,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ KubeKey å®‰è£…çš„ Calico.html"},{default:h(()=>[i("å®Œå…¨å¸è½½ä½¿ç”¨ KubeKey å®‰è£…çš„ Calico")]),_:1}),i(" ä¸­å»ºè®®çš„æ–¹å¼å’Œæ­¥éª¤æ¥è¿›è¡Œåˆ é™¤ã€‚")]),S,s("p",null,[i("æˆ‘ä»¬é‡æ–°ç¿»é˜…æ–‡æ¡£ "),a(n,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#ipam-crd-cluster-pool",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Cluster Scope (Default) â€” Cilium 1.14.2 documentation")]),_:1}),i(": å¯ä»¥å‘ç°æ–‡æ¡£ä¸­æè¿°è¯´ï¼š")]),R,s("p",null,[i("æ‰€ä»¥æ ¹æ®æ–‡æ¡£ "),a(n,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-migration/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Migrating a cluster to Cilium â€” Cilium 1.14.2 documentation")]),_:1}),i(" çš„è¯´æ˜ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨å®‰è£…çš„æ—¶å€™é¢å¤–é…ç½®ä¸€ä¸‹ CIDR æ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),w,N,s("p",null,[i("é‚£æˆ‘ä»¬ç°åœ¨å…ˆæ ¹æ®"),a(n,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium.html"},{default:h(()=>[i("å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium")]),_:1}),i(" æ–‡æ¡£çš„æŒ‡å¼•å®Œå…¨åˆ é™¤ cilium ç„¶åå†è¯•ä¸€æ¬¡ã€‚")]),K,s("p",null,[i("æ³¨æ„è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œé¢çš„ "),O,i(" å­—æ®µé…ç½®ï¼Œæ ¹æ® Cilium çš„ "),a(n,{href:"https://docs.cilium.io/en/stable/network/kubernetes/kubeproxy-free/#kubeproxy-free",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Kubernetes Without kube-proxy")]),_:1}),i(" æ–‡æ¡£ï¼š")]),M,s("p",null,[i("å¯ä»¥é€šè¿‡ "),a(n,{href:"/ç¬”è®°/ğŸ“Ÿ ç»ˆç«¯/Linux å‘½ä»¤/æ–‡æ¡£è¯»å†™/cat è¾“å‡ºæ–‡ä»¶.html"},{default:h(()=>[i("cat è¾“å‡ºæ–‡ä»¶")]),_:1}),i(" å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹ï¼š")]),G,s("div",H,[L,s("p",null,[i("å¯ä»¥è·Ÿéš"),a(n,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.html"},{default:h(()=>[i("å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ "),$]),_:1}),i(" æ–‡æ¡£çš„æŒ‡å¼•å¤‡ä»½å’Œåˆ é™¤ "),V,i(" ç›¸å…³çš„é…ç½®å’Œèµ„æºã€‚")])]),U,s("ul",null,[s("li",null,[a(n,{href:"https://tinychen.com/20230201-k8s-15-migrate-cni-from-calico-to-cilium/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("k8sç³»åˆ—15-calicoæœ‰æŸè¿ç§»è‡³cilium - TinyChen's Studio - äº’è”ç½‘æŠ€æœ¯å­¦ä¹ å·¥ä½œç»éªŒåˆ†äº«")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/86762",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("coredns [ERROR] plugin/errors: 2 read udp 10.244.235.249:55567->10.96.0.10:53: i/o timeout Â· Issue #86762 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/111105",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("When using cilium as Kubernetes network CNI, the coredns is running but not-ready, healthcheck failed and plugin/errors HINFO: read udp i/o timeout Â· Issue #111105 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://izsk.me/2023/06/03/cilium-on-kubernetes-install/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("ciliumåœ¨kubernetesä¸­çš„ç”Ÿäº§å®è·µäºŒ(ciliuméƒ¨ç½²) | Z.S.K.'s Records")]),_:1})]),s("li",null,[a(n,{href:"https://isovalent.com/blog/post/tutorial-migrating-to-cilium-part-1/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Tutorial: How to Migrate to Cilium (Part 1) - Isovalent")]),_:1})]),s("li",null,[a(n,{href:"https://kubernetes.feisky.xyz/extension/network/cilium",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Cilium - KubernetesæŒ‡å—")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/86762",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("coredns [ERROR] plugin/errors: 2 read udp 10.244.235.249:55567->10.96.0.10:53: i/o timeout Â· Issue #86762 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/cilium/cilium/issues/13308",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("DNS rules don't work anymore on kubernetes 1.18 with cilium 1.8 Â· Issue #13308 Â· cilium/cilium")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/cilium/cilium/issues/23872",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("I set ipam.operator.clusterPoolIPv4PodCIDR=10.1.0.0/16 why the pod ip allocated is still 10.0 Â· Issue #23872 Â· cilium/cilium")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/111105",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("When using cilium as Kubernetes network CNI, the coredns is running but not-ready, healthcheck failed and plugin/errors HINFO: read udp i/o timeout Â· Issue #111105 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://serverfault.com/questions/1103034/kubernetes-nodes-are-not-reachable-and-cannot-reach-local-network-after-installi",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("linux - Kubernetes Nodes are not reachable and cannot reach local network after installing cilium - Server Fault")]),_:1})]),s("li",null,[a(n,{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/#pod-network",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Creating a cluster with kubeadm | Kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://stackoverflow.com/questions/49112336/container-runtime-network-not-ready-cni-config-uninitialized",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("kubernetes - Container runtime network not ready: cni config uninitialized - Stack Overflow")]),_:1})]),s("li",null,[a(n,{href:"https://www.jianshu.com/p/896ec00b9661",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("åˆ é™¤cilium ebpf/bpfç¨‹åº/å®Œå…¨å¸è½½cilium")]),_:1})]),s("li",null,[a(n,{href:"https://gist.github.com/aliasmee/6c7e5fb433c8fd303b07f0081fc83677",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("æ— æ³•å½»åº•æ¸…ç†ciliumç•™ä¸‹çš„é—®é¢˜")]),_:1})]),s("li",null,[a(n,{href:"https://www.chenshaowen.com/blog/how-to-use-cilium-to-replace-calico.html",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("ä½¿ç”¨ Cilium æ›¿æ¢ Calico â€“ é™ˆå°‘æ–‡çš„ç½‘ç«™")]),_:1})]),s("li",null,[a(n,{href:"https://kubernetes.io/docs/tasks/debug/debug-cluster/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Troubleshooting Clusters | Kubernetes")]),_:1})])]),a(p),a(e)])}const is=r(g,[["render",W]]);export{ss as __pageData,is as default};
