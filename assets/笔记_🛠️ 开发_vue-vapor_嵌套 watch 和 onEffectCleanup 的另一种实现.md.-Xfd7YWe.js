import{_ as r,c as d,I as a,j as i,a as s,w as k,au as h,D as n,o as B}from"./chunks/framework.RMxno62p.js";const T=JSON.parse('{"title":"åµŒå¥— watch å’Œ onEffectCleanup çš„å¦ä¸€ç§å®ç°","description":"","frontmatter":{},"headers":[],"relativePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/vue-vapor/åµŒå¥— watch å’Œ onEffectCleanup çš„å¦ä¸€ç§å®ç°.md","filePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/vue-vapor/åµŒå¥— watch å’Œ onEffectCleanup çš„å¦ä¸€ç§å®ç°.md"}'),g={name:"ç¬”è®°/ğŸ› ï¸ å¼€å‘/vue-vapor/åµŒå¥— watch å’Œ onEffectCleanup çš„å¦ä¸€ç§å®ç°.md"},o=i("h1",{id:"åµŒå¥—-watch-å’Œ-oneffectcleanup-çš„å¦ä¸€ç§å®ç°",tabindex:"-1"},[s("åµŒå¥— watch å’Œ onEffectCleanup çš„å¦ä¸€ç§å®ç° "),i("a",{class:"header-anchor",href:"#åµŒå¥—-watch-å’Œ-oneffectcleanup-çš„å¦ä¸€ç§å®ç°","aria-label":'Permalink to "åµŒå¥— watch å’Œ onEffectCleanup çš„å¦ä¸€ç§å®ç°"'},"â€‹")],-1),c=h(`<p>åœ¨æ€è€ƒå¦‚ä½•å®ç° <code>v-if</code> æ—¶æƒ³åˆ°äº†è¿™ç§å®ç°æ–¹å¼ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// in the generated code</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> render</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">  const</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;"> t0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;&lt;div&gt;&lt;/div&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // &lt;div v-if=&quot;expression&quot;&gt;{{bar}}&lt;/div&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  renderWatch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> !!(</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/* vIfExpression */</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> t1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      renderEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        setText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">n1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">bar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> t0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div>`,2),y=i("code",null,"watchEffect",-1),E=h('<p>å®ç° Watch API ä¸­åµŒå¥— Watch API è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦æŠŠ <code>CallBack</code> åŒ…åœ¨ <code>EffectScope</code> é‡Œé¢ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ <code>cleanup</code> æ—¶è°ƒç”¨ <code>effectScope.stop()</code>ï¼Œç„¶åçªç„¶å‘ç°è¿™ç§æƒ…å†µä¸‹ <code>onScopeDispose</code> å®Œå…¨å¯ä»¥å–ä»£ <code>onEffectCleanup</code> çš„ä½œç”¨ã€‚</p><p>ä½†æ˜¯è€ƒè™‘åˆ° <code>onScopeDispose</code> çš„åç§°åœ¨ <code>watch</code> ä¸­ä½¿ç”¨å®¹æ˜“äº§ç”Ÿè¯¯è§£ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><h4 id="æ–¹æ¡ˆ-1" tabindex="-1">æ–¹æ¡ˆ 1 <a class="header-anchor" href="#æ–¹æ¡ˆ-1" aria-label="Permalink to &quot;æ–¹æ¡ˆ 1&quot;">â€‹</a></h4><p>ç”¨ <code>const onEffectCleanup = onScopeDispose</code> çš„åŠæ³•åˆ›å»ºä¸€ä¸ªåˆ«åï¼Œä½†æ˜¯å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p><h4 id="æ–¹æ¡ˆ-2" tabindex="-1">æ–¹æ¡ˆ 2 <a class="header-anchor" href="#æ–¹æ¡ˆ-2" aria-label="Permalink to &quot;æ–¹æ¡ˆ 2&quot;">â€‹</a></h4><p>ç›´æ¥æŠŠ <code>onScopeDispose</code> æ”¹åæˆ <code>onCleanup</code>ã€‚è¿™æ ·çš„åå­—æ›´é€šç”¨ï¼Œå› ä¸ºå®ƒåŒæ—¶å¯ä»¥ç”¨åœ¨ <code>EffectScope</code>, <code>watch</code>/<code>watchEffect</code> å’Œ <code>setup</code> ä¸­ï¼ˆç”±äº <code>setup()</code> è¿˜ä¸ºç»„ä»¶åˆ›å»ºäº†ä¸€ä¸ªä½œç”¨åŸŸï¼Œå› æ­¤å½“æ²¡æœ‰åˆ›å»ºæ˜¾å¼æ•ˆæœä½œç”¨åŸŸæ—¶ï¼Œå®ƒä¸ <code>onUnmounted()</code> ç­‰æ•ˆã€‚ï¼‰ã€‚è€ƒè™‘åˆ°å…¼å®¹æ€§ï¼Œå¯ä»¥ä¿ç•™åŸæœ‰çš„ <code>onScopeDispose</code> ä½œä¸º <code>onCleanup</code> çš„åˆ«åå¹¶æ ‡è®°ä¸ºå°†è¢«å¼ƒç”¨ã€‚</p>',6),F=i("strong",null,"Solid",-1),C=h('<h3 id="ç ´åæ€§" tabindex="-1">ç ´åæ€§ <a class="header-anchor" href="#ç ´åæ€§" aria-label="Permalink to &quot;ç ´åæ€§&quot;">â€‹</a></h3><p>åœ¨ Watch API çš„ <code>CallBack</code> ä¸­åŒ…è£¹ <code>EffectScope</code> å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›ç ´åæ€§ï¼Œå› ä¸ºåŸæ¥çš„åµŒå¥— <code>watch</code> åœ¨ç»„ä»¶è¢«å¸è½½åä¸ä¼šè‡ªå·±åœæ­¢ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨ç®¡ç†ï¼Œå¯¹äºé‚£äº›ä¾èµ–è¿™ç§ç‰¹æ€§çš„é¡¹ç›®è€Œè¨€ï¼Œè¿™ä¼šæ˜¯ä¸€ä¸ªç ´åæ€§æ›´æ–°ã€‚ä½†æ˜¯æˆ‘è®¤ä¸ºåµŒå¥—ä½¿ç”¨çš„ <code>watch</code> ä¸ä¼šè¢«æ¸…ç†ï¼Œè€Œæ˜¯æ¯æ¬¡çˆ¶ <code>watch</code> re-run éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ <code>watch</code> æ˜¯æ›´åç›´è§‰çš„äº‹æƒ…ã€‚</p><h2 id="code" tabindex="-1">Code <a class="header-anchor" href="#code" aria-label="Permalink to &quot;Code&quot;">â€‹</a></h2>',3),A=h(`<div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ref</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">watch</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> _watch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">watchEffect</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> _watchEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">EffectScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">onScopeDispose</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> onEffectCleanup</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> onScopeDispose</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> watch</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cb</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> _watch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> scope</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> EffectScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> cb</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">onScopeDispose</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> watchEffect</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> cb</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> _watchEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cleanup</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> scope</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> EffectScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> cb</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">onScopeDispose</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> msg</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Hello World!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> msg</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;watch cleanup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  onEffectCleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;watch onEffectCleanup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;watch&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ov</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">watchEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">cleanup</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> current</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> msg</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  cleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;watchEffect cleanup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">current</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  onEffectCleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;watchEffect onEffectCleanup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">current</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;watchEffect&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">current</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span></code></pre></div>`,1);function f(D,u,_,v,w,b){const l=n("NolebasePageProperties"),t=n("VPNolebaseInlineLinkPreview"),p=n("NolebaseGitContributors"),e=n("NolebaseGitChangelog");return B(),d("div",null,[o,a(l),c,i("p",null,[s("ä½†æ˜¯è¿™æ¶‰åŠåˆ°åµŒå¥— Watch APIï¼Œä½†æ˜¯ç»è¿‡ç®€å•çš„æµ‹è¯•ï¼Œå‘ç°ç›®å‰å¹¶ä¸æ”¯æŒã€‚"),a(t,{href:"https://play.vuejs.org/#eNp9UclOwzAQ/ZXBlwQpJEK9VWklQJWAAyBA4uJLlE7SFMe2bCetFOXfGTvdDqiHLH7L+M3MwB60TvsO2ZzltjSNdmDRdXrJZdNqZRwMYLBKYFe4cnP4rKoKSwcjVEa1EJE94rJU0jpobQ0L74ijZxRCwY8yYn0T3XLJZTDH8S0sll6Y9oXoMIEJGLiEy/IHXYABfHUlMBWqjqOTN0rOdegGgJHe/smzqRlqgw4OWy0Kh3QCyDf3y2EIQccxz+gU0EbqzkF/16o1igVnxHMGGZF5duFnCXOWwlRNnW6tkjS3kJCzUrW6EWjetWsoLGfzY3bOCprE7jVgzlDLR7zcYPn7D761e49x9mHQoumRsxPnClOjm+jV1xvu6f9EUvpOkPoK+Yk0yM5nnGSPnVxT7AtdSPsStt/I+tuu9g6lPTblg4ZRBz1ntP2nK62f487SWfDRhtj4B4DCz7o=",target:"_blank",rel:"noreferrer"},{default:k(()=>[s("åœ¨ Playground ä¸­å°è¯•ä¸€ä¸‹")]),_:1}),s("ä¼šå‘ç° Console ä¸­çš„ log ä¼šéšç€è¾“å…¥è¡Œä¸ºå˜å¾—è¶Šæ¥è¶Šå¤šï¼Œå› ä¸ºä¹‹å‰æ³¨å†Œçš„ "),y,s(" å¹¶æ²¡æœ‰è¢«é”€æ¯ã€‚")]),E,i("p",null,[s("è¿™ä¸ªæ–¹å¼ç±»ä¼¼äº "),F,s(" ä¸­çš„ "),a(t,{href:"https://www.solidjs.com/docs/latest/api#oncleanup",target:"_blank",rel:"noreferrer"},{default:k(()=>[s("onCleanup")]),_:1})]),C,i("p",null,[s("ä¸‹é¢æ˜¯å®é™…å°è¯•çš„ä»£ç ï¼ˆ"),a(t,{href:"https://play.vuejs.org/#eNq1VEuP0zAQ/iuDL8lKIRXa26qtBEsl4ACIReJiCaXutM3i2JYfaaUq/52JnT6XLXDYQ1V75ptvvnnEO/bWmLINyO7Y2AlbGw8OfTBTrurGaOthBxaXBWwqL9ZQOfgZT4Nhtlyi8EdzuheQ/h+ENliAVvHwvnZGO4QOllY3kFHWjCuuhFbOEyjF3EusVDAwuQg7IpOSCeROByuIX8xvYDIdFByseVvothCJLgJ2XAEkDtczE4fCzanW/CZCUkweQaXz2pTzWi3S/SZCkssGleeRWsxTunPNPbaj35nyoWUTijmqTsZ8yPzyYq/rbNyK0tHY8+wDSqnhh7Zy8SqLkNTlxETAsq1kuNLuQd6Qmei1xFLqVZ6lOQ6ArICWNqVNii+W4fnoC+A5y1N89JN7X+7fey+Ctaj6cR1q/ZeyhiEfixt4/q+8geVpkWdsz8Wd4FK941H6wunbpovHxsjKI90Axus3090uDr7rxiO6RWutTPDQvm70AuWEM/JzBiNyjkcn8axgnpZMLetV+ei0oscktpAzoRtTS7RfjK9JJmd3qbm9r6LN2nyKNm9phfZ2sUbx6w/2R7ftbZx9tejQtsjZwecru0Kf3LOHz7il88FJ6oMk9BXnN6QWhl5jgr0LakGyT3BR7cf4JNZq9d3Nth6V2xfVC+2RXcRzRm/b/ZXSj3Jvy9sYRxNi3W8hy+Jb",target:"_blank",rel:"noreferrer"},{default:k(()=>[s("åœ¨ Playground ä¸­æŸ¥çœ‹")]),_:1}),s("ï¼‰ï¼š")]),A,a(p),a(e)])}const m=r(g,[["render",f]]);export{T as __pageData,m as default};
