import{_ as r,c as d,I as a,j as i,a as s,w as e,au as h,D as t,o as g}from"./chunks/framework.RMxno62p.js";const T=JSON.parse('{"title":"nv-hostengine 的启动和补充知识","description":"","frontmatter":{"tags":["AI","命令行/dcgmi","AI/硬件/GPU/NVIDIA","AI/硬件/GPU/NVIDIA/GPU","开发/云原生/Kubernetes","运维/云原生/Kubernetes","命令行/kubectl","软件/云原生/kubectl","命令行/nv-hostengine","软件/nv-hostengine","软件/开源/DCGM","基础设施/GPU/DCGM"]},"headers":[],"relativePath":"笔记/🧱 基础设施/nv-hostengine 的启动和补充知识.md","filePath":"笔记/🧱 基础设施/nv-hostengine 的启动和补充知识.md"}'),o={name:"笔记/🧱 基础设施/nv-hostengine 的启动和补充知识.md"},c=i("h1",{id:"nv-hostengine-的启动和补充知识",tabindex:"-1"},[i("code",null,"nv-hostengine"),s(" 的启动和补充知识 "),i("a",{class:"header-anchor",href:"#nv-hostengine-的启动和补充知识","aria-label":'Permalink to "`nv-hostengine` 的启动和补充知识"'},"​")],-1),F=h('<h2 id="tl-dr" tabindex="-1">TL;DR <a class="header-anchor" href="#tl-dr" aria-label="Permalink to &quot;TL;DR&quot;">​</a></h2><p>如果是想要解决在使用 <code>dcgmi</code> 和 <code>dcgmi discovery -l</code> 相关的命令的时候遭遇的 <code>unable to establish a connection to the specified host: localhost</code> 和 <code>Unable to connect to host engine. Host engine connection invalid/disconnected.</code> 错误，可以通过在 <code>dcgm-exporter</code> Pod 中直接调用 <code>nv-hostengine</code> 二进制命令启动 <code>nv-hostengine</code> 来启动 <code>nv-hostengine</code></p><h2 id="启动一个-nv-hostengine-实例" tabindex="-1">启动一个 <code>nv-hostengine</code> 实例 <a class="header-anchor" href="#启动一个-nv-hostengine-实例" aria-label="Permalink to &quot;启动一个 `nv-hostengine` 实例&quot;">​</a></h2>',3),y=i("code",null,"dcgm-exporter",-1),C=h(`<p>找到 <code>dcgm-exporter</code> 的 Pod ID 并进入 Pod 之后可以通过</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -A</span></span></code></pre></div><p>查看当前 <code>dcgm-exporter</code> 容器内所有的进程来确认是否开启了 <code>nv-hostengine</code>：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root@nvidia-dcgm-exporter-pkcrb:/$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -A</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    PID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TTY</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          TIME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CMD</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:02</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgm-exporter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     40</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     48</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ps</span></span></code></pre></div><p>在启动前，也需要检查是否在 <code>PATH</code> 指定的路径中能搜索到 <code>nv-hostengine</code> 的二进制文件：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root@nvidia-dcgm-exporter-pkcrb:/$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nv-hostengine</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">/usr/bin/nv-hostengine</span></span></code></pre></div><p>然后直接调用二进制启动就好了，接下来 <code>nv-hostengine</code> 就会开始在 <code>localhost:5555</code> 监听并处理未来的请求：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root@nvidia-dcgm-exporter-pkcrb:/$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nv-hostengine</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Started</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> engine</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3.3.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> using</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> number:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5555</span></span></code></pre></div><h2 id="拓展知识" tabindex="-1">拓展知识 <a class="header-anchor" href="#拓展知识" aria-label="Permalink to &quot;拓展知识&quot;">​</a></h2><h3 id="配合-dcgmi-模拟-dcgm-的错误指标和数据" tabindex="-1">配合 <code>dcgmi</code> 模拟 DCGM 的错误指标和数据 <a class="header-anchor" href="#配合-dcgmi-模拟-dcgm-的错误指标和数据" aria-label="Permalink to &quot;配合 \`dcgmi\` 模拟 DCGM 的错误指标和数据&quot;">​</a></h3>`,10),A=h(`<p>它的步骤和逻辑是这样的：</p><ul><li>启动 <code>nv-hostengine</code> 守护进程</li><li>通过 DCGM 启动监控</li><li>确定要注入的 GPU 错误</li><li>通过 <code>dcgmi test --inject</code> 注入错误</li><li>DCGM 应该会提示出对应的错误</li></ul><h3 id="nv-hostengine-的奇怪僵尸进程行为" tabindex="-1"><code>nv-hostengine</code> 的奇怪僵尸进程行为 <a class="header-anchor" href="#nv-hostengine-的奇怪僵尸进程行为" aria-label="Permalink to &quot;\`nv-hostengine\` 的奇怪僵尸进程行为&quot;">​</a></h3><p>启动 <code>nv-hostengine</code> 之后通过</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -A</span></span></code></pre></div><p>再次检查进行中的进程的时候会发现有一个 <code>&lt;defunct&gt;</code> 的 <code>nv-hostengine</code> 进程：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root@nvidia-dcgm-exporter-pkcrb:/$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -A</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    PID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TTY</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          TIME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CMD</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:04</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgm-exporter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     61</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     71</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nv-hostengine</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     72</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nv-hostengine</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     79</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ps</span></span></code></pre></div><p>虽然按照文档介绍的来说的话，不需要的时候可以通过</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nv-hostengine</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span></span></code></pre></div><p>去关闭 <code>nv-hostengine</code>，但是实际上跑完之后会报错说无法关闭</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nv-hostengine</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> engine</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> already</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> running</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pid</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 72</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Unable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> terminate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> engine.</span></span></code></pre></div><p>就像这样：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root@nvidia-dcgm-exporter-4f599:/$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nv-hostengine</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> engine</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> already</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> running</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pid</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 357</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root@nvidia-dcgm-exporter-4f599:/$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -A</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    PID</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TTY</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          TIME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CMD</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:41:59</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgm-exporter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    320</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    321</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    322</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    323</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    324</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    325</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    326</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    327</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmproftester1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    356</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nv-hostengine</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    357</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">        00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nv-hostengine</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">defunc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    404</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    415</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pts/0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    00:00:00</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ps</span></span></code></pre></div><p>这个时候我找到的唯一的解决办法是通过 <code>kubectl</code> 把 <code>dcgm-exporter</code> 的 Pod 删掉来解决的。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">root@nvidia-dcgm-exporter-cq8bw:/$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dcgmi</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> discovery</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">8</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GPUs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> found.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> GPU</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Device</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Information</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                                   |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">      |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NVIDIA</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeForce</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RTX</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3090</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                        |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> PCI</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Bus</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 00000000:1B:00.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                         |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Device</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> UUID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GPU-69cd4dac-cefb-45e8-9bff-429dfd4bc8c3</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">      |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NVIDIA</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeForce</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RTX</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3090</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                        |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> PCI</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Bus</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 00000000:1C:00.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                         |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Device</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> UUID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GPU-ac2d4b59-b78e-42c7-8db6-ef28b01540e1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">      |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NVIDIA</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeForce</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RTX</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3090</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                        |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> PCI</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Bus</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 00000000:1D:00.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                         |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Device</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> UUID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GPU-d8f40ec7-2c07-4d2e-ae9b-a51e7377e052</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 3</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">      |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NVIDIA</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeForce</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> RTX</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3090</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                        |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> PCI</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Bus</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 00000000:1E:00.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                         |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Device</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> UUID:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GPU-5f969c85-ffc4-44ac-aa13-10824844087e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> NvSwitches</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> found.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+-----------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Switch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+-----------+</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+-----------+</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> CPUs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> found.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> CPU</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Device</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Information</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                                   |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">      |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Grace</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TH500</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                                    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Cores:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 0-19,40-59</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                                    |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">      |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Name:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Grace</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TH500</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                                    |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Cores:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 20-39,60-79</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">                                                   |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">+--------+----------------------------------------------------------------------+</span></span></code></pre></div><h3 id="使用-gpu-operator-自带的内置-dcgm-运行嵌入-dcgm-engine" tabindex="-1">使用 GPU Operator 自带的内置 DCGM 运行嵌入 DCGM Engine <a class="header-anchor" href="#使用-gpu-operator-自带的内置-dcgm-运行嵌入-dcgm-engine" aria-label="Permalink to &quot;使用 GPU Operator 自带的内置 DCGM 运行嵌入 DCGM Engine&quot;">​</a></h3>`,16),B=h(`<p>而渲染的目标资源类型是 <code>ClusterPolicy</code>，资源名称是 <code>cluster-policy</code>，这个时候可以通过</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ClusterPolicy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster-policy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yaml</span></span></code></pre></div><p>命令查看到当前该资源的配置详细信息：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">  dcgm</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    hostPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5555</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">dcgmçç</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    imagePullPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">IfNotPresent</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    repository</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">nvcr.io/nvidia/cloud-native</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">    version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">3.3.0-1-ubuntu22.04</span></span></code></pre></div><p>可以发现，由于 <code>enabled</code> 的值最终是 <code>false</code>，所以这里面确实没有打开 <code>dcgm</code> 模块。</p><p>只需要通过</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> edit</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ClusterPolicy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster-policy</span></span></code></pre></div><p>对 <code>ClusterPolicy</code> 资源进行编辑并修改 <code>dcgm.enabled</code> 为 <code>true</code> 即可，然后等待 Pod 启动完成就可以继续用了。</p><h2 id="延伸阅读" tabindex="-1">延伸阅读 <a class="header-anchor" href="#延伸阅读" aria-label="Permalink to &quot;延伸阅读&quot;">​</a></h2>`,9),u=i("h2",{id:"参考资料",tabindex:"-1"},[s("参考资料 "),i("a",{class:"header-anchor",href:"#参考资料","aria-label":'Permalink to "参考资料"'},"​")],-1),b=i("code",null,"nv-hostengine",-1),m=i("code",null,"nv-hostengine",-1),D=i("code",null,"nv-hostengine",-1),f=i("code",null,"nv-hostengine",-1);function v(_,E,I,P,G,x){const l=t("NolebasePageProperties"),n=t("VPNolebaseInlineLinkPreview"),p=t("NolebaseGitContributors"),k=t("NolebaseGitChangelog");return g(),d("div",null,[c,a(l),F,i("p",null,[s("在接下来的例子中我都会直接使用 GPU Operator 自带和附属的 "),y,s(" Pod 资源内置的工具和命令行，这样节点设备上就无需再安装和折腾 "),a(n,{href:"https://cloud-atlas.readthedocs.io/zh-cn/latest/machine_learning/hardware/nvidia_gpu/nvidia_dcgm/index.html#nvidia-dcgm",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("NVIDIA DCGM (Data Center GPU Manager)")]),_:1}),s(" 了。")]),C,i("p",null,[s("DCGM 的文档中有对错误模拟和注入的文档："),a(n,{href:"https://docs.nvidia.com/datacenter/dcgm/latest/user-guide/dcgm-error-injection.html#overview",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Error Injection — NVIDIA DCGM Documentation latest documentation")]),_:1})]),A,i("p",null,[s("如果你在尝试研究使用嵌入 DCGM Engine，可以参考一下这个 "),a(n,{href:"https://github.com/triton-inference-server/model_analyzer/issues/16",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Error starting embedded DCGM engine · Issue #16 · triton-inference-server/model_analyzer")]),_:1}),s(" Issue 来配合解决问题。")]),i("p",null,[s("一般情况下安装 GPU Operator 都不会启动所谓的「嵌入 DCGM Engine」，可以通过 GPU Operator 的源代码来看："),a(n,{href:"https://github.com/NVIDIA/gpu-operator/blob/4113883838a514cf528ae67f3cf599f79b52fc02/deployments/gpu-operator/values.yaml#L283-L294",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("https://github.com/NVIDIA/gpu-operator/blob/4113883838a514cf528ae67f3cf599f79b52fc02/deployments/gpu-operator/values.yaml#L283-L294")]),_:1})]),i("p",null,[s("这段 Helm 配置会被渲染为 "),a(n,{href:"https://github.com/NVIDIA/gpu-operator/blob/4113883838a514cf528ae67f3cf599f79b52fc02/deployments/gpu-operator/templates/clusterpolicy.yaml#L455-L483",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("https://github.com/NVIDIA/gpu-operator/blob/4113883838a514cf528ae67f3cf599f79b52fc02/deployments/gpu-operator/templates/clusterpolicy.yaml#L455-L483")]),_:1})]),B,i("ul",null,[i("li",null,[a(n,{href:"https://docs.nvidia.com/datacenter/dcgm/2.3/dcgm-user-guide/getting-started.html",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Data Center GPU Manager User Guide - Data Center GPU Manager Documentation (nvidia.com)")]),_:1})])]),u,i("ul",null,[i("li",null,[a(n,{href:"https://cloud-atlas.readthedocs.io/zh-cn/latest/kubernetes/kubernetes_overview.html#vanilla-k8s",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Kubernetes概览 — Cloud Atlas beta 文档")]),_:1}),s(" 和 "),a(n,{href:"https://github.com/huataihuang/cloud-atlas/blob/a168158169f5aad0f7683d698cc740f1846374fe/source/kubernetes/gpu/dcgm-exporter.rst#%E8%BF%90%E8%A1%8C-dcgm-exporter",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("cloud-atlas/source/kubernetes/gpu/dcgm-exporter.rst at a168158169f5aad0f7683d698cc740f1846374fe · huataihuang/cloud-atlas (github.com)")]),_:1}),s(" 和 "),a(n,{href:"https://github.com/huataihuang/cloud-atlas/blob/a168158169f5aad0f7683d698cc740f1846374fe/source/kubernetes/gpu/dcgm-exporter.rst#%E8%BF%90%E8%A1%8C-dcgm-exporter",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("cloud-atlas/source/kubernetes/gpu/dcgm-exporter.rst at a168158169f5aad0f7683d698cc740f1846374fe · huataihuang/cloud-atlas (github.com)")]),_:1}),s(" 的代码实现中引用到了 "),b]),i("li",null,[a(n,{href:"https://docs.nvidia.com/datacenter/cloud-native/gpu-operator/23.6.0/getting-started.html",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Getting Started — gpu-operator 23.6.0 documentation")]),_:1})]),i("li",null,[s("Azure 的 Moneo 有引用和调用到 "),m,s("："),a(n,{href:"https://github.com/Azure/Moneo/blob/70c0a2d75355d82909784c886ed0fc169a49a033/src/worker/shutdown.sh#L38",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Moneo/src/worker/shutdown.sh at 70c0a2d75355d82909784c886ed0fc169a49a033 · Azure/Moneo (github.com)")]),_:1})]),i("li",null,[s("DataDog 的 GPU 集成也有用到 "),D,s("："),a(n,{href:"https://github.com/DataDog/integrations-core/blob/764d52840cf6cf694d0eaec5929fc7d799b7fc29/dcgm/README.md#dcgm-field-is-enabled-but-not-being-submitted",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("integrations-core/dcgm/README.md at 764d52840cf6cf694d0eaec5929fc7d799b7fc29 · DataDog/integrations-core (github.com)")]),_:1})]),i("li",null,[s("llm-action 项目也有引用到："),a(n,{href:"https://github.com/liguodongiot/llm-action/blob/c9d8a3570b9e156ef6af035cf1b21294cb3eedbf/docs/llm-base/monitor.md?plain=1#L13-L16",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("github.com/liguodongiot/llm-action/blob/c9d8a3570b9e156ef6af035cf1b21294cb3eedbf/docs/llm-base/monitor.md?plain=1#L13-L16")]),_:1})]),i("li",null,[s("在 NVIDIA 官方的 DCGM 的 Dockerfile 中有直接对 "),f,s(" 的使用，也可以在这里看到： "),a(n,{href:"https://github.com/NVIDIA/DCGM/blob/a33560c9c138c617f3ee6cb50df11561302e5743/docker/Dockerfile.ubi8#L39",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("DCGM/docker/Dockerfile.ubi8 at a33560c9c138c617f3ee6cb50df11561302e5743 · NVIDIA/DCGM (github.com)")]),_:1})]),i("li",null,[a(n,{href:"https://ajaesteves.medium.com/monitor-your-computing-system-with-prometheus-grafana-alertmanager-and-nvidia-dcgm-ea9f142d2e21",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Monitor Your Computing System with Prometheus, Grafana, Alertmanager, and Nvidia DCGM")]),_:1})]),i("li",null,[a(n,{href:"https://github.com/NVIDIA/DCGM/issues/43",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Error: unable to establish a connection to the specified host: localhost · Issue #43 · NVIDIA/DCGM")]),_:1})])]),a(p),a(k)])}const M=r(o,[["render",v]]);export{T as __pageData,M as default};
