import{_ as r,c as o,I as a,j as s,a as i,w as t,au as e,D as l,o as d}from"./chunks/framework.RMxno62p.js";const R=JSON.parse('{"title":"éƒ¨ç½² Confluence Data Center ç‰ˆ","description":"","frontmatter":{"tags":["å‘½ä»¤è¡Œ/apt","å‘½ä»¤è¡Œ/docker","å¼€å‘/å®¹å™¨åŒ–/Docker","å¼€å‘/äº‘åŸç”Ÿ/Docker","è½¯ä»¶/äº‘åŸç”Ÿ/docker","è½¯ä»¶/Atlassian/Confluence","æ“ä½œç³»ç»Ÿ/Debian","æ“ä½œç³»ç»Ÿ/Debian/Debian-11","å¼€å‘/è¯­è¨€/Java","å¼€å‘/è¯­è¨€/Java/JDK","è®¡ç®—æœº/ç½‘ç»œ/ç½‘å…³/Nginx","æ•°å­¦/å¯†ç å­¦/è¯ä¹¦/TLS/HTTPS","å‘½ä»¤è¡Œ/systemd","å¼€å‘/æ ‡è®°è¯­è¨€/XML","æ•°å­¦/å¯†ç å­¦/è¯ä¹¦/TLS/SSL","æ•°å­¦/å¯†ç å­¦/è¯ä¹¦/TLS/åŸŸåè¯ä¹¦"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/â˜ï¸ Atlassian åŠå…¬äº‘/éƒ¨ç½² Confluence Data Center ç‰ˆ.md","filePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/â˜ï¸ Atlassian åŠå…¬äº‘/éƒ¨ç½² Confluence Data Center ç‰ˆ.md"}'),c={name:"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/â˜ï¸ Atlassian åŠå…¬äº‘/éƒ¨ç½² Confluence Data Center ç‰ˆ.md"},g=s("h1",{id:"éƒ¨ç½²-confluence-data-center-ç‰ˆ",tabindex:"-1"},[i("éƒ¨ç½² Confluence Data Center ç‰ˆ "),s("a",{class:"header-anchor",href:"#éƒ¨ç½²-confluence-data-center-ç‰ˆ","aria-label":'Permalink to "éƒ¨ç½² Confluence Data Center ç‰ˆ"'},"â€‹")],-1),y=e('<h5 id="æ–‡æ¡£ç‰ˆæœ¬" tabindex="-1">æ–‡æ¡£ç‰ˆæœ¬ <a class="header-anchor" href="#æ–‡æ¡£ç‰ˆæœ¬" aria-label="Permalink to &quot;æ–‡æ¡£ç‰ˆæœ¬&quot;">â€‹</a></h5><table tabindex="0"><thead><tr><th>ç¼–è¾‘è€…</th><th>ç‰ˆæœ¬</th><th>å˜æ›´æ—¥æœŸ</th><th>å˜æ›´è¯´æ˜</th></tr></thead><tbody><tr><td>Neko</td><td>v1.0.0</td><td>2021-12-16</td><td>åˆ›å»º</td></tr></tbody></table><h3 id="æ–‡æ¡£å…¼å®¹æ€§" tabindex="-1">æ–‡æ¡£å…¼å®¹æ€§ <a class="header-anchor" href="#æ–‡æ¡£å…¼å®¹æ€§" aria-label="Permalink to &quot;æ–‡æ¡£å…¼å®¹æ€§&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>ä¸»ä½“</th><th>ç‰ˆæœ¬å·</th><th>æ–‡æ¡£åœ°å€ï¼ˆå¦‚æœæœ‰ï¼‰</th></tr></thead><tbody><tr><td>Confluence</td><td>7.15.0</td><td></td></tr></tbody></table><h2 id="å®‰è£…-docker" tabindex="-1">å®‰è£… Docker <a class="header-anchor" href="#å®‰è£…-docker" aria-label="Permalink to &quot;å®‰è£… Docker&quot;">â€‹</a></h2>',5),C=e(`<p>ä¹Ÿå¯ä»¥æ‰§è¡Œä¸‹é¢çš„è„šæœ¬ï¼Œæ¯æ¬¡ä¸€è¡Œï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ca-certificates</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gnupg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> lsb-release</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://download.docker.com/linux/debian/gpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gpg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dearmor</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/share/keyrings/docker-archive-keyring.gpg</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;deb [arch=$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --print-architecture</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) stable&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/apt/sources.list.d/docker.list</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /dev/null</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-ce</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-ce-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> containerd.io</span></span></code></pre></div><h3 id="æ„å»º-postgresql-çš„-docker-å®¹å™¨" tabindex="-1">æ„å»º PostgreSQL çš„ Docker å®¹å™¨<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> <a class="header-anchor" href="#æ„å»º-postgresql-çš„-docker-å®¹å™¨" aria-label="Permalink to &quot;æ„å»º PostgreSQL çš„ Docker å®¹å™¨[^2]&quot;">â€‹</a></h3><p>å¯†ç æ ¹æ®è‡ªå·±çš„éœ€æ±‚è®¾å®š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> POSTGRES_PASSWORD=</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">å¯†</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5432:5432</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span></span></code></pre></div><p>å‡†å¤‡å¥½ä¹‹åè¿›å…¥ PostgreSQL çš„ Docker å®ä¾‹è¿›è¡Œæ“ä½œ</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> psql</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span></span></code></pre></div><h3 id="å»ºåº“" tabindex="-1">å»ºåº“<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> <a class="header-anchor" href="#å»ºåº“" aria-label="Permalink to &quot;å»ºåº“[^1][^3]&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> DATABASE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> confluence</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> WITH</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    OWNER</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> confluence</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ENCODING</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;UTF-8&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    LC_COLLATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;en_US.utf8&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    LC_CTYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;en_US.utf8&#39;</span></span></code></pre></div><h2 id="éƒ¨ç½²-confluence" tabindex="-1">éƒ¨ç½² Confluence <a class="header-anchor" href="#éƒ¨ç½²-confluence" aria-label="Permalink to &quot;éƒ¨ç½² Confluence&quot;">â€‹</a></h2>`,14),F=e('<h3 id="ä¸‹è½½-confluence-å®‰è£…åŒ…" tabindex="-1">ä¸‹è½½ Confluence å®‰è£…åŒ… <a class="header-anchor" href="#ä¸‹è½½-confluence-å®‰è£…åŒ…" aria-label="Permalink to &quot;ä¸‹è½½ Confluence å®‰è£…åŒ…&quot;">â€‹</a></h3><p>ä¸‹é¢çš„é“¾æ¥ç”¨äºä¸‹è½½è¯¥æ–‡æ¡£ä½¿ç”¨çš„ Confluence 7.15.0 ç‰ˆæœ¬ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">https://www.atlassian.com/software/confluence/downloads/binary/atlassian-confluence-7.15.0-x64.bin</span></span></code></pre></div><p>å…¶ä»–ç‰ˆæœ¬çš„ä¸‹è½½é“¾æ¥å¯è§ï¼š</p>',4),u=e(`<h3 id="è®¾å®šå®‰è£…åŒ…æƒé™" tabindex="-1">è®¾å®šå®‰è£…åŒ…æƒé™ <a class="header-anchor" href="#è®¾å®šå®‰è£…åŒ…æƒé™" aria-label="Permalink to &quot;è®¾å®šå®‰è£…åŒ…æƒé™&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a+x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-confluence-7.15.0-x64.bin</span></span></code></pre></div><h3 id="æ‰§è¡Œå®‰è£…" tabindex="-1">æ‰§è¡Œå®‰è£… <a class="header-anchor" href="#æ‰§è¡Œå®‰è£…" aria-label="Permalink to &quot;æ‰§è¡Œå®‰è£…&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./atlassian-confluence-7.15.0-x64.bin</span></span></code></pre></div><h4 id="å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-æ˜¯å¦å®‰è£…" tabindex="-1">å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šæ˜¯å¦å®‰è£…ï¼Ÿ <a class="header-anchor" href="#å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-æ˜¯å¦å®‰è£…" aria-label="Permalink to &quot;å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šæ˜¯å¦å®‰è£…ï¼Ÿ&quot;">â€‹</a></h4><p>ä¼šæç¤ºå¦‚ä¸‹å­—æ ·</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">This</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> computer.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">OK</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [o, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Enter],</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [c]</span></span></code></pre></div><p>æŒ‰ä¸‹ å›è½¦ å³å¯</p><h4 id="å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-å®‰è£…æ¨¡å¼é€‰æ‹©" tabindex="-1">å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šå®‰è£…æ¨¡å¼é€‰æ‹© <a class="header-anchor" href="#å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-å®‰è£…æ¨¡å¼é€‰æ‹©" aria-label="Permalink to &quot;å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šå®‰è£…æ¨¡å¼é€‰æ‹©&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Choose</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> appropriate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installation</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> option.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Please</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> choose</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> following:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Express</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Install</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (uses </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> settings</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) [1], </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># å¿«é€Ÿå®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Custom</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Install</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (recommended </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> advanced</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> users</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) [2, Enter], </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># è‡ªå®šä¹‰å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> existing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [3] </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># å‡çº§å·²å®‰è£…çš„ Confluence å®ä¾‹</span></span></code></pre></div><p>æ­¤å¤„æŒ‰ 2ï¼Œç„¶åæŒ‰ä¸‹å›è½¦æäº¤é€‰æ‹©</p><h4 id="å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-å®‰è£…è·¯å¾„" tabindex="-1">å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šå®‰è£…è·¯å¾„ <a class="header-anchor" href="#å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-å®‰è£…è·¯å¾„" aria-label="Permalink to &quot;å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šå®‰è£…è·¯å¾„&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Select</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> folder</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> would</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> like</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installed,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> click</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Next.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> should</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installed?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[/opt/atlassian/confluence]</span></span></code></pre></div><p>é€‰é»˜è®¤å€¼ï¼ŒæŒ‰ä¸‹å›è½¦å³å¯ å¦‚æœéœ€è¦å˜æ›´ï¼Œè¾“å…¥é€‰æ‹©çš„è·¯å¾„</p><h4 id="å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-æ•°æ®è·¯å¾„" tabindex="-1">å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šæ•°æ®è·¯å¾„ <a class="header-anchor" href="#å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-æ•°æ®è·¯å¾„" aria-label="Permalink to &quot;å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šæ•°æ®è·¯å¾„&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> location</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[/var/atlassian/application-data/confluence]</span></span></code></pre></div><p>é€‰é»˜è®¤å€¼ï¼ŒæŒ‰ä¸‹å›è½¦å³å¯ å¦‚æœéœ€è¦å˜æ›´ï¼Œè¾“å…¥é€‰æ‹©çš„è·¯å¾„</p><h4 id="å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-ä½¿ç”¨çš„ç«¯å£å·" tabindex="-1">å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šä½¿ç”¨çš„ç«¯å£å· <a class="header-anchor" href="#å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-ä½¿ç”¨çš„ç«¯å£å·" aria-label="Permalink to &quot;å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šä½¿ç”¨çš„ç«¯å£å·&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Configure</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> use.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> requires</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> two</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> being</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> used</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> other</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">applications</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> machine.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> access</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> through</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> browser.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Control</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> used</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Startup</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> and</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Shutdown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (HTTP: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">8090,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Control:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 8000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) - Recommended [1, Enter], Set custom value </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> HTTP and Control ports [2]</span></span></code></pre></div><p>é€‰é»˜è®¤å€¼ï¼ŒæŒ‰ä¸‹å›è½¦ å¦‚æœéœ€è¦å˜æ›´ï¼Œè¾“å…¥é€‰æ‹©çš„ç«¯å£å·</p><h4 id="å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-è¦å®‰è£…ä¸ºæœåŠ¡ä¹ˆ" tabindex="-1">å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šè¦å®‰è£…ä¸ºæœåŠ¡ä¹ˆï¼Ÿ <a class="header-anchor" href="#å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-è¦å®‰è£…ä¸ºæœåŠ¡ä¹ˆ" aria-label="Permalink to &quot;å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šè¦å®‰è£…ä¸ºæœåŠ¡ä¹ˆï¼Ÿ&quot;">â€‹</a></h4><p>å®‰è£…ä¸ºæœåŠ¡åå¯ä»¥ä½¿ç”¨ <code>systemd</code> è¿›è¡Œç®¡ç†ã€‚</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> background.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">You</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> may</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> choose</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> service,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> means</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> start</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">automatically</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> whenever</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> computer</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restarts.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Service?</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Yes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [y, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Enter],</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> No</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [n]</span></span></code></pre></div><p>é€‰é»˜è®¤å€¼ï¼ŒæŒ‰ä¸‹å›è½¦</p><h4 id="å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-è¦ç°åœ¨å¯åŠ¨ä¹ˆ" tabindex="-1">å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šè¦ç°åœ¨å¯åŠ¨ä¹ˆï¼Ÿ <a class="header-anchor" href="#å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’-è¦ç°åœ¨å¯åŠ¨ä¹ˆ" aria-label="Permalink to &quot;å®‰è£…ä¸­å‘½ä»¤è¡Œäº¤äº’ï¼šè¦ç°åœ¨å¯åŠ¨ä¹ˆï¼Ÿ&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Installation</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> now?</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Yes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [y, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Enter],</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> No</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [n]</span></span></code></pre></div><p>æ­¤å¤„å¦‚æœé€‰æ‹©ç«‹å³å¯åŠ¨ï¼Œåˆ™ä¸ä¼šä½¿ç”¨ä¸Šä¸€æ­¥è®¾å®šçš„ systemd çš„ Confluence æœåŠ¡å¯åŠ¨ï¼Œè€Œæ˜¯ç”¨è„šæœ¬å¯åŠ¨çš„ï¼Œå¦‚æœå¸Œæœ›ç›´æ¥ä½¿ç”¨ systemd è¿›è¡Œç®¡ç†çš„è¯ï¼Œæ­¤å¤„å¯ä»¥é€‰æ‹©è¾“å…¥ nï¼ŒæŒ‰ä¸‹å›è½¦ã€‚å¦åˆ™ï¼ŒæŒ‰ä¸‹å›è½¦ã€‚</p><h2 id="è®¾å®š-nginx-åä»£ç†" tabindex="-1">è®¾å®š Nginx åä»£ç† <a class="header-anchor" href="#è®¾å®š-nginx-åä»£ç†" aria-label="Permalink to &quot;è®¾å®š Nginx åä»£ç†&quot;">â€‹</a></h2><h3 id="åœæ­¢-confluence" tabindex="-1">åœæ­¢ Confluence <a class="header-anchor" href="#åœæ­¢-confluence" aria-label="Permalink to &quot;åœæ­¢ Confluence&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> confluence</span></span></code></pre></div><h3 id="é…ç½®-confluence-è‡ªå¸¦çš„ç½‘é¡µæœåŠ¡å™¨-tomcat-ç¨‹åº" tabindex="-1">é…ç½® Confluence è‡ªå¸¦çš„ç½‘é¡µæœåŠ¡å™¨ Tomcat ç¨‹åº <a class="header-anchor" href="#é…ç½®-confluence-è‡ªå¸¦çš„ç½‘é¡µæœåŠ¡å™¨-tomcat-ç¨‹åº" aria-label="Permalink to &quot;é…ç½® Confluence è‡ªå¸¦çš„ç½‘é¡µæœåŠ¡å™¨ Tomcat ç¨‹åº&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/atlassian/confluence/conf/server.xml</span></span></code></pre></div><h4 id="ç¦ç”¨é»˜è®¤é…ç½®" tabindex="-1">ç¦ç”¨é»˜è®¤é…ç½® <a class="header-anchor" href="#ç¦ç”¨é»˜è®¤é…ç½®" aria-label="Permalink to &quot;ç¦ç”¨é»˜è®¤é…ç½®&quot;">â€‹</a></h4><p>å°†å†™æœ‰ Default å­—æ ·æ³¨é‡Šçš„ä¸‹æ–¹çš„ Connector æ ‡ç­¾ä½¿ç”¨ <code>&lt;!--</code> å’Œ <code>--&gt;</code> å®Œå…¨æ³¨é‡Šæ‰</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    DEFAULT - Direct connector with no proxy, for unproxied HTTP access to Confluence.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    If using a http/https proxy, comment out this connector.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    --&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    &lt;Connector port=&quot;8090&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                   maxThreads=&quot;48&quot; minSpareThreads=&quot;10&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                   enableLookups=&quot;false&quot; acceptCount=&quot;10&quot; debug=&quot;0&quot; URIEncoding=&quot;UTF-8&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                   protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    --&gt;</span></span></code></pre></div><h4 id="å¯ç”¨åä»£ç†é…ç½®" tabindex="-1">å¯ç”¨åä»£ç†é…ç½® <a class="header-anchor" href="#å¯ç”¨åä»£ç†é…ç½®" aria-label="Permalink to &quot;å¯ç”¨åä»£ç†é…ç½®&quot;">â€‹</a></h4><p>å°†å†™æœ‰ HTTPS - Proxying Confluence via Apache or Nginx over HTTP å­—æ ·æ³¨é‡Šä¸‹æ–¹çš„ Connector æ ‡ç­¾è§£é™¤æ³¨é‡Š</p><p>ä¿®æ”¹ Connector æ ‡ç­¾æœ€åä¸€è¡Œçš„å€¼ï¼š</p><p><code>scheme</code> åè®®æ¨¡æ¿ï¼šå¡«å†™ <code>https</code><code>proxyName</code> ä»£ç†åç§°ï¼šå¡«å†™åŸŸå <code>proxyPort</code> ä»£ç†ç«¯å£ï¼šå¡«å†™åä»£ç†åè®¿é—®çš„ç«¯å£ï¼ˆä¸æ˜¯ Nginx <code>proxy_pass</code> è®¿é—®çš„ç«¯å£ï¼Œè€Œæ˜¯ä»£ç†åè®©å¤–ç•Œè®¿é—®çš„ç«¯å£ï¼‰ï¼Œæ­¤å¤„ä¸º 443</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     HTTP - Proxying Confluence via Apache or Nginx over HTTP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     If you&#39;re proxying traffic to Confluence over HTTP, uncomment the connector below and comment out the others.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     Make sure you provide the right information for proxyName and proxyPort.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     For more information see:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        Apache - https://confluence.atlassian.com/x/4xQLM</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        nginx  - https://confluence.atlassian.com/x/TgSvEg</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">Connector</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;8090&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> connectionTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;20000&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> redirectPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;8443&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               maxThreads</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;48&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> minSpareThreads</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;10&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               enableLookups</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;false&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> acceptCount</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;10&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> debug</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> URIEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;UTF-8&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               scheme</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;åè®®æ¨¡æ¿&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> proxyName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;åŸŸå&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> proxyPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;ç«¯å£&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/&gt;</span></span></code></pre></div><h3 id="é‡å¯-confluence-æœåŠ¡" tabindex="-1">é‡å¯ Confluence æœåŠ¡ <a class="header-anchor" href="#é‡å¯-confluence-æœåŠ¡" aria-label="Permalink to &quot;é‡å¯ Confluence æœåŠ¡&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> confluence</span></span></code></pre></div><h3 id="å®‰è£…-nginx" tabindex="-1">å®‰è£… Nginx <a class="header-anchor" href="#å®‰è£…-nginx" aria-label="Permalink to &quot;å®‰è£… Nginx&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre></div><h4 id="ç”³è¯·-let-s-encrypt-è¯ä¹¦" tabindex="-1">ç”³è¯· Let&#39;s Encrypt è¯ä¹¦ <a class="header-anchor" href="#ç”³è¯·-let-s-encrypt-è¯ä¹¦" aria-label="Permalink to &quot;ç”³è¯· Let&#39;s Encrypt è¯ä¹¦&quot;">â€‹</a></h4>`,45),A=e(`<h4 id="åˆ›å»º-confluence-åä»£ç†é…ç½®æ–‡ä»¶" tabindex="-1">åˆ›å»º Confluence åä»£ç†é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#åˆ›å»º-confluence-åä»£ç†é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;åˆ›å»º Confluence åä»£ç†é…ç½®æ–‡ä»¶&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/sites-available/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">åŸŸ</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>å¡«å†™ä¸‹é¢çš„é…ç½®ï¼š å¦‚æœåŒä¸€å°æœºå™¨ä¸Šè¿˜æœ‰åˆ«çš„åŸŸåï¼Œå¯ä»¥æŠŠ <code>server_name</code> å­—æ®µæ”¹ä¸ºä½ éœ€è¦çš„åŸŸå</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">_;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">443</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ssl;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_certificate </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    /etc/letsencrypt/live/&lt;åŸŸåè¯ä¹¦åç§°&gt;/fullchain.pem;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_certificate_key </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/etc/letsencrypt/live/&lt;åŸŸåè¯ä¹¦åç§°&gt;/privkey.pem;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_session_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_protocols </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">TLSv1 TLSv1.1 TLSv1.2;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_prefer_server_ciphers </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_ciphers </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS !RC4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> /synchrony </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Server $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://localhost:8091/synchrony;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_http_version </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Upgrade $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">http_upgrade</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Connection </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Upgrade&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        client_max_body_size </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">100m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Server $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://localhost:8090;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h4 id="åˆ›å»ºé…ç½®æ–‡ä»¶è½¯é“¾æ¥" tabindex="-1">åˆ›å»ºé…ç½®æ–‡ä»¶è½¯é“¾æ¥ <a class="header-anchor" href="#åˆ›å»ºé…ç½®æ–‡ä»¶è½¯é“¾æ¥" aria-label="Permalink to &quot;åˆ›å»ºé…ç½®æ–‡ä»¶è½¯é“¾æ¥&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/sites-available/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">åŸŸ</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/sites-enabled/</span></span></code></pre></div><h4 id="æ£€æŸ¥-nginx-é…ç½®å¹¶é‡å¯" tabindex="-1">æ£€æŸ¥ Nginx é…ç½®å¹¶é‡å¯ <a class="header-anchor" href="#æ£€æŸ¥-nginx-é…ç½®å¹¶é‡å¯" aria-label="Permalink to &quot;æ£€æŸ¥ Nginx é…ç½®å¹¶é‡å¯&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reload</span></span></code></pre></div><h2 id="ç ´è§£-confluence" tabindex="-1">ç ´è§£ Confluence <a class="header-anchor" href="#ç ´è§£-confluence" aria-label="Permalink to &quot;ç ´è§£ Confluence&quot;">â€‹</a></h2>`,9),f=e(`<h3 id="å®‰è£…-openjdk-java-ç¯å¢ƒ" tabindex="-1">å®‰è£… OpenJDKï¼ˆJava ç¯å¢ƒï¼‰ <a class="header-anchor" href="#å®‰è£…-openjdk-java-ç¯å¢ƒ" aria-label="Permalink to &quot;å®‰è£… OpenJDKï¼ˆJava ç¯å¢ƒï¼‰&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> openjdk-11-jdk</span></span></code></pre></div><h3 id="è§£å‹å’Œæƒé™è°ƒæ•´" tabindex="-1">è§£å‹å’Œæƒé™è°ƒæ•´ <a class="header-anchor" href="#è§£å‹å’Œæƒé™è°ƒæ•´" aria-label="Permalink to &quot;è§£å‹å’Œæƒé™è°ƒæ•´&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/atlassian-agent</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/atlassian-agent</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/atlassian-agent-v1.3.1.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent-v1.3.1.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent-v1.3.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ..</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent-v1.3.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a+x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent.jar</span></span></code></pre></div><h3 id="è®¾å®š-java-ç¯å¢ƒå˜é‡ä»¥æ–¹ä¾¿æ³¨å…¥" tabindex="-1">è®¾å®š Java ç¯å¢ƒå˜é‡ä»¥æ–¹ä¾¿æ³¨å…¥ <a class="header-anchor" href="#è®¾å®š-java-ç¯å¢ƒå˜é‡ä»¥æ–¹ä¾¿æ³¨å…¥" aria-label="Permalink to &quot;è®¾å®š Java ç¯å¢ƒå˜é‡ä»¥æ–¹ä¾¿æ³¨å…¥&quot;">â€‹</a></h3><p>åœ¨ <code>/etc/bash.bashrc</code>ï¼Œ<code>/etc/profile</code>ï¼Œ<code>/opt/atlassian/confluence/bin/setenv.sh</code> æ–‡ä»¶çš„æœ€åä¸€è¡Œå¢åŠ ä¸‹é¢çš„ä»£ç ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> JAVA_OPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-javaagent:/opt/atlassian-agent/atlassian-agent.jar \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">JAVA_OPTS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span></span></code></pre></div><h3 id="é‡å¯-confluence-çš„å®ä¾‹" tabindex="-1">é‡å¯ Confluence çš„å®ä¾‹ <a class="header-anchor" href="#é‡å¯-confluence-çš„å®ä¾‹" aria-label="Permalink to &quot;é‡å¯ Confluence çš„å®ä¾‹&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> confluence</span></span></code></pre></div><h3 id="é…ç½®-confluence" tabindex="-1">é…ç½® Confluence <a class="header-anchor" href="#é…ç½®-confluence" aria-label="Permalink to &quot;é…ç½® Confluence&quot;">â€‹</a></h3><p>è®¿é—®ä½ çš„åŸŸåï¼ŒæŒ‰ç…§æµç¨‹è¦æ±‚é…ç½® Confluenceã€‚ ä¼šè¦æ±‚é€‰æ‹©è¯•ç”¨ç‰ˆæœ¬ æˆ–æ˜¯ ç”Ÿäº§ç‰ˆæœ¬ï¼Œä»»é€‰å…¶ä¸€å³å¯ï¼Œç ´è§£çš„æ—¶å€™å¯ä»¥è‡ªåŠ¨å˜æ›´ä¸ºç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ã€‚</p><h3 id="è·å–ç ´è§£å¯†é’¥" tabindex="-1">è·å–ç ´è§£å¯†é’¥ <a class="header-anchor" href="#è·å–ç ´è§£å¯†é’¥" aria-label="Permalink to &quot;è·å–ç ´è§£å¯†é’¥&quot;">â€‹</a></h3><p>å¡«å†™åˆ°éœ€è¦è®¸å¯è¯çš„æ—¶å€™å°±éœ€è¦è¾“å…¥ç ´è§£å¯†é’¥äº†ã€‚ è¿è¡Œç¨‹åºä»¥è·å¾—ç ´è§£å¯†é’¥ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -jar</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> neko@ayaka.moe</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Ayaka Neko&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ayaka</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">æœåŠ¡å™¨çš„</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> I</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>æ­¤å¤„å‚æ•°åˆ†åˆ«ä¸ºï¼š</p><p><code>-d</code>ï¼šæ˜¯å¦éœ€è¦ Data Center è®¸å¯è¯ <code>-m</code>ï¼šè®¸å¯è¯é¢å‘ç»™çš„é‚®ç®± <code>-n</code>ï¼šè®¸å¯è¯åç§°ï¼Œé»˜è®¤ä¸ºè®¸å¯è¯é¢å‘ç»™çš„é‚®ç®± <code>-o</code>ï¼šè®¸å¯è¯é¢å‘ç»™çš„ç»„ç»‡å <code>-p</code>ï¼šäº§å“åç§°ï¼ŒConfluence éœ€è¦å¡«å†™ conf - æ”¯æŒçš„å‚æ•° - crowd: Crowd - jsm: JIRA Service Management - questions: Questions plugin for Confluence - crucible: Crucible - capture: Capture plugin for JIRA - conf: Confluence - training: Training plugin for JIRA - *: ç¬¬ä¸‰æ–¹æ’ä»¶å¯†é’¥ï¼Œä¸€èˆ¬ç±»ä¼¼äºï¼šcom.foo.bar - bitbucket: Bitbucket - tc: Team Calendars plugin for Confluence - bamboo: Bamboo - fisheye: FishEye - portfolio: Portfolio plugin for JIRA - jc: JIRA Core - jsd: JIRA Service Desk - jira: JIRA Software(common jira)</p><p><code>-s</code>ï¼šæœåŠ¡å™¨ IDï¼Œåœ¨ Confluence é…ç½®é¡µé¢ä¸Šæ‰¾åˆ°</p><p>ä¼šè¾“å‡ºä»¥ä¸‹å­—æ ·ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">====================================================</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=======</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Atlassian</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Crack</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Agent</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.3.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     =======</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=======</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           https://zhile.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           =======</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=======</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          QQ</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Group:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30347511</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          =======</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">====================================================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> license</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Don</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&#39;t copy this line!!!):</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">A***************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****g==***r</span></span></code></pre></div><p>å¤åˆ¶å¹¶ç²˜è´´å³å¯ã€‚</p>`,20),b=s("hr",{class:"footnotes-sep"},null,-1),B={class:"footnotes"},D={class:"footnotes-list"},E={id:"fn1",class:"footnote-item"},v=s("a",{href:"#fnref1",class:"footnote-backref"},"â†©ï¸",-1),m={id:"fn2",class:"footnote-item"},_=s("a",{href:"#fnref2",class:"footnote-backref"},"â†©ï¸",-1),x={id:"fn3",class:"footnote-item"},q=s("a",{href:"#fnref3",class:"footnote-backref"},"â†©ï¸",-1);function P(T,S,w,N,I,L){const h=l("NolebasePageProperties"),n=l("VPNolebaseInlineLinkPreview"),p=l("NolebaseGitContributors"),k=l("NolebaseGitChangelog");return d(),o("div",null,[g,a(h),y,s("p",null,[i("å¯ä»¥å‚è€ƒå®˜æ–¹æŒ‡å—åœ¨ Debian 11 ä¸Šå®‰è£… Dockerï¼š"),a(n,{href:"https://docs.docker.com/engine/install/debian/",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Install Docker Engine on Debian | Docker Documentation")]),_:1})]),C,s("p",null,[i("æ­¤å¤„å‚è€ƒå®˜æ–¹æŒ‡å—ï¼š"),a(n,{href:"https://confluence.atlassian.com/doc/installing-confluence-on-linux-143556824.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Installing Confluence on Linux | Confluence Data Center and Server 7.15 | Atlassian Documentation")]),_:1})]),F,s("p",null,[a(n,{href:"https://www.atlassian.com/zh/software/confluence/download-archives",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Confluence Server ä¸‹è½½å­˜æ¡£ | Atlassian")]),_:1})]),u,s("p",null,[i("å‚è§ "),a(n,{href:"/ç¬”è®°/ğŸ”’ PKI å…¬é’¥åŸºç¡€è®¾æ–½/TLS ä¼ è¾“å±‚å®‰å…¨/HTTPS/ç”³è¯· Lets Encrypt çš„ SSL è¯ä¹¦.html"},{default:t(()=>[i("ç”³è¯· Lets Encrypt çš„ SSL è¯ä¹¦")]),_:1})]),A,s("p",null,[i("ä¸‹è½½ç ´è§£ç¨‹åº atlassian-agentï¼š"),a(n,{href:"https://gitee.com/pengzhile/atlassian-agent#https://gitee.com/pengzhile/atlassian-agent/releases",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("atlassian-agent: Atlassian's productions crack.")]),_:1})]),f,a(p),a(k),b,s("section",B,[s("ol",D,[s("li",E,[s("p",null,[a(n,{href:"https://hub.docker.com/_/postgres",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Postgres - Official Image | Docker Hub")]),_:1}),i(),v])]),s("li",m,[s("p",null,[a(n,{href:"https://community.atlassian.com/t5/Confluence-questions/Setting-up-Postgresql-database-for-Confluence/qaq-p/759168",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Solved: Setting up Postgresql database for Confluence")]),_:1}),i(),_])]),s("li",x,[s("p",null,[a(n,{href:"https://confluence.atlassian.com/doc/database-setup-for-postgresql-173244522.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Database Setup for PostgreSQL | Confluence Data Center and Server 7.15 | Atlassian Documentation")]),_:1}),i(),q])])])])])}const j=r(c,[["render",P]]);export{R as __pageData,j as default};
