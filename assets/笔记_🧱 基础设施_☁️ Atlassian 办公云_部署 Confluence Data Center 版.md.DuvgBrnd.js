import{_ as r,c as o,I as a,j as s,a as i,w as t,au as e,D as l,o as d}from"./chunks/framework.RMxno62p.js";const R=JSON.parse('{"title":"部署 Confluence Data Center 版","description":"","frontmatter":{"tags":["命令行/apt","命令行/docker","开发/容器化/Docker","开发/云原生/Docker","软件/云原生/docker","软件/Atlassian/Confluence","操作系统/Debian","操作系统/Debian/Debian-11","开发/语言/Java","开发/语言/Java/JDK","计算机/网络/网关/Nginx","数学/密码学/证书/TLS/HTTPS","命令行/systemd","开发/标记语言/XML","数学/密码学/证书/TLS/SSL","数学/密码学/证书/TLS/域名证书"]},"headers":[],"relativePath":"笔记/🧱 基础设施/☁️ Atlassian 办公云/部署 Confluence Data Center 版.md","filePath":"笔记/🧱 基础设施/☁️ Atlassian 办公云/部署 Confluence Data Center 版.md"}'),c={name:"笔记/🧱 基础设施/☁️ Atlassian 办公云/部署 Confluence Data Center 版.md"},g=s("h1",{id:"部署-confluence-data-center-版",tabindex:"-1"},[i("部署 Confluence Data Center 版 "),s("a",{class:"header-anchor",href:"#部署-confluence-data-center-版","aria-label":'Permalink to "部署 Confluence Data Center 版"'},"​")],-1),y=e('<h5 id="文档版本" tabindex="-1">文档版本 <a class="header-anchor" href="#文档版本" aria-label="Permalink to &quot;文档版本&quot;">​</a></h5><table tabindex="0"><thead><tr><th>编辑者</th><th>版本</th><th>变更日期</th><th>变更说明</th></tr></thead><tbody><tr><td>Neko</td><td>v1.0.0</td><td>2021-12-16</td><td>创建</td></tr></tbody></table><h3 id="文档兼容性" tabindex="-1">文档兼容性 <a class="header-anchor" href="#文档兼容性" aria-label="Permalink to &quot;文档兼容性&quot;">​</a></h3><table tabindex="0"><thead><tr><th>主体</th><th>版本号</th><th>文档地址（如果有）</th></tr></thead><tbody><tr><td>Confluence</td><td>7.15.0</td><td></td></tr></tbody></table><h2 id="安装-docker" tabindex="-1">安装 Docker <a class="header-anchor" href="#安装-docker" aria-label="Permalink to &quot;安装 Docker&quot;">​</a></h2>',5),C=e(`<p>也可以执行下面的脚本，每次一行：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ca-certificates</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gnupg</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> lsb-release</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://download.docker.com/linux/debian/gpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gpg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dearmor</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/share/keyrings/docker-archive-keyring.gpg</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;deb [arch=$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --print-architecture</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -cs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) stable&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/apt/sources.list.d/docker.list</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /dev/null</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-ce</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker-ce-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> containerd.io</span></span></code></pre></div><h3 id="构建-postgresql-的-docker-容器" tabindex="-1">构建 PostgreSQL 的 Docker 容器<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> <a class="header-anchor" href="#构建-postgresql-的-docker-容器" aria-label="Permalink to &quot;构建 PostgreSQL 的 Docker 容器[^2]&quot;">​</a></h3><p>密码根据自己的需求设定</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> POSTGRES_PASSWORD=</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">密</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">码</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5432:5432</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span></span></code></pre></div><p>准备好之后进入 PostgreSQL 的 Docker 实例进行操作</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> psql</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postgres</span></span></code></pre></div><h3 id="建库" tabindex="-1">建库<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> <a class="header-anchor" href="#建库" aria-label="Permalink to &quot;建库[^1][^3]&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> DATABASE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> confluence</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> WITH</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    OWNER</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> confluence</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ENCODING</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;UTF-8&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    LC_COLLATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;en_US.utf8&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    LC_CTYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;en_US.utf8&#39;</span></span></code></pre></div><h2 id="部署-confluence" tabindex="-1">部署 Confluence <a class="header-anchor" href="#部署-confluence" aria-label="Permalink to &quot;部署 Confluence&quot;">​</a></h2>`,14),F=e('<h3 id="下载-confluence-安装包" tabindex="-1">下载 Confluence 安装包 <a class="header-anchor" href="#下载-confluence-安装包" aria-label="Permalink to &quot;下载 Confluence 安装包&quot;">​</a></h3><p>下面的链接用于下载该文档使用的 Confluence 7.15.0 版本：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">https://www.atlassian.com/software/confluence/downloads/binary/atlassian-confluence-7.15.0-x64.bin</span></span></code></pre></div><p>其他版本的下载链接可见：</p>',4),u=e(`<h3 id="设定安装包权限" tabindex="-1">设定安装包权限 <a class="header-anchor" href="#设定安装包权限" aria-label="Permalink to &quot;设定安装包权限&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a+x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-confluence-7.15.0-x64.bin</span></span></code></pre></div><h3 id="执行安装" tabindex="-1">执行安装 <a class="header-anchor" href="#执行安装" aria-label="Permalink to &quot;执行安装&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./atlassian-confluence-7.15.0-x64.bin</span></span></code></pre></div><h4 id="安装中命令行交互-是否安装" tabindex="-1">安装中命令行交互：是否安装？ <a class="header-anchor" href="#安装中命令行交互-是否安装" aria-label="Permalink to &quot;安装中命令行交互：是否安装？&quot;">​</a></h4><p>会提示如下字样</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">This</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> computer.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">OK</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [o, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Enter],</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [c]</span></span></code></pre></div><p>按下 回车 即可</p><h4 id="安装中命令行交互-安装模式选择" tabindex="-1">安装中命令行交互：安装模式选择 <a class="header-anchor" href="#安装中命令行交互-安装模式选择" aria-label="Permalink to &quot;安装中命令行交互：安装模式选择&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Choose</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> appropriate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installation</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> option.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Please</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> choose</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> following:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Express</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Install</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (uses </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> settings</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) [1], </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 快速安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Custom</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Install</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (recommended </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> advanced</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> users</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) [2, Enter], </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 自定义安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> existing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [3] </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 升级已安装的 Confluence 实例</span></span></code></pre></div><p>此处按 2，然后按下回车提交选择</p><h4 id="安装中命令行交互-安装路径" tabindex="-1">安装中命令行交互：安装路径 <a class="header-anchor" href="#安装中命令行交互-安装路径" aria-label="Permalink to &quot;安装中命令行交互：安装路径&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Select</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> folder</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> would</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> like</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installed,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">then</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> click</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Next.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> should</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> installed?</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[/opt/atlassian/confluence]</span></span></code></pre></div><p>选默认值，按下回车即可 如果需要变更，输入选择的路径</p><h4 id="安装中命令行交互-数据路径" tabindex="-1">安装中命令行交互：数据路径 <a class="header-anchor" href="#安装中命令行交互-数据路径" aria-label="Permalink to &quot;安装中命令行交互：数据路径&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> location</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[/var/atlassian/application-data/confluence]</span></span></code></pre></div><p>选默认值，按下回车即可 如果需要变更，输入选择的路径</p><h4 id="安装中命令行交互-使用的端口号" tabindex="-1">安装中命令行交互：使用的端口号 <a class="header-anchor" href="#安装中命令行交互-使用的端口号" aria-label="Permalink to &quot;安装中命令行交互：使用的端口号&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Configure</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> use.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> requires</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> two</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> being</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> used</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> other</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">applications</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> machine.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> access</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> through</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> browser.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Control</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> used</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Startup</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> and</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Shutdown</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (HTTP: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">8090,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Control:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 8000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) - Recommended [1, Enter], Set custom value </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> HTTP and Control ports [2]</span></span></code></pre></div><p>选默认值，按下回车 如果需要变更，输入选择的端口号</p><h4 id="安装中命令行交互-要安装为服务么" tabindex="-1">安装中命令行交互：要安装为服务么？ <a class="header-anchor" href="#安装中命令行交互-要安装为服务么" aria-label="Permalink to &quot;安装中命令行交互：要安装为服务么？&quot;">​</a></h4><p>安装为服务后可以使用 <code>systemd</code> 进行管理。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> background.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">You</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> may</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> choose</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> service,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> which</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> means</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> start</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">automatically</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> whenever</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> computer</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restarts.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Service?</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Yes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [y, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Enter],</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> No</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [n]</span></span></code></pre></div><p>选默认值，按下回车</p><h4 id="安装中命令行交互-要现在启动么" tabindex="-1">安装中命令行交互：要现在启动么？ <a class="header-anchor" href="#安装中命令行交互-要现在启动么" aria-label="Permalink to &quot;安装中命令行交互：要现在启动么？&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Installation</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> complete</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Confluence</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> now?</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Yes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [y, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Enter],</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> No</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [n]</span></span></code></pre></div><p>此处如果选择立即启动，则不会使用上一步设定的 systemd 的 Confluence 服务启动，而是用脚本启动的，如果希望直接使用 systemd 进行管理的话，此处可以选择输入 n，按下回车。否则，按下回车。</p><h2 id="设定-nginx-反代理" tabindex="-1">设定 Nginx 反代理 <a class="header-anchor" href="#设定-nginx-反代理" aria-label="Permalink to &quot;设定 Nginx 反代理&quot;">​</a></h2><h3 id="停止-confluence" tabindex="-1">停止 Confluence <a class="header-anchor" href="#停止-confluence" aria-label="Permalink to &quot;停止 Confluence&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> confluence</span></span></code></pre></div><h3 id="配置-confluence-自带的网页服务器-tomcat-程序" tabindex="-1">配置 Confluence 自带的网页服务器 Tomcat 程序 <a class="header-anchor" href="#配置-confluence-自带的网页服务器-tomcat-程序" aria-label="Permalink to &quot;配置 Confluence 自带的网页服务器 Tomcat 程序&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/atlassian/confluence/conf/server.xml</span></span></code></pre></div><h4 id="禁用默认配置" tabindex="-1">禁用默认配置 <a class="header-anchor" href="#禁用默认配置" aria-label="Permalink to &quot;禁用默认配置&quot;">​</a></h4><p>将写有 Default 字样注释的下方的 Connector 标签使用 <code>&lt;!--</code> 和 <code>--&gt;</code> 完全注释掉</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    DEFAULT - Direct connector with no proxy, for unproxied HTTP access to Confluence.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    If using a http/https proxy, comment out this connector.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    --&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    &lt;Connector port=&quot;8090&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                   maxThreads=&quot;48&quot; minSpareThreads=&quot;10&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                   enableLookups=&quot;false&quot; acceptCount=&quot;10&quot; debug=&quot;0&quot; URIEncoding=&quot;UTF-8&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                   protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    --&gt;</span></span></code></pre></div><h4 id="启用反代理配置" tabindex="-1">启用反代理配置 <a class="header-anchor" href="#启用反代理配置" aria-label="Permalink to &quot;启用反代理配置&quot;">​</a></h4><p>将写有 HTTPS - Proxying Confluence via Apache or Nginx over HTTP 字样注释下方的 Connector 标签解除注释</p><p>修改 Connector 标签最后一行的值：</p><p><code>scheme</code> 协议模板：填写 <code>https</code><code>proxyName</code> 代理名称：填写域名 <code>proxyPort</code> 代理端口：填写反代理后访问的端口（不是 Nginx <code>proxy_pass</code> 访问的端口，而是代理后让外界访问的端口），此处为 443</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     HTTP - Proxying Confluence via Apache or Nginx over HTTP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     If you&#39;re proxying traffic to Confluence over HTTP, uncomment the connector below and comment out the others.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     Make sure you provide the right information for proxyName and proxyPort.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     For more information see:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        Apache - https://confluence.atlassian.com/x/4xQLM</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        nginx  - https://confluence.atlassian.com/x/TgSvEg</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     ==============================================================================================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">Connector</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;8090&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> connectionTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;20000&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> redirectPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;8443&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               maxThreads</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;48&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> minSpareThreads</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;10&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               enableLookups</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;false&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> acceptCount</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;10&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> debug</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> URIEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;UTF-8&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;">               scheme</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;协议模板&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> proxyName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;域名&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> proxyPort</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;端口&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/&gt;</span></span></code></pre></div><h3 id="重启-confluence-服务" tabindex="-1">重启 Confluence 服务 <a class="header-anchor" href="#重启-confluence-服务" aria-label="Permalink to &quot;重启 Confluence 服务&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> confluence</span></span></code></pre></div><h3 id="安装-nginx" tabindex="-1">安装 Nginx <a class="header-anchor" href="#安装-nginx" aria-label="Permalink to &quot;安装 Nginx&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre></div><h4 id="申请-let-s-encrypt-证书" tabindex="-1">申请 Let&#39;s Encrypt 证书 <a class="header-anchor" href="#申请-let-s-encrypt-证书" aria-label="Permalink to &quot;申请 Let&#39;s Encrypt 证书&quot;">​</a></h4>`,45),A=e(`<h4 id="创建-confluence-反代理配置文件" tabindex="-1">创建 Confluence 反代理配置文件 <a class="header-anchor" href="#创建-confluence-反代理配置文件" aria-label="Permalink to &quot;创建 Confluence 反代理配置文件&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/sites-available/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">域</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">名</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>填写下面的配置： 如果同一台机器上还有别的域名，可以把 <code>server_name</code> 字段改为你需要的域名</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">_;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">443</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ssl;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_certificate </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    /etc/letsencrypt/live/&lt;域名证书名称&gt;/fullchain.pem;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_certificate_key </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/etc/letsencrypt/live/&lt;域名证书名称&gt;/privkey.pem;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_session_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_protocols </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">TLSv1 TLSv1.1 TLSv1.2;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_prefer_server_ciphers </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    ssl_ciphers </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS !RC4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> /synchrony </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Server $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://localhost:8091/synchrony;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_http_version </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1.1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Upgrade $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">http_upgrade</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Connection </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Upgrade&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        client_max_body_size </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">100m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-Server $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://localhost:8090;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h4 id="创建配置文件软链接" tabindex="-1">创建配置文件软链接 <a class="header-anchor" href="#创建配置文件软链接" aria-label="Permalink to &quot;创建配置文件软链接&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/sites-available/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">域</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">名</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/sites-enabled/</span></span></code></pre></div><h4 id="检查-nginx-配置并重启" tabindex="-1">检查 Nginx 配置并重启 <a class="header-anchor" href="#检查-nginx-配置并重启" aria-label="Permalink to &quot;检查 Nginx 配置并重启&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reload</span></span></code></pre></div><h2 id="破解-confluence" tabindex="-1">破解 Confluence <a class="header-anchor" href="#破解-confluence" aria-label="Permalink to &quot;破解 Confluence&quot;">​</a></h2>`,9),f=e(`<h3 id="安装-openjdk-java-环境" tabindex="-1">安装 OpenJDK（Java 环境） <a class="header-anchor" href="#安装-openjdk-java-环境" aria-label="Permalink to &quot;安装 OpenJDK（Java 环境）&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> openjdk-11-jdk</span></span></code></pre></div><h3 id="解压和权限调整" tabindex="-1">解压和权限调整 <a class="header-anchor" href="#解压和权限调整" aria-label="Permalink to &quot;解压和权限调整&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/atlassian-agent</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/atlassian-agent</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/atlassian-agent-v1.3.1.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent-v1.3.1.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent-v1.3.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ..</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent-v1.3.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a+x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent.jar</span></span></code></pre></div><h3 id="设定-java-环境变量以方便注入" tabindex="-1">设定 Java 环境变量以方便注入 <a class="header-anchor" href="#设定-java-环境变量以方便注入" aria-label="Permalink to &quot;设定 Java 环境变量以方便注入&quot;">​</a></h3><p>在 <code>/etc/bash.bashrc</code>，<code>/etc/profile</code>，<code>/opt/atlassian/confluence/bin/setenv.sh</code> 文件的最后一行增加下面的代码：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> JAVA_OPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-javaagent:/opt/atlassian-agent/atlassian-agent.jar \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">JAVA_OPTS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}&quot;</span></span></code></pre></div><h3 id="重启-confluence-的实例" tabindex="-1">重启 Confluence 的实例 <a class="header-anchor" href="#重启-confluence-的实例" aria-label="Permalink to &quot;重启 Confluence 的实例&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> confluence</span></span></code></pre></div><h3 id="配置-confluence" tabindex="-1">配置 Confluence <a class="header-anchor" href="#配置-confluence" aria-label="Permalink to &quot;配置 Confluence&quot;">​</a></h3><p>访问你的域名，按照流程要求配置 Confluence。 会要求选择试用版本 或是 生产版本，任选其一即可，破解的时候可以自动变更为生产环境版本。</p><h3 id="获取破解密钥" tabindex="-1">获取破解密钥 <a class="header-anchor" href="#获取破解密钥" aria-label="Permalink to &quot;获取破解密钥&quot;">​</a></h3><p>填写到需要许可证的时候就需要输入破解密钥了。 运行程序以获得破解密钥：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -jar</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> atlassian-agent.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> neko@ayaka.moe</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Ayaka Neko&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ayaka</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">服务器的</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> I</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>此处参数分别为：</p><p><code>-d</code>：是否需要 Data Center 许可证 <code>-m</code>：许可证颁发给的邮箱 <code>-n</code>：许可证名称，默认为许可证颁发给的邮箱 <code>-o</code>：许可证颁发给的组织名 <code>-p</code>：产品名称，Confluence 需要填写 conf - 支持的参数 - crowd: Crowd - jsm: JIRA Service Management - questions: Questions plugin for Confluence - crucible: Crucible - capture: Capture plugin for JIRA - conf: Confluence - training: Training plugin for JIRA - *: 第三方插件密钥，一般类似于：com.foo.bar - bitbucket: Bitbucket - tc: Team Calendars plugin for Confluence - bamboo: Bamboo - fisheye: FishEye - portfolio: Portfolio plugin for JIRA - jc: JIRA Core - jsd: JIRA Service Desk - jira: JIRA Software(common jira)</p><p><code>-s</code>：服务器 ID，在 Confluence 配置页面上找到</p><p>会输出以下字样：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">====================================================</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=======</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     Atlassian</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Crack</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Agent</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.3.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     =======</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=======</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           https://zhile.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           =======</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=======</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          QQ</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Group:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 30347511</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          =======</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">====================================================</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> license</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> code</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Don</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&#39;t copy this line!!!):</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">A***************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****************************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">****g==***r</span></span></code></pre></div><p>复制并粘贴即可。</p>`,20),b=s("hr",{class:"footnotes-sep"},null,-1),B={class:"footnotes"},D={class:"footnotes-list"},E={id:"fn1",class:"footnote-item"},v=s("a",{href:"#fnref1",class:"footnote-backref"},"↩︎",-1),m={id:"fn2",class:"footnote-item"},_=s("a",{href:"#fnref2",class:"footnote-backref"},"↩︎",-1),x={id:"fn3",class:"footnote-item"},q=s("a",{href:"#fnref3",class:"footnote-backref"},"↩︎",-1);function P(T,S,w,N,I,L){const h=l("NolebasePageProperties"),n=l("VPNolebaseInlineLinkPreview"),p=l("NolebaseGitContributors"),k=l("NolebaseGitChangelog");return d(),o("div",null,[g,a(h),y,s("p",null,[i("可以参考官方指南在 Debian 11 上安装 Docker："),a(n,{href:"https://docs.docker.com/engine/install/debian/",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Install Docker Engine on Debian | Docker Documentation")]),_:1})]),C,s("p",null,[i("此处参考官方指南："),a(n,{href:"https://confluence.atlassian.com/doc/installing-confluence-on-linux-143556824.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Installing Confluence on Linux | Confluence Data Center and Server 7.15 | Atlassian Documentation")]),_:1})]),F,s("p",null,[a(n,{href:"https://www.atlassian.com/zh/software/confluence/download-archives",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Confluence Server 下载存档 | Atlassian")]),_:1})]),u,s("p",null,[i("参见 "),a(n,{href:"/笔记/🔒 PKI 公钥基础设施/TLS 传输层安全/HTTPS/申请 Lets Encrypt 的 SSL 证书.html"},{default:t(()=>[i("申请 Lets Encrypt 的 SSL 证书")]),_:1})]),A,s("p",null,[i("下载破解程序 atlassian-agent："),a(n,{href:"https://gitee.com/pengzhile/atlassian-agent#https://gitee.com/pengzhile/atlassian-agent/releases",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("atlassian-agent: Atlassian's productions crack.")]),_:1})]),f,a(p),a(k),b,s("section",B,[s("ol",D,[s("li",E,[s("p",null,[a(n,{href:"https://hub.docker.com/_/postgres",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Postgres - Official Image | Docker Hub")]),_:1}),i(),v])]),s("li",m,[s("p",null,[a(n,{href:"https://community.atlassian.com/t5/Confluence-questions/Setting-up-Postgresql-database-for-Confluence/qaq-p/759168",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Solved: Setting up Postgresql database for Confluence")]),_:1}),i(),_])]),s("li",x,[s("p",null,[a(n,{href:"https://confluence.atlassian.com/doc/database-setup-for-postgresql-173244522.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Database Setup for PostgreSQL | Confluence Data Center and Server 7.15 | Atlassian Documentation")]),_:1}),i(),q])])])])])}const j=r(c,[["render",P]]);export{R as __pageData,j as default};
