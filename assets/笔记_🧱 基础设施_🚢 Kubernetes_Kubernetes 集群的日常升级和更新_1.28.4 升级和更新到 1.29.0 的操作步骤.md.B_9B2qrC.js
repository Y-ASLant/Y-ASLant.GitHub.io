import{_ as d,c as r,I as i,j as a,a as s,w as h,au as n,D as e,o as g}from"./chunks/framework.RMxno62p.js";const D=JSON.parse('{"title":"1.28.4 升级和更新到 1.29.0 的操作步骤","description":"","frontmatter":{"tags":["计算机/操作系统/Linux","操作系统/Debian","操作系统/Unix","运维/云原生/Kubernetes/K8s","运维/云原生/Kubernetes","命令行/kubectl","软件/云原生/kubectl","命令行/kubeadm","软件/云原生/kubeadm","软件/云原生/kubelet","命令行/apt","计算机/网络/Cilium","运维/Cilium","命令行/cilium","软件/云原生/Cilium","操作系统/Debian/Debian-12"]},"headers":[],"relativePath":"笔记/🧱 基础设施/🚢 Kubernetes/Kubernetes 集群的日常升级和更新/1.28.4 升级和更新到 1.29.0 的操作步骤.md","filePath":"笔记/🧱 基础设施/🚢 Kubernetes/Kubernetes 集群的日常升级和更新/1.28.4 升级和更新到 1.29.0 的操作步骤.md"}'),o={name:"笔记/🧱 基础设施/🚢 Kubernetes/Kubernetes 集群的日常升级和更新/1.28.4 升级和更新到 1.29.0 的操作步骤.md"},F=a("h1",{id:"_1-28-4-升级和更新到-1-29-0-的操作步骤",tabindex:"-1"},[s("1.28.4 升级和更新到 1.29.0 的操作步骤 "),a("a",{class:"header-anchor",href:"#_1-28-4-升级和更新到-1-29-0-的操作步骤","aria-label":'Permalink to "1.28.4 升级和更新到 1.29.0 的操作步骤"'},"​")],-1),y=n('<h2 id="先决条件" tabindex="-1">先决条件 <a class="header-anchor" href="#先决条件" aria-label="Permalink to &quot;先决条件&quot;">​</a></h2><h3 id="检查-kubelet-kubeadm-和-kubectl-的依赖状态" tabindex="-1">检查 <code>kubelet</code>，<code>kubeadm</code> 和 <code>kubectl</code> 的依赖状态 <a class="header-anchor" href="#检查-kubelet-kubeadm-和-kubectl-的依赖状态" aria-label="Permalink to &quot;检查 `kubelet`，`kubeadm` 和 `kubectl` 的依赖状态&quot;">​</a></h3><p>我们先检查一下当前依赖对应的 Repository 配置是否正确：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubelet</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span></span></code></pre></div><p>一般而言，1.29 的集群对应的 <code>apt</code> Repository 应该都是</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>https://pkgs.k8s.io/core:/stable:/v1.29/deb</span></span></code></pre></div><h2 id="升级第一个控制平面节点的-kubeadm" tabindex="-1">升级第一个控制平面节点的 <code>kubeadm</code> <a class="header-anchor" href="#升级第一个控制平面节点的-kubeadm" aria-label="Permalink to &quot;升级第一个控制平面节点的 `kubeadm`&quot;">​</a></h2>',9),c=n(`<h3 id="准备-kubeadm-升级计划" tabindex="-1">准备 <code>kubeadm</code> 升级计划 <a class="header-anchor" href="#准备-kubeadm-升级计划" aria-label="Permalink to &quot;准备 \`kubeadm\` 升级计划&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> plan</span></span></code></pre></div><p>它会有这样的输出</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> plan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Making sure the configuration is correct:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Reading configuration from the cluster...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] FYI: You can look at this config file with </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;kubectl -n kube-system get cm kubeadm-config -o yaml&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[preflight] Running pre-flight checks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Running cluster health checks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Fetching available versions to upgrade to</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Cluster version: v1.28.4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] kubeadm version: v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Target version: v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Latest version in the v1.28 series: v1.28.5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">W1221</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 21:30:35.414895</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   12861</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configset.go:78]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Warning:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> No</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeproxy.config.k8s.io/v1alpha1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loaded.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Continuing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> without</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> it:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configmaps</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> found</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Components</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgraded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> manually</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> after</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> have</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgraded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> control</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> plane</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;kubeadm upgrade apply&#39;:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   CURRENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubelet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> latest</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> series:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 CURRENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-apiserver</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-controller-manager</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">CoreDNS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                   v1.10.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.11.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                      3.5.9-0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   3.5.10-0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">You</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> now</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apply</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> executing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> following</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> command:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">	kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apply</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.28.5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">_____________________________________________________________________</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Components</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgraded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> manually</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> after</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> have</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgraded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> control</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> plane</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;kubeadm upgrade apply&#39;:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   CURRENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">       TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubelet</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">     3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> latest</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">COMPONENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 CURRENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   TARGET</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-apiserver</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-controller-manager</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-scheduler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kube-proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                v1.28.4</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">CoreDNS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                   v1.10.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.11.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                      3.5.9-0</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   3.5.10-0</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">You</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> now</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apply</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> executing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> following</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> command:</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">	kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apply</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.29.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">_____________________________________________________________________</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> table</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> below</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> shows</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> current</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> component</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> understood</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Configs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> have</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;yes&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mark</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;MANUAL UPGRADE REQUIRED&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> column</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> require</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> manual</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">resetting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> defaults</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> before</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> successful</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> performed.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> manually</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> denoted</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;PREFERRED VERSION&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> column.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GROUP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 CURRENT</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   PREFERRED</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> VERSION</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   MANUAL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> UPGRADE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> REQUIRED</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubeproxy.config.k8s.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                 v1alpha1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">            no</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kubelet.config.k8s.io</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">     v1beta1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           v1beta1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             no</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">_____________________________________________________________________</span></span></code></pre></div><p>准备无误之后就可以升级了。</p><h3 id="应用-kubeadm-升级" tabindex="-1">应用 <code>kubeadm</code> 升级 <a class="header-anchor" href="#应用-kubeadm-升级" aria-label="Permalink to &quot;应用 \`kubeadm\` 升级&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apply</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.29.0</span></span></code></pre></div><p>输出就像这样：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apply</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Making sure the configuration is correct:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] Reading configuration from the cluster...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/config] FYI: You can look at this config file with </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;kubectl -n kube-system get cm kubeadm-config -o yaml&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">W1221</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 21:30:57.403724</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   12875</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configset.go:78]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Warning:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> No</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeproxy.config.k8s.io/v1alpha1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loaded.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Continuing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> without</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> it:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configmaps</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> found</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[preflight] Running pre-flight checks.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Running cluster health checks</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/version] You have chosen to change the cluster version to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;v1.29.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] Cluster version: v1.28.4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/versions] kubeadm version: v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Are you sure you want to proceed</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [y/N]: y</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/prepull] Pulling images required </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> setting up a Kubernetes cluster</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/prepull] This might take a minute or two, depending on the speed of your internet connection</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/prepull] You can also perform this action in beforehand using </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;kubeadm config images pull&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/apply] Upgrading your Static Pod-hosted control plane to version </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;v1.29.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/etcd] Upgrading to TLS </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> etcd</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Preparing </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;etcd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing etcd-server certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing etcd-peer certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing etcd-healthcheck-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/etcd.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/etcd.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=etcd</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;etcd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/etcd] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Waiting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> etcd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> become</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> available</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Writing new Static Pod manifests to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-upgraded-manifests2962562190&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Preparing </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-apiserver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing apiserver certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing apiserver-kubelet-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing front-proxy-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing apiserver-etcd-client certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/kube-apiserver.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/kube-apiserver.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=kube-apiserver</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kube-apiserver&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Preparing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-controller-manager&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing controller-manager.conf certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/kube-controller-manager.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/kube-controller-manager.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=kube-controller-manager</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kube-controller-manager&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Preparing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-scheduler&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Renewing scheduler.conf certificate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Moved new manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/manifests/kube-scheduler.yaml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> and backed up old manifest to </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/etc/kubernetes/tmp/kubeadm-backup-manifests-2023-12-21-21-35-14/kube-scheduler.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Waiting </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelet to restart the component</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] This might take a minute or longer depending on the component/version gap (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">timeout</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 5m0s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[apiclient] Found 1 Pods </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> label selector component=kube-scheduler</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/staticpods] Component </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kube-scheduler&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> upgraded successfully</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upload-config] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Storing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> used</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ConfigMap</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kubeadm-config&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-system&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Namespace</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubelet] Creating a ConfigMap </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;kubelet-config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> in namespace kube-system with the configuration </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> the kubelets in the cluster</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade] Backing up kubelet config file to /etc/kubernetes/tmp/kubeadm-kubelet-config2416135083/config.yaml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubelet-start] Writing kubelet configuration to file </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;/var/lib/kubelet/config.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubeconfig] Writing </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;admin.conf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> kubeconfig file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[kubeconfig] Writing </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;super-admin.conf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> kubeconfig file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to get nodes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> nodes to get long term certificate credentials</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[bootstrap-token] Configured RBAC rules to allow certificate rotation </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> all node client certificates in the cluster</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[addons] Applied essential addon: CoreDNS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">W1221</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 21:38:14.892463</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">   12875</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> postupgrade.go:188]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ConfigMap</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-system&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> was</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> found.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Assuming</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> was</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> deployed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Note</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> once</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;kubeadm upgrade apply&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> supports</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> phases</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> have</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> skip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> manually</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/successful] SUCCESS</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Your</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> was</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgraded</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;v1.29.0&quot;.</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Enjoy!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[upgrade/kubelet] Now that your control plane is upgraded, please proceed with upgrading your kubelets </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> haven&#39;t already done so.</span></span></code></pre></div><h2 id="升级其他控制平面节点的-kubeadm" tabindex="-1">升级其他控制平面节点的 <code>kubeadm</code> <a class="header-anchor" href="#升级其他控制平面节点的-kubeadm" aria-label="Permalink to &quot;升级其他控制平面节点的 \`kubeadm\`&quot;">​</a></h2><p>和之前升级第一个控制平面节点不同的是，我们需要用下面的命令来升级其他剩下的<strong>控制平面</strong>节点：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node</span></span></code></pre></div><h2 id="逐步升级所有控制平面的节点的-kubelet-和-kubectl" tabindex="-1">逐步升级所有控制平面的节点的 <code>kubelet</code> 和 <code>kubectl</code> <a class="header-anchor" href="#逐步升级所有控制平面的节点的-kubelet-和-kubectl" aria-label="Permalink to &quot;逐步升级所有控制平面的节点的 \`kubelet\` 和 \`kubectl\`&quot;">​</a></h2><h3 id="驱逐-pod" tabindex="-1">驱逐 Pod <a class="header-anchor" href="#驱逐-pod" aria-label="Permalink to &quot;驱逐 Pod&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> drain</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">node-to-drai</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --ignore-daemonsets</span></span></code></pre></div><p>对于我而言的话，按步骤执行</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> drain</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --ignore-daemonsets</span></span></code></pre></div><p>就好了。</p>`,18),u=n(`<h3 id="取消驱逐" tabindex="-1">取消驱逐 <a class="header-anchor" href="#取消驱逐" aria-label="Permalink to &quot;取消驱逐&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uncordon</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node1</span></span></code></pre></div><p>检查节点状态，看看版本是否对齐：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   ROLES</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           AGE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   VERSION</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    control-plane</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   71d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          71d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          71d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.28.4</span></span></code></pre></div><h2 id="升级负载节点" tabindex="-1">升级负载节点 <a class="header-anchor" href="#升级负载节点" aria-label="Permalink to &quot;升级负载节点&quot;">​</a></h2><h3 id="升级-kubeadm" tabindex="-1">升级 <code>kubeadm</code> <a class="header-anchor" href="#升级-kubeadm" aria-label="Permalink to &quot;升级 \`kubeadm\`&quot;">​</a></h3>`,6),C=n('<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node</span></span></code></pre></div><h3 id="驱逐-pod-1" tabindex="-1">驱逐 Pod <a class="header-anchor" href="#驱逐-pod-1" aria-label="Permalink to &quot;驱逐 Pod&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> drain</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> node2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --ignore-daemonsets</span></span></code></pre></div><h3 id="升级-kubelet-和-kubectl" tabindex="-1">升级 <code>kubelet</code> 和 <code>kubectl</code> <a class="header-anchor" href="#升级-kubelet-和-kubectl" aria-label="Permalink to &quot;升级 `kubelet` 和 `kubectl`&quot;">​</a></h3>',4),B=n(`<h3 id="取消驱逐-1" tabindex="-1">取消驱逐 <a class="header-anchor" href="#取消驱逐-1" aria-label="Permalink to &quot;取消驱逐&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sudo kubectl uncordon node2</span></span></code></pre></div><p>检查节点状态，看看版本是否对齐：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   ROLES</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">           AGE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   VERSION</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    control-plane</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   71d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          71d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">node3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   Ready</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">          71d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   v1.29.0</span></span></code></pre></div><p>状态为 <code>Ready</code> 就表示完成了。</p>`,5);function b(_,A,m,E,v,f){const l=e("NolebasePageProperties"),t=e("VPNolebaseInlineLinkPreview"),k=e("NolebaseGitContributors"),p=e("NolebaseGitChangelog");return g(),r("div",null,[F,i(l),y,a("p",null,[s("请先参考"),i(t,{href:"/笔记/🧱 基础设施/🚢 Kubernetes/Kubernetes 集群的日常升级和更新/通过 apt 升级和更新 1.29.0 版本的 kubeadm.html"},{default:h(()=>[s("通过 apt 升级和更新 1.29.0 版本的 kubeadm")]),_:1}),s(" 完成这部分的步骤。")]),c,a("p",null,[s("请先参考"),i(t,{href:"/笔记/🧱 基础设施/🚢 Kubernetes/Kubernetes 集群的日常升级和更新/通过 apt 升级和更新 1.29.0 版本的 kubelet 和 kubectl.html"},{default:h(()=>[s("通过 apt 升级和更新 1.29.0 版本的 kubelet 和 kubectl")]),_:1}),s(" 完成这部分的步骤。")]),u,a("p",null,[s("请先参考"),i(t,{href:"/笔记/🧱 基础设施/🚢 Kubernetes/Kubernetes 集群的日常升级和更新/通过 apt 升级和更新 1.29.0 版本的 kubeadm.html"},{default:h(()=>[s("通过 apt 升级和更新 1.29.0 版本的 kubeadm")]),_:1}),s(" 完成这部分的步骤。")]),C,a("p",null,[s("请先参考"),i(t,{href:"/笔记/🧱 基础设施/🚢 Kubernetes/Kubernetes 集群的日常升级和更新/通过 apt 升级和更新 1.29.0 版本的 kubelet 和 kubectl.html"},{default:h(()=>[s("通过 apt 升级和更新 1.29.0 版本的 kubelet 和 kubectl")]),_:1}),s(" 完成这部分的步骤。")]),B,i(k),i(p)])}const R=d(o,[["render",b]]);export{D as __pageData,R as default};
