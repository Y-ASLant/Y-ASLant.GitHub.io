import{_ as d,c as r,I as a,j as i,a as s,w as e,au as h,D as t,o}from"./chunks/framework.RMxno62p.js";const H=JSON.parse('{"title":"åœ¨é…ç½® 1Password ä½œä¸º SSH Agent çš„ç¯å¢ƒä¸­ rclone çš„ SFTP é›†æˆä¼šæç¤º Too many authentication failures é”™è¯¯","description":"","frontmatter":{"tags":["å¼€æº/è½¯ä»¶/rclone","å‘½ä»¤è¡Œ/rclone","å‘½ä»¤è¡Œ/ssh","å‘½ä»¤è¡Œ/ssh-add","å‘½ä»¤è¡Œ/op","è®¡ç®—æœº/ä¿¡æ¯æŠ€æœ¯/å®‰å…¨/å¯†ç ç®¡ç†å™¨/1Password","è®¡ç®—æœº/ç½‘ç»œ/åè®®/SFTP","è®¡ç®—æœº/ç½‘ç»œ/åè®®/SSH","å‘½ä»¤è¡Œ/systemd"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ“Ÿ ç»ˆç«¯/åœ¨é…ç½® 1Password ä½œä¸º SSH Agent çš„ç¯å¢ƒä¸­ rclone çš„ SFTP é›†æˆä¼šæç¤º Too many authentication failures é”™è¯¯.md","filePath":"ç¬”è®°/ğŸ“Ÿ ç»ˆç«¯/åœ¨é…ç½® 1Password ä½œä¸º SSH Agent çš„ç¯å¢ƒä¸­ rclone çš„ SFTP é›†æˆä¼šæç¤º Too many authentication failures é”™è¯¯.md"}'),g={name:"ç¬”è®°/ğŸ“Ÿ ç»ˆç«¯/åœ¨é…ç½® 1Password ä½œä¸º SSH Agent çš„ç¯å¢ƒä¸­ rclone çš„ SFTP é›†æˆä¼šæç¤º Too many authentication failures é”™è¯¯.md"},c=i("h1",{id:"åœ¨é…ç½®-1password-ä½œä¸º-ssh-agent-çš„ç¯å¢ƒä¸­-rclone-çš„-sftp-é›†æˆä¼šæç¤º-too-many-authentication-failures-é”™è¯¯",tabindex:"-1"},[s("åœ¨é…ç½® 1Password ä½œä¸º SSH Agent çš„ç¯å¢ƒä¸­ "),i("code",null,"rclone"),s(" çš„ SFTP é›†æˆä¼šæç¤º Too many authentication failures é”™è¯¯ "),i("a",{class:"header-anchor",href:"#åœ¨é…ç½®-1password-ä½œä¸º-ssh-agent-çš„ç¯å¢ƒä¸­-rclone-çš„-sftp-é›†æˆä¼šæç¤º-too-many-authentication-failures-é”™è¯¯","aria-label":'Permalink to "åœ¨é…ç½® 1Password ä½œä¸º SSH Agent çš„ç¯å¢ƒä¸­ `rclone` çš„ SFTP é›†æˆä¼šæç¤º Too many authentication failures é”™è¯¯"'},"â€‹")],-1),y=h(`<h2 id="tl-dr" tabindex="-1">TL;DR <a class="header-anchor" href="#tl-dr" aria-label="Permalink to &quot;TL;DR&quot;">â€‹</a></h2><p>é…ç½® <code>sshd</code> çš„ <code>MaxAuthTries</code> é€‰é¡¹å³å¯ï¼š</p><div class="language-ssh-config vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ssh-config</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># MaxAuthTries 6</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">MaxAuthTries</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 20</span></span></code></pre></div><h2 id="è¯´æ˜" tabindex="-1">è¯´æ˜ <a class="header-anchor" href="#è¯´æ˜" aria-label="Permalink to &quot;è¯´æ˜&quot;">â€‹</a></h2><p>æœ€è¿‘åœ¨åšä¸€äº› <code>rclone</code> ç›¸å…³çš„é›†æˆå¼€å‘ï¼Œåœ¨å°è¯•ä½¿ç”¨ <code>rclone</code> çš„ SFTP åè®®é›†æˆçš„æ—¶å€™å…ˆæ˜¯é‡åˆ°äº†å¤ªé•¿æ—¶é—´ä¹‹å <code>rclone</code> æ— å“åº”çš„é—®é¢˜ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rclone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test-ssh:</span></span></code></pre></div><p>æˆ‘çš„é…ç½®æ˜¯è¿™æ ·çš„</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">test-ssh</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> = s</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ftp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> = &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">ç”¨æˆ·å&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> = &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">æœåŠ¡å™¨ IP&gt;</span></span></code></pre></div><p><code>rclone</code> æœ‰æ”¯æ´é€šè¿‡ <code>-v</code> å’Œå’Œå¤šä¸ª <code>v</code> çš„ <code>-vvv</code> æ¥æ‰“å°æ›´è¯¦å°½çš„æ—¥å¿—è¾“å‡ºçš„åŠŸèƒ½ï¼Œæ‰“å°å’Œè§‚å¯Ÿäº†ä¹‹åå‘ç°å®ƒä¸€ç›´åœ¨é‡åˆ° Too many authentication failures çš„é”™è¯¯é—®é¢˜ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â¯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rclone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test-ssh:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -vvv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2023/12/11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 18:07:52</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DEBUG</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rclone:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Version</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;v1.65.0&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> starting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> parameters</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;rclone&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ls&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;test-ssh:&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;-vvv&quot;]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2023/12/11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 18:07:52</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DEBUG</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Creating</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> backend</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;test-ssh:&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2023/12/11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 18:07:52</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DEBUG</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Using</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;/Users/neko/.config/rclone/rclone.conf&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2023/12/11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 18:07:52</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> DEBUG</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pacer:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> low</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> level</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> retry</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1/10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (error </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">couldn&#39;t connect SSH: ssh: handshake failed: ssh: disconnect, reason 2: Too many authentication failures)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">2023/12/11 18:07:52 DEBUG : pacer: Rate limited, increasing sleep to 200ms</span></span></code></pre></div><h2 id="è§£å†³" tabindex="-1">è§£å†³ <a class="header-anchor" href="#è§£å†³" aria-label="Permalink to &quot;è§£å†³&quot;">â€‹</a></h2><p>æˆ‘æœ¬åœ°ä½¿ç”¨äº† 1Password çš„ CLI å‘½ä»¤è¡Œå·¥å…·é›†æˆ <code>op</code> æ¥æä¾› SSH Agent çš„èƒ½åŠ›ï¼Œæ–¹ä¾¿æˆ‘åœ¨æ— éœ€å…³å¿ƒå’Œç®¡ç†æœ¬åœ°çš„å®ä½“å…¬é’¥å’Œç§é’¥çš„æƒ…å†µä¸‹è‡ªåŠ¨å¸®å¿™å®Œæˆå…¬é’¥å‘é€ã€ç§é’¥æ ¡éªŒå’Œæ˜¾å¼çš„æƒé™æ§åˆ¶çš„åŠŸèƒ½ã€‚</p><p>1Password é€šè¿‡é…ç½® <code>SSH_AUTH_SOCK</code> ç¯å¢ƒå˜é‡æ¥è®©æ‰€æœ‰ä¸ SSH Agent åŠŸèƒ½ç›¸å…¼å®¹çš„å·¥å…·åœ¨è¯»å–åˆ°ç¯å¢ƒå˜é‡çš„æ—¶å€™å»ä¸ SSH Agent èƒŒåçš„ SSH Agent æœåŠ¡æä¾›è½¯ä»¶é€šä¿¡å¹¶è·å–èº«ä»½éªŒè¯æ—¶å€™éœ€è¦çš„å¯†é’¥ï¼Œå®Œæˆæ•´ä¸ªå¯†é’¥äº¤æ¢çš„æµç¨‹ã€‚</p><p>é€šå¸¸è¿™æ ·çš„æ“ä½œæ˜¯åœ¨ <code>.zshrc</code> ä¸­é€šè¿‡é…ç½®ç¯å¢ƒå˜é‡å®ç°çš„ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 1Password CLI shell completion</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">eval</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">op</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> completion zsh)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">compdef</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> _op</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> op</span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 1Password CLI environment variables</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> SSH_AUTH_SOCK</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">1password</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">agent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">sock</span></span></code></pre></div><p>ä¹Ÿä¼šè¦æ±‚åœ¨ <code>.ssh/config</code> ä¸­é…ç½® <code>IdentityAgent</code> å­—æ®µæ¥å®ç°è¿™éƒ¨åˆ†çš„åŠ«æŒè¡Œä¸ºï¼š</p><div class="language-ssh-config vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ssh-config</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Host</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> *</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  IdentityAgent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &quot;~/Library/Group Containers/2BUA8C4S2C.com.1password/t/agent.sock&quot; </span></span></code></pre></div><p>é…ç½®äº† 1Password ä½œä¸º SSH Agent çš„æƒ…å†µä¸‹æ‰€æœ‰çš„ <code>ssh</code> å‘½ä»¤éƒ½å¯ä»¥äº¤ç»™ 1Password å®ç°ï¼Œæˆ‘åœ¨ä½¿ç”¨ç›¸åŒçš„ IP å’Œç”¨æˆ·åä¸æœåŠ¡ç«¯é€šä¿¡ä¹‹åä¹ŸéªŒè¯äº† 1Password å…¶å®æ˜¯åœ¨å·¥ä½œçš„ã€‚</p><p>æˆ‘è§‰å¾—ä¹Ÿè®¸æ˜¯æˆ‘å¯¹ <code>rclone</code> çš„ç†è§£ä¸å¤Ÿæ·±å…¥ï¼Œæ‰€ä»¥æ ¹æ®æ–‡æ¡£å’Œäº¤äº’å¼çš„ <code>rclone</code> é…ç½®å¼•å¯¼è¿›è¡Œäº†è°ƒè¯•å’Œæ’æŸ¥ï¼Œæˆ‘å‘ç°æˆ‘çš„é…ç½®å·²ç»å¾ˆç®€æ´äº†ï¼Œè€Œä¸” <code>rclone</code> ä¹Ÿåœ¨å®˜æ–¹æ–‡æ¡£ä¸­å£°æ˜ï¼š</p>`,19),F=h("<p>If you don&#39;t specifyÂ <code>pass</code>,Â <code>key_file</code>, orÂ <code>key_pem</code>Â orÂ <code>ask_password</code>Â then rclone will attempt to contact an ssh-agent. You can also specifyÂ <code>key_use_agent</code>Â to force the usage of an ssh-agent. In this caseÂ <code>key_file</code>Â orÂ <code>key_pem</code>Â can also be specified to force the usage of a specific key in the ssh-agent.</p>",1),C=h(`<p>è¿™æ„å‘³ç€æˆ‘ç°åœ¨ä¸æŒ‡å®š <code>pass</code>ï¼Œ<code>key_file</code>ï¼Œ<code>key_pem</code> å’Œ <code>ask_password</code> çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤å°±ä¼šä¸ SSH Agent é€šä¿¡å¹¶å°è¯•å®Œæˆå¯†é’¥äº¤äº’çš„æµç¨‹ã€‚</p><p>æˆ‘çœ‹åˆ°æœ‰äººæç¤ºè¯´å¯ä»¥é€šè¿‡</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ssh-add</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -l</span></span></code></pre></div><p>æ¥æŸ¥çœ‹ SSH Agent é…ç½®çŠ¶æ€å¥åº·ä¸å¦ï¼Œæ˜¯å¦æœ‰è¿”å›æœŸæœ›çš„å¯†é’¥ã€‚</p><p>æˆ‘å°è¯•ä¹‹åå‘ç°è¿™é‡Œé¢æœ‰å¥½å¤šå¥½å¤šå¯†é’¥ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â¯</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ssh-add</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -l</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256:</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">256</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ED25519)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">256</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ED25519)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">3072</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Certificate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Signing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Private</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">256</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256:::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ED25519)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">256</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256:::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Signing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ED25519)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">3072</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 6</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">256</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Signing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ED25519)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 7</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Certificate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Signing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Private</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Certificate</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Signing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Private</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">256</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (ED25519)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">3072</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">4096</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SHA256::</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> SSH</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Key</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 11</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (RSA)</span></span></code></pre></div><p>é‚£ï¼Œéš¾é“æ˜¯å¯†é’¥å¤ªå¤šäº†å¯¼è‡´ <code>Too many authentication failures</code> ï¼Ÿ</p><p>æˆ‘ä¹‹å‰ç¡®å®é‡åˆ°è¿‡ï¼Œä½†æ˜¯ <code>rclone</code> å¹¶æ²¡æœ‰ç»™å‡ºè¶³å¤Ÿçš„ä¿¡æ¯å‘ŠçŸ¥æˆ‘æœ‰å¤šå°‘çš„å¯†é’¥è¢«å‘é€å’Œäº¤æ¢äº†ï¼Œæˆ‘åªèƒ½çŒœæµ‹è¯´è¯´ä¸å®šæ˜¯éœ€è¦åƒ <code>ssh</code> å‘½ä»¤æœ¬èº«é‚£æ ·å»å£°æ˜å…¬é’¥æ‰è¡Œã€‚</p><p>ä½†æ˜¯ç¿»äº†å¥½ä¹… <code>rclone</code> çš„æ–‡æ¡£éƒ½æ²¡æœ‰æ‰¾åˆ°ç±»ä¼¼çš„é…ç½®é€‰é¡¹ï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆåŠæ³•ã€‚</p><p>ç›´åˆ°æˆ‘å†æ¬¡å»é˜…è¯» 1Password ä¸­å…³äº SSH Agent çš„æ–‡æ¡£çš„æ—¶å€™æˆ‘æ‰çœ‹åˆ°æœ‰å…³ <code>Too many authentication failures</code> è¿™æ ·çš„ä¸€æ®µè¯ï¼š</p>`,10),B=h('<p>If your SSH client offers the SSH server a seventh key, the server will refuse the connection and you&#39;ll see this error message in your SSH client:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Too</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> many</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> authentication</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> failures</span></span></code></pre></div>',2),A=i("em",null,"can",-1),u=i("code",null,"MaxAuthTries",-1),_=i("code",null,"/etc/ssh/sshd_config",-1),S=h(`<p>å¥½æ–¹å‘ï¼Œæˆ‘ä¹‹å‰è¿˜çœŸä¸çŸ¥é“ <code>sshd</code> å¯ä»¥è¿™æ ·é…ç½®ï¼Œäºæ˜¯æˆ‘å»æœåŠ¡ç«¯ä¿®æ”¹äº†ä¸€ä¸‹ <code>MaxAuthTries</code> çš„æ•°å€¼ï¼š</p><div class="language-ssh-config vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ssh-config</span><pre class="shiki shiki-themes github-light one-dark-pro has-diff vp-code" tabindex="0"><code><span class="line diff remove"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># MaxAuthTries 6</span></span>
<span class="line diff add"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">MaxAuthTries</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 20</span></span></code></pre></div><p>ç„¶åè¿è¡Œ</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sshd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span></span></code></pre></div><p>æµ‹è¯•é…ç½®æ–‡ä»¶çš„æœ‰æ•ˆæ€§ï¼Œå†è¿è¡Œ</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sshd</span></span></code></pre></div><p>æ¥é‡å¯ SSH æœåŠ¡ã€‚</p><p>è¿™ä¸ªæ—¶å€™ç”¨æœ€åˆçš„é…ç½®æ–‡ä»¶å†æ¬¡è¿è¡Œ</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rclone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test-ssh:</span></span></code></pre></div><p>å°±å‘ç°èƒ½è¿è¡Œäº†ï¼</p>`,10);function E(f,v,D,m,b,T){const l=t("NolebasePageProperties"),n=t("VPNolebaseInlineLinkPreview"),k=t("NolebaseGitContributors"),p=t("NolebaseGitChangelog");return o(),r("div",null,[c,a(l),y,i("blockquote",null,[F,i("p",null,[s("-- "),a(n,{href:"https://rclone.org/sftp/",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("SFTP")]),_:1})])]),C,i("blockquote",null,[B,i("p",null,[s("Server administratorsÂ "),A,s("Â increase the limit by settingÂ "),u,s("Â in theÂ "),a(n,{href:"https://linux.die.net/man/5/sshd_config",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("server'sÂ "),_]),_:1}),s(", but in many cases you can't (or don't want to) change this.")]),i("p",null,[s("-- "),a(n,{href:"https://developer.1password.com/docs/ssh/agent/advanced",target:"_blank",rel:"noreferrer"},{default:e(()=>[s("Advanced use cases | 1Password Developer")]),_:1})])]),S,a(k),a(p)])}const w=d(g,[["render",E]]);export{H as __pageData,w as default};
