import{_ as f,c as d,I as a,j as s,a as i,w as t,au as k,D as l,o as y}from"./chunks/framework.RMxno62p.js";const B="/assets/use-backend-presigned-post-policy-to-upload-files-directly-to-aws-s3-screenshot-3.6iY2AWmy.png",o="/assets/use-backend-presigned-post-policy-to-upload-files-directly-to-aws-s3-screenshot-1.whHQJodI.png",g="/assets/use-backend-presigned-post-policy-to-upload-files-directly-to-aws-s3-screenshot-2.Crvx9WGO.png",K=JSON.parse('{"title":"é€šè¿‡åç«¯é¢„ç­¾ç½²çš„ Policy åœ¨å‰ç«¯ç›´æ¥ä¸ Amazon S3 äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶","description":"","frontmatter":{"tags":["åŸºç¡€è®¾æ–½/äº‘æœåŠ¡å•†/äºšé©¬é€Šäº‘","åŸºç¡€è®¾æ–½/äº‘æœåŠ¡å•†/äºšé©¬é€Šäº‘/AWS","åŸºç¡€è®¾æ–½/å­˜å‚¨/å¯¹è±¡å­˜å‚¨/äºšé©¬é€Šäº‘/AWS/S3","å¼€å‘/åç«¯","å¼€å‘/å‰ç«¯","è®¡ç®—æœº/ä¿¡æ¯æŠ€æœ¯/å®‰å…¨","å¼€å‘/Nodejs","å¼€å‘/Nodejs/pnpm"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/é€šè¿‡åç«¯é¢„ç­¾ç½²çš„ Policy åœ¨å‰ç«¯ç›´æ¥ä¸ Amazon S3 äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶.md","filePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/é€šè¿‡åç«¯é¢„ç­¾ç½²çš„ Policy åœ¨å‰ç«¯ç›´æ¥ä¸ Amazon S3 äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶.md"}'),A={name:"ç¬”è®°/ğŸ› ï¸ å¼€å‘/é€šè¿‡åç«¯é¢„ç­¾ç½²çš„ Policy åœ¨å‰ç«¯ç›´æ¥ä¸ Amazon S3 äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶.md"},E=s("h1",{id:"é€šè¿‡åç«¯é¢„ç­¾ç½²çš„-policy-åœ¨å‰ç«¯ç›´æ¥ä¸-amazon-s3-äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶",tabindex:"-1"},[i("é€šè¿‡åç«¯é¢„ç­¾ç½²çš„ Policy åœ¨å‰ç«¯ç›´æ¥ä¸ Amazon S3 äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶ "),s("a",{class:"header-anchor",href:"#é€šè¿‡åç«¯é¢„ç­¾ç½²çš„-policy-åœ¨å‰ç«¯ç›´æ¥ä¸-amazon-s3-äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶","aria-label":'Permalink to "é€šè¿‡åç«¯é¢„ç­¾ç½²çš„ Policy åœ¨å‰ç«¯ç›´æ¥ä¸ Amazon S3 äº¤äº’å¹¶ä¸Šä¼ æ–‡ä»¶"'},"â€‹")],-1),c=k(`<p>è¿™ç§æŠ€æœ¯ä¹Ÿè¢«ç§°ä¹‹ä¸ºã€ŒæœåŠ¡ç«¯ç­¾åç›´ä¼ ã€ã€ã€Œå®¢æˆ·ç«¯ç›´ä¼ ã€ã€ã€ŒWeb ç«¯ç›´ä¼ ã€ã€ã€Œå‰ç«¯ç›´ä¼ ã€ï¼Œåœ¨é˜¿é‡Œäº‘ OSS ä¸­ä¹Ÿæœ‰æ”¯æŒ<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ã€‚</p><h2 id="iam-çš„æƒé™é…ç½®" tabindex="-1">IAM çš„æƒé™é…ç½® <a class="header-anchor" href="#iam-çš„æƒé™é…ç½®" aria-label="Permalink to &quot;IAM çš„æƒé™é…ç½®&quot;">â€‹</a></h2><p>æ²¡æœ‰æ–‡æ¡£å¯ä»¥å‚è€ƒå…·ä½“æƒé™æ˜¯å¦‚ä½•é…ç½®çš„ï¼Œä½†æ˜¯æˆ‘è‡ªå·±å®è·µäº†ä¸€ä¸‹åŸºæœ¬çš„æƒé™é…ç½®ï¼Œä½ å¯ä»¥å¤åˆ¶ç²˜è´´ä¸‹é¢çš„è¿™ä¸ªç­–ç•¥é…ç½® JSON æ¥ä½œä¸º Presigned Post Policy çš„å…¶ä¸­ä¸€éƒ¨åˆ†æˆæƒç»™ç›¸å…³çš„ IAM ç”¨æˆ·ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;PresignedPostPolicy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObjectAcl&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;arn:aws:s3:::yourbucketname/temp/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>æ³¨æ„è¿™é‡Œ <code>Resource</code> èƒŒåçš„ <code>arn:aws:s3:::yourbucketname/temp/*</code> ä»£è¡¨äº†æˆæƒè¯¥ Policy çš„ IAM ç”¨æˆ·å¯ä»¥ç­¾ç½² Post Policy å¹¶åœ¨ä¹‹åå…è®¸ç›´æ¥å¯¹ Bucket æ¥å…¥ç‚¹è¿›è¡Œ POST æ“ä½œä¸‹é¢çš„èµ„æºï¼š</p><ul><li><code>yourbucketname</code> çš„å­˜å‚¨æ¡¶</li><li>å­˜å‚¨æ¡¶ä¸‹æ–¹ç›®å½•ä¸º <code>temp/</code> å¼€å¤´çš„ä»»æ„æ–‡ä»¶</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;PresignedPostPolicy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObjectAcl&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;arn:aws:s3:::yourbucketname/temp/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>å½“ç„¶ï¼Œè¿™é‡Œåªæ˜¯å¯¹ IAM ç”¨æˆ·åšä¸€å±‚é™åˆ¶ï¼Œå®é™…çš„ <code>temp/*</code> ç›®å½•ä¸‹çš„æƒé™å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚å†å»é€šè¿‡ Policy å»é™åˆ¶ä¸€æ¬¡ã€‚</p><p>æœ€ç»ˆçœ‹èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·çš„</p>`,9),C=k(`<h2 id="node-js-æœåŠ¡ç«¯" tabindex="-1">Node.js æœåŠ¡ç«¯ <a class="header-anchor" href="#node-js-æœåŠ¡ç«¯" aria-label="Permalink to &quot;Node.js æœåŠ¡ç«¯&quot;">â€‹</a></h2><p>å…¶å®å¾ˆç®€å•ï¼Œé¦–å…ˆåœ¨æœ¬åœ° Node.js æœåŠ¡ç«¯é¡¹ç›®ä¸­å®‰è£… <code>@aws-sdk/s3-presigned-post</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @aws-sdk/s3-presigned-post</span></span></code></pre></div><p>å¦‚æœä½ ç”¨ <code>@antfu/ni</code> çš„è¯ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ni</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> @aws-sdk/s3-presigned-post</span></span></code></pre></div><p>å®‰è£…ä¹‹åç”¨ä¸‹é¢çš„ä»£ç å°±å¯ä»¥å¯¼å…¥ç”¨äºåˆ›å»ºä¸Šä¼ çš„æ—¶å€™ä½¿ç”¨çš„é¢„ç­¾ç½² Policy çš„å‡½æ•° <code>createPresignedPost</code> äº†ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">createPresignedPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;@aws-sdk/s3-presigned-post&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><p>ç”¨æ³•çš„è¯ï¼Œæˆ‘ä¸€èˆ¬ä¼šè¿™ä¹ˆå°è£…ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light one-dark-pro has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">createPresignedPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;@aws-sdk/s3-presigned-post&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> UploadingPolicyContentType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  Image</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;image/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> getSignedUploadPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  dir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  contentType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">UploadingPolicyContentType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">): </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;{</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  url</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  fields</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  new </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">S3Client</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">region</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;&lt;AWS S3 åœ°åŒº&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  let normalizedDir = dir;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (dir.endsWith(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    normalizedDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> dir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  return await </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">createPresignedPost</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(this.s3Client, {</span></span>
<span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">    Bucket</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;&lt;AWS S3 &gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // ä½¿ç”¨ \${filename} ç»“å°¾å¯ä»¥è®©å‰ç«¯æˆ–è€…ç”¨æˆ·è‡ªè¡Œå†³å®šæ–‡ä»¶åï¼Œæˆ–è€…ä¸Šä¼  N ä¸ªæ–‡ä»¶ [!code hl]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // è¿™å¯¹äºéœ€è¦è‡ªå®šä¹‰æ–‡ä»¶åçš„ä¸šåŠ¡å¾ˆé‡è¦ [!code hl]</span></span>
<span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">    Key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">normalizedDir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> + </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;/\${filename}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">    Conditions</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [ </span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      // é™åˆ¶ä¸Šä¼ è·¯å¾„ä¸­å¿…é¡»ä»¥ã€Œä¼ å…¥çš„ç›®å½•ã€è¿™ä¸ªå‚æ•°ä½œä¸ºå¼€å¤´</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;starts-with&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;$key&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">dir</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">], </span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      // è¿™é‡ŒæŒ‰ç…§è‡ªå·±çš„éœ€æ±‚è¿›è¡Œè°ƒæ•´å³å¯ï¼Œä¸€èˆ¬ä¼šé…ç½®ä¸º public-readï¼Œå› ä¸ºç”¨æˆ·ä¹Ÿéœ€è¦é¢„è§ˆè‡ªå·±ä¸Šä¼ çš„æ–‡ä»¶</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      { </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">acl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;public-read&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> }, </span></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      // é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ã€‚æ³¨æ„ï¼Œå¦‚æœåŠ äº†è¿™ä¸€è¡Œç­–ç•¥é…ç½®ï¼Œè¿™æ„å‘³ç€ä¸Šä¼ çš„æ—¶å€™éœ€è¦åœ¨ FormData é‡Œé¢æˆ–è€…å¤´é‡Œé¢æŒ‡å®šä¸€ä¸‹ Content-Type</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;starts-with&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;$Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">contentType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()], </span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ], </span></span>
<span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">    Fields</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: { </span></span>
<span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">      acl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;public-read&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }, </span></span>
<span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">    Expires</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div>`,9),F=k(`<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;https://&lt;bucket name&gt;.s3.&lt;region&gt;.amazonaws.com/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">  &quot;fields&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;acl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;public-read&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;bucket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;bucket name&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;X-Amz-Algorithm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;AWS4-HMAC-SHA256&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;X-Amz-Credential&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;KWNJNBJKAVLTTLHQSGOU/20231125/ap-southeast-1/s3/aws4_request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;X-Amz-Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;20231125T132451Z&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;dir to object&gt;/\${filename}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Policy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;eyAiZXhwaXJhdGlvbiI6ICIyMDE1LTEyLTMwVDEyOjAwOjAwLjAwMFoiLA0KICAiY29uZGl0aW9ucyI6IFsNCiAgICB7ImJ1Y2tldCI6ICJzaWd2NGV4YW1wbGVidWNrZXQifSwNCiAgICBbInN0YXJ0cy13aXRoIiwgIiRrZXkiLCAidXNlci91c2VyMS8iXSwNCiAgICB7ImFjbCI6ICJwdWJsaWMtcmVhZCJ9LA0KICAgIHsic3VjY2Vzc19hY3Rpb25fcmVkaXJlY3QiOiAiaHR0cDovL3NpZ3Y0ZXhhbXBsZWJ1Y2tldC5zMy5hbWF6b25hd3MuY29tL3N1Y2Nlc3NmdWxfdXBsb2FkLmh0bWwifSwNCiAgICBbInN0YXJ0cy13aXRoIiwgIiRDb250ZW50LVR5cGUiLCAiaW1hZ2UvIl0sDQogICAgeyJ4LWFtei1tZXRhLXV1aWQiOiAiMTQzNjUxMjM2NTEyNzQifSwNCiAgICB7IngtYW16LXNlcnZlci1zaWRlLWVuY3J5cHRpb24iOiAiQUVTMjU2In0sDQogICAgWyJzdGFydHMtd2l0aCIsICIkeC1hbXotbWV0YS10YWciLCAiIl0sDQoNCiAgICB7IngtYW16LWNyZWRlbnRpYWwiOiAiQUtJQUlPU0ZPRE5ON0VYQU1QTEUvMjAxNTEyMjkvdXMtZWFzdC0xL3MzL2F3czRfcmVxdWVzdCJ9LA0KICAgIHsieC1hbXotYWxnb3JpdGhtIjogIkFXUzQtSE1BQy1TSEEyNTYifSwNCiAgICB7IngtYW16LWRhdGUiOiAiMjAxNTEyMjlUMDAwMDAwWiIgfQ0KICBdDQp9&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;X-Amz-Signature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;quz7tazncsie4a522xt04sgrblamz3ws7c5baresosq3nho0eyk7lysijmgr1x6y&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>æ¥ä¸‹æ¥æ–°å»ºä¸€ä¸ª <code>FormData</code>ï¼Œå¹¶ä¸”å°†è¦ä¸Šä¼ çš„æ–‡ä»¶å’Œè¿”å›çš„ <code>fields</code> å…¨æ•°éå†å¹¶å†™å…¥åˆ° <code>FormData</code> ä¸­ï¼Œæœ€ç»ˆé€šè¿‡ <code>axios.post</code> å‘é€è¯·æ±‚å³å¯ã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  formData</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  key</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  value</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> Blob</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;string&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;object&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  else</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> FormDataCompatibleObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">  string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">  string</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> Blob</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> undefined</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/** å°† Object è½¬æ¢æˆ FormData */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> objectToFormData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> FormDataCompatibleObject</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> formData</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  Object</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">obj</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(([</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> undefined</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">isArray</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/** å°†æ–‡ä»¶åè½¬æ¢ä¸º HTTP å¤´éƒ¨ä¸­çš„ \`Content-Disposition\` æ ‡ç­¾ä¿¡æ¯ï¼Œç”¨äºæŒ‡å®šä¼ è¾“æ–‡ä»¶çš„åŸå§‹æ–‡ä»¶å */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> toRawFileName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> \`attachment; filename*=UTF-8&#39;&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">encodeURIComponent</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">filename</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">\`</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> uploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">options</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  /** ä¸Šä¼ æ¥å£ï¼Œä¸€èˆ¬ç›´æ¥æ˜¯ OSS/S3 çš„æ¥å£ */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  url</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  /** ä¸Šé¢æ¥å£ä¼šè¿”å›çš„å“åº”å€¼ */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  fields</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  /** æ–‡ä»¶ */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  file</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  /** æ–‡ä»¶çš„ MIME ç±»å‹ */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  contentType</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">   * æ˜¯å¦é€šè¿‡ Content-Disposition å¤´éƒ¨ä¿å­˜æ–‡ä»¶åï¼ˆä¾›æ–‡ä»¶ä¸‹è½½æ—¶ä½¿ç”¨ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">   * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@default</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  saveRawFilename</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">   * æ–‡ä»¶åï¼Œé»˜è®¤ä» file å¯¹è±¡ä¸­è·å–</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">   * éœ€è¦ä¸ \`saveRawFilename\` é…ç½®ä¸€èµ·ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">   * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@default</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> file.name</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">   */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;">  filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> formData</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> objectToFormData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">fields</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // æ–‡ä»¶çš„ MIME ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">contentType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // åŸå§‹æ–‡ä»¶åï¼ˆä¸‹è½½æ—¶ä½¿ç”¨ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">saveRawFilename</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Content-Disposition&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">toRawFileName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">filename</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // å¾…ä¸Šä¼ çš„æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // !!!: file å‚æ•°å¿…é¡»åœ¨æœ€å append ï¼Œä¸ç„¶ \`Content-Type\` å’Œ \`Content-Disposition\` ä¸ç”Ÿæ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">file</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> axios</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">formData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h2 id="è¡¥å……-ä¸Šä¼ å®Œæˆåçš„å¤åˆ¶å’Œåˆ é™¤" tabindex="-1">è¡¥å……ï¼šä¸Šä¼ å®Œæˆåçš„å¤åˆ¶å’Œåˆ é™¤ <a class="header-anchor" href="#è¡¥å……-ä¸Šä¼ å®Œæˆåçš„å¤åˆ¶å’Œåˆ é™¤" aria-label="Permalink to &quot;è¡¥å……ï¼šä¸Šä¼ å®Œæˆåçš„å¤åˆ¶å’Œåˆ é™¤&quot;">â€‹</a></h2><p>é€šå¸¸ï¼ŒåŸºäºæµè§ˆå™¨çš„åˆ° S3 çš„å‰ç«¯æµè§ˆå™¨ç›´ä¼ åŠŸèƒ½ä¼šæ¶‰åŠåˆ°ä¸€ä¸ªé—®é¢˜ï¼š</p><p>å¦‚æœä¸Šé¢ç­¾åçš„ Policy ä¸­ä½ ä¹Ÿä½¿ç”¨äº† <code>\${filename}</code> å…è®¸ä¸Šä¼ çš„æ—¶å€™ä¸Šä¼ ä»»æ„å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–è€…è¯´ï¼Œå¦‚æœç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶æ•°é‡ä¸å—æ§çš„è¯ï¼š</p><ol><li>å¯¹äºå¤´åƒä¸Šä¼ è¿™æ ·çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¦‚æœæ¯æ¬¡éƒ½ä¸Šä¼ ä¸€ä¸ªå¸¦æœ‰éšæœºæ•°çš„æ–‡ä»¶ï¼Œå¯èƒ½ä¼šå‡ºç°ç”¨æˆ·ä¸€ç›´é€‰ä¸€ç›´é€‰ï¼Œæœ€ç»ˆ bucket é‡Œé¢ä¼šæœ‰å¾ˆå¤šä¸ªç”¨æˆ·ä¸´æ—¶ä¸Šä¼ çš„ä¸€å¤§å †ä¸éœ€è¦çš„å¤´åƒæ–‡ä»¶</li><li>å¯¹äºç”¨æˆ·å¯ä»¥æ‰¹é‡ä¸Šä¼ çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¦‚æœæ¯æ¬¡éƒ½å¯ä»¥ä¸Šä¼ è‹¥å¹²ä¸´æ—¶æ–‡ä»¶ï¼Œä¾ç„¶ä¼šå‡ºç°ç”¨æˆ·ä¸€ç›´é€‰ä¸€ç›´é€‰ï¼Œä¸æ–­é‡æ–°ä¸Šä¼ ï¼Œæœ€ç»ˆå¯¼è‡´ bucket é‡Œé¢ä¼šæœ‰å¾ˆå¤šä¸ªç”¨æˆ·ä¸´æ—¶ä¸Šä¼ çš„ä¸€å¤§å †ä¸éœ€è¦çš„æ‰¹é‡ä¸Šä¼ çš„æ–‡ä»¶</li></ol><p>è¿™ä¸ªæ—¶å€™è¦ä»‹ç»ä¸€ä¸ªæ–°çš„æµç¨‹ï¼Œã€Œä¸Šä¼ å®Œæˆåçš„å¤åˆ¶å’Œåˆ é™¤ã€ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œè¿™æ ·çš„æµç¨‹å…è®¸æˆ‘ä»¬åœ¨å…è®¸ç”¨æˆ·ä¸Šä¼ å¤šä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œè®©æœåŠ¡ç«¯é€šè¿‡ã€Œå¤åˆ¶ã€å’Œã€Œåˆ é™¤ã€ï¼Œä¹Ÿå°±æ˜¯ã€Œå‰ªåˆ‡ã€çš„æ“ä½œï¼Œç•™ä¸‹é‚£äº›ç”¨æˆ·ä¸è¦çš„æ–‡ä»¶åˆ°ä¸´æ—¶æ–‡ä»¶å¤¹ä¸­ï¼Œè®¾å®šå®šæ—¶ä»»åŠ¡æ¥æ¸…ç†å’Œåˆ é™¤ä¸´æ—¶æ–‡ä»¶å¤¹ä¸­çš„èµ„æºï¼Œæœ€ç»ˆå®ç°å¯¹ä¸´æ—¶æ–‡ä»¶çš„ç®¡ç†å’Œé”€æ¯çš„æµç¨‹ã€‚</p><p>æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š</p><ol><li>ç”¨æˆ·é€‰æ‹©å¸Œæœ›ä¸Šä¼ çš„æ–‡ä»¶</li><li>è·å–ä¸Šä¼ çš„é¢„ç­¾å Policy</li><li>å¯¹ S3 å­˜å‚¨æ¡¶ API è¿›è¡Œ POST Object æ“ä½œï¼Œä¸Šä¼ æ–‡ä»¶åˆ°ä¸´æ—¶æ–‡ä»¶å¤¹</li><li>å°†ç”¨æˆ·æœ€ç»ˆå†³å®šå¥½æœ€ç»ˆä¸Šä¼ å®Œæˆçš„æ–‡ä»¶é€šè¿‡ API å‘ŠçŸ¥æœåŠ¡ç«¯</li><li>æœåŠ¡ç«¯å®šå‘ã€Œå¤åˆ¶ã€è¿™äº›å‰ç«¯å·²ç»ä¸Šä¼ å®Œæˆçš„å¯¹è±¡åˆ°ç‰¹å®šçš„ï¼Œåªæœ‰æœåŠ¡ç«¯å¯å†™çš„ç›®å½•</li><li>æœåŠ¡ç«¯å®šå‘ã€Œåˆ é™¤ã€è¿™äº›å·²ç»ã€Œå¤åˆ¶ã€å®Œæˆçš„å¯¹è±¡åŸå…ˆåœ¨çš„ä¸´æ—¶æ–‡ä»¶å¤¹çš„ä½ç½®</li></ol><p>æœ€ç»ˆç•™åœ¨ä¸´æ—¶æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å°±éƒ½æ˜¯å¯èƒ½ç”¨æˆ·å†ä¹Ÿä¸ä¼šè§¦ç¢°åˆ°æˆ–è€…è®¿é—®çš„ä¸´æ—¶æ–‡ä»¶äº†ï¼Œæˆ‘ä»¬ä¹Ÿè®¸å¯ä»¥åˆ›å»ºä¸€äº› AWS Lambda å‡½æ•°æˆ–è€…å®šæ—¶ä»»åŠ¡æ¥æ‰¹é‡åˆ é™¤é‚£äº›é•¿æ—¶é—´ä¸å†ä¿®æ”¹å’Œè®¿é—®çš„ä¸´æ—¶æ–‡ä»¶å¤¹ä¸­çš„èµ„æºï¼Œå¹¶æœ€ç»ˆå®ç°å¯¹ä¸´æ—¶æ–‡ä»¶çš„ç®¡ç†å’Œé”€æ¯çš„æµç¨‹ã€‚</p><p>åœ¨è¿™ä¸ªæµç¨‹ä¸­æœ€éº»çƒ¦çš„æ˜¯ AWS çš„ IAM ç­–ç•¥ï¼Œç»è¿‡æˆ‘çš„æµ‹è¯•ä¹‹åå‘ç°ï¼Œã€Œé¢„ç­¾åã€ï¼Œã€Œå¤åˆ¶å¯¹è±¡ã€å’Œã€Œåˆ é™¤å¯¹è±¡ã€ä¸‰ä¸ªæ“ä½œéœ€è¦ä¸‹é¢çš„è¿™å››ä¸ª IAM ç­–ç•¥ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;2012-10-17&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;Statement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;AllowPresignedPostForTempDir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObjectAcl&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;arn:aws:s3:::yourbucketname/temp/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;AllowCopyFromTempDirToRoot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:GetObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:GetObjectAcl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:GetObjectTagging&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObject&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObjectAcl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:PutObjectTagging&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;arn:aws:s3:::yourbucketname/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;arn:aws:s3:::yourbucketname/temp/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;AllowDeleteTempDir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:DeleteObject&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;arn:aws:s3:::yourbucketname/temp/*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Sid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;AllowReadBucket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Effect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Action&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;s3:ListBucket&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">            &quot;Resource&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">                &quot;arn:aws:s3:::yourbucketname&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>å¦‚æœä½ ä¹Ÿéœ€è¦è¿™æ ·çš„æµç¨‹ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„ IAM æƒé™ç­–ç•¥é…ç½®çœ‹çœ‹ï¼Œç„¶åè¿›ä¸€æ­¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚å»å®ç°ã€‚</p><h2 id="å¯»æ‰¾-aws-s3-çš„-javascript-sdk-æ–‡æ¡£ä¸­æœ‰å…³-pre-signed-post-åŠŸèƒ½çš„æ–‡æ¡£çœŸçš„å¾ˆå›°éš¾" tabindex="-1">å¯»æ‰¾ AWS S3 çš„ JavaScript SDK æ–‡æ¡£ä¸­æœ‰å…³ Pre-signed Post åŠŸèƒ½çš„æ–‡æ¡£çœŸçš„å¾ˆå›°éš¾ <a class="header-anchor" href="#å¯»æ‰¾-aws-s3-çš„-javascript-sdk-æ–‡æ¡£ä¸­æœ‰å…³-pre-signed-post-åŠŸèƒ½çš„æ–‡æ¡£çœŸçš„å¾ˆå›°éš¾" aria-label="Permalink to &quot;å¯»æ‰¾ AWS S3 çš„ JavaScript SDK æ–‡æ¡£ä¸­æœ‰å…³ Pre-signed Post åŠŸèƒ½çš„æ–‡æ¡£çœŸçš„å¾ˆå›°éš¾&quot;">â€‹</a></h2>`,16),x=s("code",null,"@aws-sdk/s3-presigned-post",-1),P=s("h3",{id:"æ˜¯å¦‚ä½•æ‰¾åˆ°ä¸ä¹‹ç›¸å…³çš„æ–‡æ¡£çš„",tabindex:"-1"},[i("æ˜¯å¦‚ä½•æ‰¾åˆ°ä¸ä¹‹ç›¸å…³çš„æ–‡æ¡£çš„ï¼Ÿ "),s("a",{class:"header-anchor",href:"#æ˜¯å¦‚ä½•æ‰¾åˆ°ä¸ä¹‹ç›¸å…³çš„æ–‡æ¡£çš„","aria-label":'Permalink to "æ˜¯å¦‚ä½•æ‰¾åˆ°ä¸ä¹‹ç›¸å…³çš„æ–‡æ¡£çš„ï¼Ÿ"'},"â€‹")],-1),u=s("p",null,"æœ‰å…³è¿™ä¸ªåŠŸèƒ½å—çš„æ–‡æ¡£çœŸçš„å¾ˆéš¾æ‰¾... æˆ‘èŠ±äº†å¥½ä¹…æ‰æ‰¾åˆ°ç›®æ ‡æ–‡æ¡£ã€‚",-1),z=s("p",null,"åœ¨ Amazon S3ï¼ˆæˆ–è€…è¯´ AWS S3ï¼‰çš„æ–‡æ¡£ä¸­ï¼Œå®ƒæœ‰å¥½å‡ ä¸ªç‰ˆæœ¬ï¼š",-1),D=s("p",null,"ç¬¬ä¸€ä¸ªé“¾æ¥ä½¿ç”¨çš„æ˜¯ AWS Signature Version 2 æ¥è¿›è¡Œç­¾åå’Œæ ¡éªŒï¼Œä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬æ˜¯è¿‡æ—¶çš„ï¼Œå¦‚æœç‚¹åˆ°è¿™ä¸ªæ–‡æ¡£é‡Œé¢å°†ä¼šå‘ç°å®ƒæç¤ºè¯´å»ºè®®è¿ç§»åˆ° Version 4ï¼š",-1),T=s("em",null,"Amazon Simple Storage Service API Reference",-1),H=s("p",null,"æ‰€ä»¥ä¹Ÿæ‰ä¼šæœ‰åé¢çš„ä¸‰ä¸ªé“¾æ¥å¯ä»¥å‚è€ƒï¼Œä½†æ˜¯å³ä¾¿å¦‚æ­¤è¿™ä¾ç„¶ä»¤äººå¤´ç—›ã€‚",-1),M=s("p",null,"å› ä¸ºä¸é˜¿é‡Œäº‘ OSS çš„æ–‡æ¡£ä¸åŒçš„æ˜¯ï¼ŒAmazon S3ï¼ˆæˆ–è€…è¯´ AWS S3ï¼‰çš„ç›´ä¼ æ–‡æ¡£å¹¶æ²¡æœ‰ç»™å‡ºä¸€ä¸ªå¯ä»¥å‚è€ƒçš„ä»£ç æ¡ˆä¾‹ï¼Œä¹Ÿæ²¡æœ‰æä¾›é“¾æ¥åˆ° SDK ä¸‹å± API çš„æ–‡æ¡£é“¾æ¥ï¼Œåªæ˜¯ç®€å•çš„ç”©å‡ºæ¥å‡ ä¸ªæ–‡æ¡£æ¥è¯´æ˜å’Œä»‹ç»æ•´ä¸ªç­¾åå’Œè®¡ç®— hash çš„æµç¨‹å’Œæ­¥éª¤ã€‚",-1),m=s("p",null,[i("AWS SDK now provides an easy way to create the POST policy withÂ "),s("code",null,"createPresignedPost()"),i(".")],-1),L=s("p",null,"æ‰€ä»¥ AWS SDK æ˜¯æä¾›äº†å¯ä»¥è®¡ç®—å’Œåˆ›å»ºé¢„ç­¾åçš„ Policy çš„ API å’Œå‡½æ•°å°è£…çš„ã€‚",-1),S=s("p",null,[i("ä½†æ˜¯è¿™ä¸ªæ—¶å€™ç›´æ¥ç‚¹åˆ°ä¸Šé¢è¿™æ®µå¼•ç”¨æ‰€å…³è”åˆ°çš„æœ‰å…³ "),s("code",null,"createPresignedPost()"),i(" çš„æ–‡æ¡£ä¹‹åå†å»æœ¬åœ°çš„ Node.js æœåŠ¡ç«¯ä¸­å°è¯•å¼•å…¥è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç°è¿™ä¸ªå‡½æ•°å…¶å®ä¸å­˜åœ¨ï¼Œå¦‚æœå†è¿”å›å›å»çœ‹è¿™ä»½è¿‡æ—¶çš„ S3 SDK çš„æ–‡æ¡£çš„æ—¶å€™ï¼Œå°±å¯ä»¥å‘ç° S3 SDK éƒ¨åˆ†çš„æ–‡æ¡£ä¼šæç¤ºè¯´å»ºè®®è¿ç§»ï¼š")],-1),w=s("p",null,"You are viewing the documentation for an older major version of the AWS SDK for JavaScript.",-1),v=s("p",null,[i("é“¾æ¥æ‰èƒ½æŠµè¾¾ç°åœ¨æœ€æ–°ç‰ˆæœ¬çš„ JavaScript SDK æ‰€åœ¨çš„æ–‡æ¡£ï¼Œè¿™ä¸ªæ—¶å€™å»æœç´¢ "),s("code",null,"createPresignedPost()"),i(" è¿˜æ˜¯èƒ½å‘ç°å…¶å®æ²¡åŠæ³•æ‰¾åˆ°å¯¹åº”çš„å‡½æ•°çš„è¯´æ˜æ–‡æ¡£ï¼š")],-1),q=s("p",null,[i("è¿™æ˜¯å› ä¸ºå…¶å® S3 çš„ "),s("code",null,"createPresignedPost()"),i(" å‡½æ•°æ˜¯åœ¨å•ç‹¬çš„ä¸€ä¸ª Packages çš„åˆ†ç±»ä¸‹é¢çš„ï¼Œåªæœ‰ç‚¹å‡»åˆ°äº† Packages ä¸‹é¢çš„ "),s("code",null,"s3-presigned-post"),i(" æ‰èƒ½æŠµè¾¾çœŸæ­£çš„æœ‰å…³ Presigned Post ç›¸å…³çš„æ–‡æ¡£ï¼š")],-1),b=s("hr",{class:"footnotes-sep"},null,-1),I={class:"footnotes"},_={class:"footnotes-list"},j={id:"fn1",class:"footnote-item"},J=s("a",{href:"#fnref1",class:"footnote-backref"},"â†©ï¸",-1);function R(N,Q,W,O,G,U){const p=l("NolebasePageProperties"),h=l("NolebaseUnlazyImg"),n=l("VPNolebaseInlineLinkPreview"),e=l("NolebaseGitContributors"),r=l("NolebaseGitChangelog");return y(),d("div",null,[E,a(p),c,s("p",null,[a(h,{src:B,alt:"",thumbhash:"/fcBBYCBIIhSlWhhh0h3lSB2BFI3",placeholderSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAAMEElEQVR4AQCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AIEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8AgQB+/wDz9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5/wCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AIEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8AgQB+/wDz9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5/wCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AIEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8AgQB+/wDz9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5/wCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AIEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8AgQB+/wDz9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5/wCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AIEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8AgQB+/wDz9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5/wCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AIEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8AgQB+/wDz9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5/wCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AIEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8AgQB+/wDz9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5/wCBAH7/APP3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/AYEAfv8A8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f/z9/n/8/f5//P3+f8PoypmqEvz/QAAAABJRU5ErkJggg==",width:"2312",height:"1522",autoSizes:"true"})]),C,s("p",null,[i("æœ‰å…³è¿™äº›å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ "),a(n,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTForms.html#sigv4-HTTPPOSTFormFields",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Creating an HTML Form (Using AWS Signature Version 4) - Amazon Simple Storage Service")]),_:1}),i(" æ–‡æ¡£æŸ¥é˜…äº†è§£ã€‚ è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¹‹åå°†ä¼šè·å¾—ä¸‹é¢çš„è¿”å›å€¼ï¼š")]),F,s("p",null,[a(n,{href:"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/Package/-aws-sdk-s3-presigned-post/",target:"_blank",rel:"noreferrer"},{default:t(()=>[x,i(" - AWS SDK for JavaScript v3")]),_:1})]),P,u,z,s("ul",null,[s("li",null,[a(n,{href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingHTTPPOST.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Browser-based uploads using POST (AWS signature version 2)")]),_:1})]),s("li",null,[a(n,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-post-example.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Example: Browser-Based Upload using HTTP POST (Using AWS Signature Version 4) - Amazon Simple Storage Service")]),_:1})]),s("li",null,[a(n,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-authentication-HTTPPOST.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Authenticating Requests: Browser-Based Uploads Using POST (AWS Signature Version 4) - Amazon Simple Storage Service")]),_:1})]),s("li",null,[a(n,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/browser-based-uploads-aws-amplify.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Browser-Based Uploads to Amazon S3 Using the AWS Amplify Library - Amazon Simple Storage Service")]),_:1})])]),D,s("blockquote",null,[s("p",null,[i("Amazon S3 now supports Signature Version 4, a protocol for authenticating inbound API requests to AWS services, in all AWS Regions. At this time, AWS Regions created before January 30, 2014 will continue to support the previous protocol, Signature Version 2. Any new regions after January 30, 2014 will support only Signature Version 4 and therefore all requests to those regions must be made with Signature Version 4. For more information, seeÂ "),a(n,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-authentication-HTTPPOST.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Authenticating Requests in Browser-Based Uploads Using POST (AWS Signature Version 4)")]),_:1}),i("Â in theÂ "),T,i(".")])]),H,M,s("p",null,[i("è¿™è®©æˆ‘åœ¨å°è¯•é›†æˆçš„æ—¶å€™å¤´ç–¼äº†å¥½ä¸€ä¼šå„¿ï¼Œç¿»äº†å¥½å¤šæ–‡æ¡£å’Œ StackOverflow ä»¥åŠæŠ€æœ¯åšå®¢æ¥å¯»æ‰¾è››ä¸é©¬è¿¹ã€‚æ‰€å¹¸æˆ‘åœ¨ä¸€ç¯‡ "),a(n,{href:"https://stackoverflow.com/a/61998502/19954520",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("javascript - Amazon S3 POST api, and signing a policy with NodeJS")]),_:1}),i(" çš„ StackOverflow çš„é—®ç­”ä¸­æ‰¾åˆ°äº†ä¸€äº›å¤´ç»ªï¼š")]),s("blockquote",null,[m,s("p",null,[i("Docs:Â "),a(n,{href:"https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#createPresignedPost-property",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#createPresignedPost-property")]),_:1})])]),L,S,s("blockquote",null,[w,s("p",null,[i("The modular AWS SDK for JavaScript (v3), the latest major version of AWS SDK for JavaScript, is now stable and recommended for general use. For more information, see theÂ "),a(n,{href:"https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/migrating-to-v3.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Migration Guide")]),_:1}),i("Â andÂ "),a(n,{href:"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/index.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("API Reference.")]),_:1})])]),s("p",null,[i("è¿ç§»ä¸€èˆ¬è€Œè¨€ä¹Ÿä¸æ˜¯é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™å†ç‚¹åˆ° "),a(n,{href:"https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/migrating-to-v3.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Migration Guide")]),_:1}),i(" çš„æ–‡æ¡£ä¸­æ‰èƒ½äº†è§£åˆ°ä¸åŒ SDK çš„åŒºåˆ«ï¼Œä¸è¿‡... è¿™è·ç¦»æœ€ç»ˆçš„ç­”æ¡ˆä¾ç„¶è¿˜æœ‰ä¸€äº›è·ç¦»ã€‚ä½ å…¶å®éœ€è¦ç‚¹å‡»ä¸Šé¢è¿™æ®µå¼•ç”¨çš„")]),s("blockquote",null,[s("p",null,[a(n,{href:"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/index.html",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("API Reference.")]),_:1})])]),v,s("p",null,[a(h,{src:o,alt:"",thumbhash:"SOcBBICfV9mibHqMmnxpf5v3pw==",placeholderSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAASCAYAAAA6yNxSAAAJcklEQVR4AQCBAH7/ABMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/AIEAfv8AEx8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8AgQB+/wATHy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/wCBAH7/ABMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/AIEAfv8AEx8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8AgQB+/wATHy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/wCBAH7/ABMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/AIEAfv8AEx8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8AgQB+/wATHy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/wCBAH7/ABMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/AIEAfv8AEx8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8AgQB+/wATHy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/wCBAH7/ABMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/AIEAfv8AEx8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8AgQB+/wATHy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/wCBAH7/ABMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/AIEAfv8AEx8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8BgQB+/wATHy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/xMfLf8THy3/Ex8t/x1xE64xtAepAAAAAElFTkSuQmCC",width:"2848",height:"1788",autoSizes:"true"})]),q,s("p",null,[a(h,{src:g,alt:"",thumbhash:"h/cFBIDPqImZiXiadn8HtMXEnw==",placeholderSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAASCAYAAAA6yNxSAAAJcklEQVR4AQCBAH7/AFldZ/9WWmT/UlZg/0xQWv9FSVP/P0NN/zo+SP82OkT/NDhC/zM3Qf8yNkD/MjZA/zE1P/8wND7/LjI8/ysvOf8oLDf/JSk0/yInMf8gJC7/HiIs/xwgKv8bHyn/Gx8p/xsfKf8cICr/HiIs/yAkLv8iJjD/JCgy/yYqNP8nKzX/AIEAfv8AVFhi/1FVYP9NUVv/R0tV/0BETv86Pkj/NTlD/zE1P/8vMz3/LTI8/y0xO/8sMDv/LDA6/youOf8oLTf/Jio0/yMnMf8gJC7/HSEr/xsfKf8ZHSf/Fxsl/xYaJP8WGiT/Fhok/xcbJf8ZHSf/Gx8p/x0hK/8fIy7/ISUv/yImMP8AgQB+/wBLUFr/SU1X/0RIUv8+Qkz/NztF/zE1P/8sMDr/KCw2/yUpNP8kKDL/Iygy/yMnMf8iJjD/ISUv/x8jLf8dISv/Gh4o/xcbJf8UGCL/EhYg/xAUHv8OEh3/DhIc/w0SHP8OEhz/DxMd/xEVH/8TFyH/FRkj/xcbJf8ZHSf/Gh4o/wCBAH7/AEFFT/8/Q03/Oj5I/zM4Qv8tMTv/Jio0/yElL/8dISv/Gh4o/xkdJ/8YHCb/GBwm/xcbJf8WGiT/FBgi/xEVH/8PEx3/DBAa/wkNF/8HCxX/BQkU/wQIEv8ECBL/BAgS/wQIE/8GChT/BwsW/woOGP8MEBr/DhIc/w8UHv8QFB7/AIEAfv8AODxG/zU5Q/8wND7/Ki44/yMnMf8cICr/Fxsl/xIWIf8QFB7/DhIc/w4SHP8NERv/DBAa/wsPGf8JDRf/BwsV/wQIEv8CBhD/AAMN/wABC/8AAAr/AAAJ/wAACf8AAAn/AAAK/wABDP8AAw3/AQUQ/wQIEv8GChT/BwsV/wgMFv8AgQB+/wAxNT//LjI8/yktN/8iJjH/Gx8q/xUZI/8PEx3/Cw8Z/wgMFv8HCxX/BgoU/wUJFP8FCRP/AwcS/wIGEP8AAw3/AAEL/wAACf8AAAb/AAAF/wAABP8AAAP/AAAD/wAABP8AAAX/AAAH/wAACP8AAAv/AAMN/wEFD/8CBhD/AwcR/wCBAH7/AC4yPP8rLzn/Jio0/x8jLf8YHCb/ERUg/wwQGv8IDBb/BQkT/wMIEv8DBxH/AgYQ/wIGEP8ABA//AAMN/wAAC/8AAAj/AAAG/wAABP8AAAP/AAAC/wAAAv8AAAL/AAAD/wAABP8AAAb/AAAI/wAACv8AAgz/AAQO/wEFEP8CBhD/AIEAfv8ALzM9/ywwOv8nKzX/ICQv/xkdJ/8TFyH/DREb/wkNF/8GChX/BQkT/wUJE/8ECBL/AwgS/wIGEP8BBQ//AAMN/wAACv8AAAj/AAAH/wAABf8AAAX/AAAF/wAABv8AAAf/AAAI/wAACv8AAgz/AAQO/wIGEP8ECBL/BQkT/wYKFP8AgQB+/wAzN0L/MTU//ywwOv8lKTP/HiIs/xcbJv8SFiD/DhIc/wwQGv8LDxn/Cg4Y/woOGP8JDhj/CAwX/wcLFf8FCRP/AgYR/wAEDv8AAw3/AAIM/wACDP8AAgz/AAMN/wAEDv8CBhD/BAgS/wYKFP8IDBb/Cg4Y/wsPGf8MERv/DREb/wCBAH7/ADk9SP83O0X/MjZA/ysvOf8kKDP/HiIs/xkdJ/8VGSP/Exch/xIWIf8SFiD/EhYg/xIWIP8RFR//DxMd/w0RG/8LDxn/CQ0X/wcLFf8GChT/BgoU/wcLFf8IDBb/CQ0X/wsPGf8NERv/DxMd/xEVH/8SFiD/FBgi/xUZI/8VGiT/AIEAfv8AP0NN/zxASv83O0b/MTU//yovOf8kKDP/ICQu/xwgKv8bHyn/Gh4o/xoeKP8aHyn/Gh4o/xkdJ/8XHCb/FRkj/xMXIf8RFR//DxMd/w4SHP8OEhz/DhMd/xAUHv8RFR//Exch/xUZI/8WGyX/GBwm/xoeKP8bHyn/HCAq/x0hK/8AgQB+/wBCRlD/P0RO/zs/Sf81OUP/LjI9/yktN/8kKDL/ISUv/yAkLv8gJC7/ICQv/yElL/8hJS//ICQu/x4iLP8bHyr/GR0n/xYaJf8VGSP/Exgi/xMXIf8UGCL/FRkj/xYaJP8YHCb/GR0o/xsfKf8dISv/HiIs/x8jLf8gJC7/ICQv/wCBAH7/AEJGUP8/Q03/Oz9J/zU5Q/8vMz3/KS04/yUpNP8jJzH/IiYw/yImMf8jJzH/JCgy/yQoMv8jJzH/ISUv/x4iLP8bHyn/GBwn/xYaJP8VGSP/FRkj/xUZI/8WGiT/Fxsl/xgcJ/8aHij/Gx8q/x0hK/8eIiz/HyMt/x8jLv8gJC7/AIEAfv8APkJM/zs/Sv83O0X/MTVA/ywwOv8nKzX/Iycx/yElL/8hJS//ISUv/yImMP8jJzH/Iycx/yImMP8gJC7/HSEr/xoeKP8XGyX/FBgi/xIWIf8SFiD/EhYg/xIWIf8TFyL/FRkj/xYaJP8XGyX/GBwm/xkdJ/8aHij/Gh4p/xsfKf8AgQB+/wA3O0X/NTlD/zE1P/8rLzn/Jio0/yElL/8eIiz/HCAq/xwgKv8dISv/HiIt/x8jLf8fIy3/HiIs/xwgKv8YHCf/FRkj/xEWIP8PEx3/DREb/wwQGv8LDxr/DBAa/w0RG/8OEhz/DxMd/xAUHv8RFR//ERUf/xIWIP8SFiD/EhYg/wCBAH7/ADA0Pv8tMTz/KS03/yQoMv8fIy3/Gh8p/xgcJv8WGiT/Fhol/xgcJv8ZHSf/Gh4o/xoeKP8ZHSf/Fhok/xMXIf8PEx3/Cw8Z/wgMFv8GChT/BAgS/wQIEv8ECBL/BQkT/wUJFP8GChT/BwsV/wgMFv8IDBb/CA0X/wkNF/8JDRf/AIEAfv8AKS03/ycrNf8jJzH/HiIs/xkdJ/8VGSP/EhYg/xEVH/8RFR//Ehch/xQYIv8VGSP/FRkj/xMYIv8RFR//DREb/wkNF/8FCRP/AgYQ/wADDf8AAgz/AAEL/wABC/8AAgz/AAIM/wADDf8AAw7/AAQO/wAEDv8ABQ//AQUP/wEFD/8BgQB+/wAlKTP/Iycx/x8jLf8aHij/FRkj/xEVH/8OEx3/DhIc/w4SHP8PEx7/ERUf/xIWIP8SFiD/EBUf/w4SHP8KDhj/BgoU/wIGEP8AAgz/AAAK/wAACP8AAAf/AAAH/wAAB/8AAAj/AAAJ/wAACf8AAAr/AAAK/wAACv8AAAr/AAAK/1nF/AYFTB80AAAAAElFTkSuQmCC",width:"2848",height:"1788",autoSizes:"true"})]),s("p",null,[i("æ–‡æ¡£åœ¨ "),a(n,{href:"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/Package/-aws-sdk-s3-presigned-post/",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("AWS SDK for JavaScript v3")]),_:1}),i("ã€‚")]),a(e),a(r),b,s("section",I,[s("ol",_,[s("li",j,[s("p",null,[i("åœ¨é˜¿é‡Œäº‘ OSS çš„"),a(n,{href:"https://help.aliyun.com/zh/oss/use-cases/obtain-signature-information-from-the-server-and-upload-data-to-oss",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("æœåŠ¡ç«¯ç­¾åç›´ä¼ ")]),_:1}),i("æ–‡æ¡£ä¸­ä¼šæœ‰ä»‹ç»åˆ°ã€‚ "),J])])])])])}const Y=f(A,[["render",R]]);export{K as __pageData,Y as default};
