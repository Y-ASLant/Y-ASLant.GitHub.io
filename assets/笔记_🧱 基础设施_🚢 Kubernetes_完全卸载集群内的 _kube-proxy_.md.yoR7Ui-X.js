import{_ as k,c as o,I as a,j as s,w as l,a as i,au as r,D as e,o as d}from"./chunks/framework.RMxno62p.js";const E=JSON.parse('{"title":"å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ kube-proxy","description":"","frontmatter":{"tags":["è¿ç»´/äº‘åŸç”Ÿ/Kubernetes","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes/K8s","è½¯ä»¶/äº‘åŸç”Ÿ/kubelet","å‘½ä»¤è¡Œ/kubectl","è½¯ä»¶/äº‘åŸç”Ÿ/kubectl","å‘½ä»¤è¡Œ/ip","å‘½ä»¤è¡Œ/ipvsadm","è½¯ä»¶/äº‘åŸç”Ÿ/ipvsadm","è®¡ç®—æœº/ç½‘ç»œ/Calico","è¿ç»´/Calico","è½¯ä»¶/äº‘åŸç”Ÿ/Calico","è¿ç»´/Cilium","è®¡ç®—æœº/ç½‘ç»œ/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŸç”Ÿ/Cilium"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.md","filePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.md"}'),c={name:"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.md"},u=s("h1",{id:"å®Œå…¨å¸è½½é›†ç¾¤å†…çš„-kube-proxy",tabindex:"-1"},[i("å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ "),s("code",null,"kube-proxy"),i(),s("a",{class:"header-anchor",href:"#å®Œå…¨å¸è½½é›†ç¾¤å†…çš„-kube-proxy","aria-label":'Permalink to "å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`"'},"â€‹")],-1),g=s("h3",{id:"æ–‡æ¡£å…¼å®¹æ€§",tabindex:"-1"},[i("æ–‡æ¡£å…¼å®¹æ€§ "),s("a",{class:"header-anchor",href:"#æ–‡æ¡£å…¼å®¹æ€§","aria-label":'Permalink to "æ–‡æ¡£å…¼å®¹æ€§"'},"â€‹")],-1),y={tabindex:"0"},b=s("thead",null,[s("tr",null,[s("th",null,"ä¸»ä½“"),s("th",null,"ç‰ˆæœ¬å·"),s("th",null,"æ–‡æ¡£åœ°å€ï¼ˆå¦‚æœæœ‰ï¼‰")])],-1),C=s("td",null,"kubeadm",-1),F=s("td",null,"1.28",-1),m=s("code",null,"kube-proxy",-1),_=r('<h2 id="å¤‡ä»½-kube-proxy-ç›¸å…³çš„é…ç½®" tabindex="-1">å¤‡ä»½ <code>kube-proxy</code> ç›¸å…³çš„é…ç½® <a class="header-anchor" href="#å¤‡ä»½-kube-proxy-ç›¸å…³çš„é…ç½®" aria-label="Permalink to &quot;å¤‡ä»½ `kube-proxy` ç›¸å…³çš„é…ç½®&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ds</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yaml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy-daemonset.yaml</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yaml</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy-configmap.yaml</span></span></code></pre></div><h2 id="åˆ é™¤ç›¸å…³çš„-daemonset" tabindex="-1">åˆ é™¤ç›¸å…³çš„ <code>DaemonSet</code> <a class="header-anchor" href="#åˆ é™¤ç›¸å…³çš„-daemonset" aria-label="Permalink to &quot;åˆ é™¤ç›¸å…³çš„ `DaemonSet`&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ds</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">daemonset.apps</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> deleted</span></span></code></pre></div><h2 id="åˆ é™¤ç›¸å…³çš„-configmap" tabindex="-1">åˆ é™¤ç›¸å…³çš„ <code>ConfigMap</code> <a class="header-anchor" href="#åˆ é™¤ç›¸å…³çš„-configmap" aria-label="Permalink to &quot;åˆ é™¤ç›¸å…³çš„ `ConfigMap`&quot;">â€‹</a></h2><p>ç›®çš„æ˜¯ä¸ºäº†<strong>é˜²æ­¢ä»¥åä½¿ç”¨ <code>kubeadm</code> å‡çº§ K8s çš„æ—¶å€™é‡æ–°å®‰è£…äº† <code>kube-proxy</code>ï¼ˆ1.19 ç‰ˆæœ¬ä¹‹åçš„ K8S ï¼‰</strong>ã€‚</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubectl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-proxy</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">configmap</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kube-proxy&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> deleted</span></span></code></pre></div><h2 id="æ¸…é™¤æ‰-iptables-è§„åˆ™å’Œ-ipvs-è§„åˆ™ä»¥åŠ-ipvs0-ç½‘å¡" tabindex="-1">æ¸…é™¤æ‰ <code>iptables</code> è§„åˆ™å’Œ <code>ipvs</code> è§„åˆ™ä»¥åŠ <code>ipvs0</code> ç½‘å¡ <a class="header-anchor" href="#æ¸…é™¤æ‰-iptables-è§„åˆ™å’Œ-ipvs-è§„åˆ™ä»¥åŠ-ipvs0-ç½‘å¡" aria-label="Permalink to &quot;æ¸…é™¤æ‰ `iptables` è§„åˆ™å’Œ `ipvs` è§„åˆ™ä»¥åŠ `ipvs0` ç½‘å¡&quot;">â€‹</a></h2><p>åœ¨æ¯ä¸ªèŠ‚ç‚¹æœºå™¨ä¸Šé¢ä½¿ç”¨ <code>root</code> æƒé™æ‰§è¡Œï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables-save</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> KUBE</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables-restore</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ipvsadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -C</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kube-ipvs0</span></span></code></pre></div><h2 id="é‡å¯èŠ‚ç‚¹" tabindex="-1">é‡å¯èŠ‚ç‚¹ <a class="header-anchor" href="#é‡å¯èŠ‚ç‚¹" aria-label="Permalink to &quot;é‡å¯èŠ‚ç‚¹&quot;">â€‹</a></h2><p>æ‰§è¡Œå®Œä¹‹åè¯·åŠ¡å¿…é‡å¯èŠ‚ç‚¹ã€‚</p>',12);function v(x,A,f,P,D,B){const n=e("NolebasePageProperties"),t=e("VPNolebaseInlineLinkPreview"),h=e("NolebaseGitContributors"),p=e("NolebaseGitChangelog");return d(),o("div",null,[u,a(n),g,s("table",y,[b,s("tbody",null,[s("tr",null,[C,F,s("td",null,[a(t,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("https://v1-28.docs.kubernetes.io/")]),_:1})])])])]),s("p",null,[i("æ ¹æ® "),a(t,{href:"https://tinychen.com/20230201-k8s-15-migrate-cni-from-calico-to-cilium/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("k8sç³»åˆ—15-calicoæœ‰æŸè¿ç§»è‡³cilium")]),_:1}),i(" æŠ€æœ¯æ–‡æ¡£æ‰€åˆ†äº«çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®‰è£…å‰é…ç½®å’Œå¤‡ä»½ä¸€ä¸‹ "),m,i(" ç›¸å…³èµ„æºå’Œé…ç½®æ–‡ä»¶ï¼š")]),_,a(h),a(p)])}const N=k(c,[["render",v]]);export{E as __pageData,N as default};
