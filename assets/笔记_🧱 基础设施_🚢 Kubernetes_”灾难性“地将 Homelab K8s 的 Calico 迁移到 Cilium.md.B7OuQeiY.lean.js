import{_ as r,c as d,I as a,j as s,w as h,a as i,au as l,D as k,o as F}from"./chunks/framework.RMxno62p.js";const ss=JSON.parse('{"title":"â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium","description":"","frontmatter":{"tags":["å¼€å‘/äº‘åŽŸç”Ÿ","è®¡ç®—æœº/è®¡ç®—æœºç§‘å­¦/CS/è™šæ‹ŸåŒ–","å¼€å‘/äº‘åŽŸç”Ÿ/Kubernetes","å¼€å‘/å®¹å™¨åŒ–","å¼€å‘/è™šæ‹ŸåŒ–","å¼€å‘/å®¹å™¨åŒ–/Docker","å¼€å‘/äº‘åŽŸç”Ÿ/Docker","å‘½ä»¤è¡Œ/kubectl","å‘½ä»¤è¡Œ/kubeadm","å‘½ä»¤è¡Œ/containerd","å‘½ä»¤è¡Œ/docker","è½¯ä»¶/äº‘åŽŸç”Ÿ/kubeadm","è½¯ä»¶/äº‘åŽŸç”Ÿ/kubelet","è½¯ä»¶/äº‘åŽŸç”Ÿ/kubectl","è½¯ä»¶/äº‘åŽŸç”Ÿ/containerd","è½¯ä»¶/äº‘åŽŸç”Ÿ/docker","å¼€å‘/è™šæ‹ŸåŒ–/cgroup","è¿ç»´/äº‘åŽŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŽŸç”Ÿ/Kubernetes/K8s","è¿ç»´/äº‘åŽŸç”Ÿ/Kubernetes","è®¡ç®—æœº/ç½‘ç»œ","è¿ç»´/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŽŸç”Ÿ/Cilium","è½¯ä»¶/äº‘åŽŸç”Ÿ/kube-proxy","è®¡ç®—æœº/ç½‘ç»œ/Calico","è¿ç»´/Calico","è½¯ä»¶/äº‘åŽŸç”Ÿ/Calico","è®¡ç®—æœº/ç½‘ç»œ/Cilium","å¼€å‘/æ ‡è®°è¯­è¨€/YAML"]},"headers":[],"relativePath":"ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md","filePath":"ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md"}'),g={name:"ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium.md"},C=s("h1",{id:"ç¾éš¾æ€§-åœ°å°†-homelab-k8s-çš„-calico-è¿ç§»åˆ°-cilium",tabindex:"-1"},[i("â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium "),s("a",{class:"header-anchor",href:"#ç¾éš¾æ€§-åœ°å°†-homelab-k8s-çš„-calico-è¿ç§»åˆ°-cilium","aria-label":'Permalink to "â€ç¾éš¾æ€§â€œåœ°å°† Homelab K8s çš„ Calico è¿ç§»åˆ° Cilium"'},"â€‹")],-1),y=s("h3",{id:"æ–‡æ¡£å…¼å®¹æ€§",tabindex:"-1"},[i("æ–‡æ¡£å…¼å®¹æ€§ "),s("a",{class:"header-anchor",href:"#æ–‡æ¡£å…¼å®¹æ€§","aria-label":'Permalink to "æ–‡æ¡£å…¼å®¹æ€§"'},"â€‹")],-1),o={tabindex:"0"},c=s("thead",null,[s("tr",null,[s("th",null,"ä¸»ä½“"),s("th",null,"ç‰ˆæœ¬å·"),s("th",null,"æ–‡æ¡£åœ°å€ï¼ˆå¦‚æžœæœ‰ï¼‰")])],-1),u=s("tr",null,[s("td",null,"Debian"),s("td",null,"11"),s("td")],-1),A=s("td",null,"Kubernetes",-1),b=s("td",null,"1.28",-1),m=s("td",null,"Docker",-1),E=s("td",null,"24.0.2",-1),B=s("tr",null,[s("td",null,"containerd"),s("td",null,"1.7.6"),s("td")],-1),v=s("tr",null,[s("td",null,"Linux kernel"),s("td",null,"5.10.0"),s("td")],-1),f=s("tr",null,[s("td",null,"Calico"),s("td"),s("td")],-1),D=s("td",null,"Cilium",-1),_=s("td",null,"1.14.2",-1),q=s("td",null,"helm",-1),x=s("td",null,"v3.9.0",-1),I=s("h2",{id:"ç®€å•åˆ é™¤-calico-ä¹‹åŽå®‰è£…-cilium",tabindex:"-1"},[i("ç®€å•åˆ é™¤ Calico ä¹‹åŽå®‰è£… Cilium "),s("a",{class:"header-anchor",href:"#ç®€å•åˆ é™¤-calico-ä¹‹åŽå®‰è£…-cilium","aria-label":'Permalink to "ç®€å•åˆ é™¤ Calico ä¹‹åŽå®‰è£… Cilium"'},"â€‹")],-1),P=s("h3",{id:"å®‰è£…-cilium",tabindex:"-1"},[i("å®‰è£… Cilium "),s("a",{class:"header-anchor",href:"#å®‰è£…-cilium","aria-label":'Permalink to "å®‰è£… Cilium"'},"â€‹")],-1),T=l("",10),S=l("",52),R=l("",7),w=s("h2",{id:"ä¸ºä¿®å¤-cidr-å†²çªé‡è£…-cilium",tabindex:"-1"},[i("ä¸ºä¿®å¤ CIDR å†²çªé‡è£… Cilium "),s("a",{class:"header-anchor",href:"#ä¸ºä¿®å¤-cidr-å†²çªé‡è£…-cilium","aria-label":'Permalink to "ä¸ºä¿®å¤ CIDR å†²çªé‡è£… Cilium"'},"â€‹")],-1),N=s("h4",{id:"å¸è½½-cilium-1",tabindex:"-1"},[i("å¸è½½ Cilium "),s("a",{class:"header-anchor",href:"#å¸è½½-cilium-1","aria-label":'Permalink to "å¸è½½ Cilium"'},"â€‹")],-1),K=l("",10),O=s("code",null,"kubeProxyReplacement",-1),M=l("",4),G=l("",2),H={class:"tip custom-block github-alert"},L=s("p",{class:"custom-block-title"},"å¦‚æžœä½ é€‰æ‹©ä½¿ç”¨ `kubeProxyReplacement` å‚æ•°æ›¿ä»£ `kube-proxy`",-1),$=s("code",null,"kube-proxy",-1),V=s("code",null,"kube-proxy",-1),U=l("",10);function W(z,j,Q,X,Y,Z){const t=k("NolebasePageProperties"),n=k("VPNolebaseInlineLinkPreview"),p=k("NolebaseGitContributors"),e=k("NolebaseGitChangelog");return F(),d("div",null,[C,a(t),y,s("table",o,[c,s("tbody",null,[u,s("tr",null,[A,b,s("td",null,[a(n,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://v1-28.docs.kubernetes.io/")]),_:1})])]),s("tr",null,[m,E,s("td",null,[a(n,{href:"https://docs.docker.com/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://docs.docker.com/")]),_:1})])]),B,v,f,s("tr",null,[D,_,s("td",null,[a(n,{href:"https://docs.cilium.io/en/v1.14/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://docs.cilium.io/en/v1.14/")]),_:1})])]),s("tr",null,[q,x,s("td",null,[a(n,{href:"https://helm.sh/docs/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("https://helm.sh/docs/")]),_:1})])])])]),I,P,s("p",null,[i("æ ¹æ® "),a(n,{href:"https://docs.cilium.io/en/stable/gettingstarted/k8s-install-default/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Cilium Quick Installation")]),_:1}),i(" çš„è¦æ±‚è¿è¡Œï¼š")]),T,s("p",null,[i("å¯ä»¥æ ¹æ®æ–‡æ¡£"),a(n,{href:"/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ KubeKey å®‰è£…çš„ Calico.html"},{default:h(()=>[i("å®Œå…¨å¸è½½ä½¿ç”¨ KubeKey å®‰è£…çš„ Calico")]),_:1}),i(" ä¸­å»ºè®®çš„æ–¹å¼å’Œæ­¥éª¤æ¥è¿›è¡Œåˆ é™¤ã€‚")]),S,s("p",null,[i("æˆ‘ä»¬é‡æ–°ç¿»é˜…æ–‡æ¡£ "),a(n,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#ipam-crd-cluster-pool",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Cluster Scope (Default) â€” Cilium 1.14.2 documentation")]),_:1}),i(": å¯ä»¥å‘çŽ°æ–‡æ¡£ä¸­æè¿°è¯´ï¼š")]),R,s("p",null,[i("æ‰€ä»¥æ ¹æ®æ–‡æ¡£ "),a(n,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-migration/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Migrating a cluster to Cilium â€” Cilium 1.14.2 documentation")]),_:1}),i(" çš„è¯´æ˜Žï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨å®‰è£…çš„æ—¶å€™é¢å¤–é…ç½®ä¸€ä¸‹ CIDR æ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),w,N,s("p",null,[i("é‚£æˆ‘ä»¬çŽ°åœ¨å…ˆæ ¹æ®"),a(n,{href:"/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium.html"},{default:h(()=>[i("å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium")]),_:1}),i(" æ–‡æ¡£çš„æŒ‡å¼•å®Œå…¨åˆ é™¤ cilium ç„¶åŽå†è¯•ä¸€æ¬¡ã€‚")]),K,s("p",null,[i("æ³¨æ„è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œé¢çš„ "),O,i(" å­—æ®µé…ç½®ï¼Œæ ¹æ® Cilium çš„ "),a(n,{href:"https://docs.cilium.io/en/stable/network/kubernetes/kubeproxy-free/#kubeproxy-free",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Kubernetes Without kube-proxy")]),_:1}),i(" æ–‡æ¡£ï¼š")]),M,s("p",null,[i("å¯ä»¥é€šè¿‡ "),a(n,{href:"/ç¬”è®°/ðŸ“Ÿ ç»ˆç«¯/Linux å‘½ä»¤/æ–‡æ¡£è¯»å†™/cat è¾“å‡ºæ–‡ä»¶.html"},{default:h(()=>[i("cat è¾“å‡ºæ–‡ä»¶")]),_:1}),i(" å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹ï¼š")]),G,s("div",H,[L,s("p",null,[i("å¯ä»¥è·Ÿéš"),a(n,{href:"/ç¬”è®°/ðŸ§± åŸºç¡€è®¾æ–½/ðŸš¢ Kubernetes/å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ `kube-proxy`.html"},{default:h(()=>[i("å®Œå…¨å¸è½½é›†ç¾¤å†…çš„ "),$]),_:1}),i(" æ–‡æ¡£çš„æŒ‡å¼•å¤‡ä»½å’Œåˆ é™¤ "),V,i(" ç›¸å…³çš„é…ç½®å’Œèµ„æºã€‚")])]),U,s("ul",null,[s("li",null,[a(n,{href:"https://tinychen.com/20230201-k8s-15-migrate-cni-from-calico-to-cilium/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("k8sç³»åˆ—15-calicoæœ‰æŸè¿ç§»è‡³cilium - TinyChen's Studio - äº’è”ç½‘æŠ€æœ¯å­¦ä¹ å·¥ä½œç»éªŒåˆ†äº«")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/86762",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("coredns [ERROR] plugin/errors: 2 read udp 10.244.235.249:55567->10.96.0.10:53: i/o timeout Â· Issue #86762 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/111105",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("When using cilium as Kubernetes network CNI, the coredns is running but not-ready, healthcheck failed and plugin/errors HINFO: read udp i/o timeout Â· Issue #111105 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://izsk.me/2023/06/03/cilium-on-kubernetes-install/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("ciliumåœ¨kubernetesä¸­çš„ç”Ÿäº§å®žè·µäºŒ(ciliuméƒ¨ç½²) | Z.S.K.'s Records")]),_:1})]),s("li",null,[a(n,{href:"https://isovalent.com/blog/post/tutorial-migrating-to-cilium-part-1/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Tutorial: How to Migrate to Cilium (Part 1) - Isovalent")]),_:1})]),s("li",null,[a(n,{href:"https://kubernetes.feisky.xyz/extension/network/cilium",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Cilium - KubernetesæŒ‡å—")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/86762",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("coredns [ERROR] plugin/errors: 2 read udp 10.244.235.249:55567->10.96.0.10:53: i/o timeout Â· Issue #86762 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/cilium/cilium/issues/13308",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("DNS rules don't work anymore on kubernetes 1.18 with cilium 1.8 Â· Issue #13308 Â· cilium/cilium")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/cilium/cilium/issues/23872",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("I set ipam.operator.clusterPoolIPv4PodCIDR=10.1.0.0/16 why the pod ip allocated is still 10.0 Â· Issue #23872 Â· cilium/cilium")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes/kubernetes/issues/111105",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("When using cilium as Kubernetes network CNI, the coredns is running but not-ready, healthcheck failed and plugin/errors HINFO: read udp i/o timeout Â· Issue #111105 Â· kubernetes/kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://serverfault.com/questions/1103034/kubernetes-nodes-are-not-reachable-and-cannot-reach-local-network-after-installi",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("linux - Kubernetes Nodes are not reachable and cannot reach local network after installing cilium - Server Fault")]),_:1})]),s("li",null,[a(n,{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/#pod-network",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Creating a cluster with kubeadm | Kubernetes")]),_:1})]),s("li",null,[a(n,{href:"https://stackoverflow.com/questions/49112336/container-runtime-network-not-ready-cni-config-uninitialized",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("kubernetes - Container runtime network not ready: cni config uninitialized - Stack Overflow")]),_:1})]),s("li",null,[a(n,{href:"https://www.jianshu.com/p/896ec00b9661",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("åˆ é™¤cilium ebpf/bpfç¨‹åº/å®Œå…¨å¸è½½cilium")]),_:1})]),s("li",null,[a(n,{href:"https://gist.github.com/aliasmee/6c7e5fb433c8fd303b07f0081fc83677",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("æ— æ³•å½»åº•æ¸…ç†ciliumç•™ä¸‹çš„é—®é¢˜")]),_:1})]),s("li",null,[a(n,{href:"https://www.chenshaowen.com/blog/how-to-use-cilium-to-replace-calico.html",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("ä½¿ç”¨ Cilium æ›¿æ¢ Calico â€“ é™ˆå°‘æ–‡çš„ç½‘ç«™")]),_:1})]),s("li",null,[a(n,{href:"https://kubernetes.io/docs/tasks/debug/debug-cluster/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("Troubleshooting Clusters | Kubernetes")]),_:1})])]),a(p),a(e)])}const is=r(g,[["render",W]]);export{ss as __pageData,is as default};
