import{_ as r,c as d,I as s,j as a,a as h,w as B,au as n,D as i,o as g}from"./chunks/framework.RMxno62p.js";const y="/assets/image_20211015122147.k8bpWHTy.png",x=JSON.parse('{"title":"Grafana ä½¿ç”¨ HTML å¯è§†åŒ–æ’ä»¶","description":"","frontmatter":{"tags":["å¼€å‘/äº‘åŸç”Ÿ/å¯è§‚æµ‹","å¼€å‘/äº‘åŸç”Ÿ/å¯è§‚æµ‹/ç›‘æ§","å¼€æº/è½¯ä»¶/Grafana","è¿ç»´/äº‘åŸç”Ÿ/å¯è§‚æµ‹/Grafana"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸ“ˆ æŒ‡æ ‡ç›‘æ§/Grafana ç›‘æ§å¤§ç›˜/Grafana ä½¿ç”¨ HTML å¯è§†åŒ–æ’ä»¶.md","filePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸ“ˆ æŒ‡æ ‡ç›‘æ§/Grafana ç›‘æ§å¤§ç›˜/Grafana ä½¿ç”¨ HTML å¯è§†åŒ–æ’ä»¶.md"}'),E={name:"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸ“ˆ æŒ‡æ ‡ç›‘æ§/Grafana ç›‘æ§å¤§ç›˜/Grafana ä½¿ç”¨ HTML å¯è§†åŒ–æ’ä»¶.md"},A=a("h1",{id:"grafana-ä½¿ç”¨-html-å¯è§†åŒ–æ’ä»¶",tabindex:"-1"},[h("Grafana ä½¿ç”¨ HTML å¯è§†åŒ–æ’ä»¶ "),a("a",{class:"header-anchor",href:"#grafana-ä½¿ç”¨-html-å¯è§†åŒ–æ’ä»¶","aria-label":'Permalink to "Grafana ä½¿ç”¨ HTML å¯è§†åŒ–æ’ä»¶"'},"â€‹")],-1),o=n('<h2 id="æ¦‚è¿°" tabindex="-1">æ¦‚è¿° <a class="header-anchor" href="#æ¦‚è¿°" aria-label="Permalink to &quot;æ¦‚è¿°&quot;">â€‹</a></h2><p>Grafana å±•ç¤ºæ•°æ®æ—¶ï¼Œå¦‚æœåªæœ‰ç®€å•çš„çŠ¶æ€å’Œå­—ç¬¦ä¸²ä¿¡æ¯ï¼ŒTableï¼ˆè¡¨æ ¼ï¼‰å¯è§†åŒ–å°±å·²ç»è¶³å¤Ÿä½¿ç”¨äº†ï¼Œä½†æ˜¯å¯¹äºæœ‰å¤šç§åª’ä½“èµ„æºæˆ–æ˜¯æ›´å¤æ‚çš„é€»è¾‘éœ€æ±‚ï¼ŒTable äº¦æˆ–æ˜¯åˆ«çš„æ¨¡ç‰ˆå¯è§†åŒ–éƒ½æ— æ³•æ°å½“å¤„ç†ã€‚ä¸è¿‡ï¼ŒHTML å¯è§†åŒ–æä¾›äº†æ›´å¤šçš„é€‰é¡¹å’Œè‡ªç”±ç¼–è¾‘èƒ½åŠ›ã€‚</p><h4 id="html-å¯è§†åŒ–çš„ä¼˜åŠ¿" tabindex="-1">HTML å¯è§†åŒ–çš„ä¼˜åŠ¿ <a class="header-anchor" href="#html-å¯è§†åŒ–çš„ä¼˜åŠ¿" aria-label="Permalink to &quot;HTML å¯è§†åŒ–çš„ä¼˜åŠ¿&quot;">â€‹</a></h4><ul><li>Grafana æä¾›åŸæœ‰æ•°æ®ç»“æ„çš„è‡ªåŠ¨åŒ–å¤„ç†</li><li>å®Œå…¨è‡ªç”±çš„æ’ç‰ˆå’Œç¼–è¾‘èƒ½åŠ›</li><li>æ›´å¥½çš„äº¤äº’ä»¥åŠå±•ç¤ºä½“éªŒ</li><li>å¤šåª’ä½“èµ„æºçš„å¤„ç†</li></ul><h4 id="html-å¯è§†åŒ–çš„åŠ£åŠ¿" tabindex="-1">HTML å¯è§†åŒ–çš„åŠ£åŠ¿ <a class="header-anchor" href="#html-å¯è§†åŒ–çš„åŠ£åŠ¿" aria-label="Permalink to &quot;HTML å¯è§†åŒ–çš„åŠ£åŠ¿&quot;">â€‹</a></h4><ul><li>Grafana æä¾›çš„ API æ— æ³•æ”¯æŒåŠ¨æ€åŠ è½½å†…å®¹</li><li>æ— æ³•åŠ è½½å’Œä½¿ç”¨å¤–éƒ¨ JavaScript åº“</li><li>ç¼–å†™å’Œç®¡ç† HTML/CSS/JavaScript ä»£ç ä¼šæœ‰ä¸€å®šå›°éš¾</li><li>éœ€è¦ä¼˜åŒ–èµ„æºåŠ è½½ï¼Œé˜²æ­¢å‡ºç°æ€§èƒ½é—®é¢˜</li></ul><h2 id="é€‰æ‹©-html-å¯è§†åŒ–" tabindex="-1">é€‰æ‹© HTML å¯è§†åŒ– <a class="header-anchor" href="#é€‰æ‹©-html-å¯è§†åŒ–" aria-label="Permalink to &quot;é€‰æ‹© HTML å¯è§†åŒ–&quot;">â€‹</a></h2>',7),C=n(`<p>åœ¨å¯è§†åŒ–ä¸­é€‰æ‹© HTML å³å¯ã€‚</p><h2 id="grafana-api" tabindex="-1">Grafana API <a class="header-anchor" href="#grafana-api" aria-label="Permalink to &quot;Grafana API&quot;">â€‹</a></h2><h3 id="å›è°ƒå‡½æ•°" tabindex="-1">å›è°ƒå‡½æ•° <a class="header-anchor" href="#å›è°ƒå‡½æ•°" aria-label="Permalink to &quot;å›è°ƒå‡½æ•°&quot;">â€‹</a></h3><p>åœ¨ HTML å¯è§†åŒ–é€‰é¡¹çš„ä¸‹æ–¹ï¼Œæœ‰ä¸¤ç§ JavaScript å›è°ƒå‡½æ•°ç”¨äºè¾“å…¥å’Œæ›´æ–° HTML é¢æ¿ã€‚</p><ol><li><code>onInit(ctrl, htmlnode)</code> åªä¼šæ‰§è¡Œä¸€æ¬¡</li><li><code>onHandleMetric(ctrl, htmlnode)</code> è¿™æ®µä»£ç åœ¨æ¯æ¬¡åˆ·æ–°æ—¶éƒ½ä¼šæ‰§è¡Œ</li></ol><p>ä¼ å…¥å‚æ•°éƒ½æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼š</p><ol><li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼š<code>ctrl {MetricsPanelCtrl}</code> å½“å‰ Grafana é¢æ¿çš„å®ä¾‹</li><li>ç¬¬äºŒä¸ªå‚æ•°ï¼š<code>htmlnode {HTMLElement}</code> HTML é¢æ¿å†…å®¹çš„ HTML DOM èŠ‚ç‚¹</li></ol><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ ctrl å¯¹è±¡è·å–æ•°æ®å’Œ Grafana é¢æ¿çš„è®¾å®šï¼ˆæ¯”å¦‚ï¼šå…¨å±€å˜é‡ï¼‰ï¼Œhtmlnode æ¥ç¼–è¾‘å’Œæ›´æ–° HTML èŠ‚ç‚¹ã€‚</p><h3 id="æŸ¥è¯¢åçš„æ•°æ®å¯¹è±¡" tabindex="-1">æŸ¥è¯¢åçš„æ•°æ®å¯¹è±¡ <a class="header-anchor" href="#æŸ¥è¯¢åçš„æ•°æ®å¯¹è±¡" aria-label="Permalink to &quot;æŸ¥è¯¢åçš„æ•°æ®å¯¹è±¡&quot;">â€‹</a></h3><p>åœ¨ <code>ctrl.data</code> å°±å­˜æ”¾ç€æˆ‘ä»¬ä»æ•°æ®æºæŸ¥è¯¢çš„æ•°æ®ï¼ˆåŒæ ·çš„æ•°æ®ä¹Ÿå¯ä»¥å–ç”¨ <code>ctrl.table</code>ï¼Œæ–‡æ¡£ç¼ºå¤±ï¼Œæ²¡åŠæ³•ç¡®å®šå…·ä½“åŒºåˆ«ï¼‰ã€‚ <code>data</code> å¯¹è±¡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹åº”çš„æ˜¯ Query é¡µé¢çš„ä¸åŒæŸ¥è¯¢ï¼ˆé¡ºåºæ’åˆ—ï¼‰ï¼Œæ¯ä¸€ä¸ª <code>data</code> ä¸­å­˜æ”¾çš„å…ƒç´ åˆ™å¯¹åº”äº†æŸ¥è¯¢è·å–çš„åˆ—åï¼ˆcolumnNamesï¼‰ï¼Œä»¥åŠè¡Œæ•°æ®ï¼ˆrowsï¼‰ï¼Œè¡Œæ•°æ®çš„å±æ€§é¡ºåºä¹Ÿå¯¹åº”äº†åˆ—åçš„é¡ºåºï¼Œå¦‚æœæœ‰éœ€è¦è¿›è¡Œéå†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ˜ å°„å…³ç³»ã€‚</p><h2 id="ç¼–å†™é¢æ¿" tabindex="-1">ç¼–å†™é¢æ¿ <a class="header-anchor" href="#ç¼–å†™é¢æ¿" aria-label="Permalink to &quot;ç¼–å†™é¢æ¿&quot;">â€‹</a></h2><p>ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç¼–è¾‘å’Œç®¡ç† HTML DOM èŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ HTML ä¸€æ åˆ›å»ºå¯¹åº”çš„å­èŠ‚ç‚¹ï¼ˆå¦‚åŒ React æˆ–æ˜¯ Vue é‚£æ ·ï¼‰ã€‚æ¯”å¦‚ï¼š</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ JavaScript ä¸­ç›´æ¥ç´¢å¼•åˆ°è¿™ä¸ªèŠ‚ç‚¹ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> div</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> htmlnode</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å¦‚æœéœ€è¦åœ¨æ¯æ¬¡åˆ·æ–°æ—¶ç§»é™¤ä¸Šä¸€æ¬¡çš„èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥æ›´æ–°ï¼š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">innerHTML</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span></span></code></pre></div><p>åœ¨è·å–åˆ°èŠ‚ç‚¹åå°±å¯ä»¥ç¼–è¾‘å’Œç®¡ç†äº†ã€‚</p><h2 id="æç¤º" tabindex="-1">æç¤º <a class="header-anchor" href="#æç¤º" aria-label="Permalink to &quot;æç¤º&quot;">â€‹</a></h2><h3 id="grafana-8-å·²å¤±æ•ˆ-åˆ·æ–°æ•´ä¸ªé¢æ¿" tabindex="-1">Grafana 8 å·²å¤±æ•ˆ åˆ·æ–°æ•´ä¸ªé¢æ¿ <a class="header-anchor" href="#grafana-8-å·²å¤±æ•ˆ-åˆ·æ–°æ•´ä¸ªé¢æ¿" aria-label="Permalink to &quot;Grafana 8 å·²å¤±æ•ˆ åˆ·æ–°æ•´ä¸ªé¢æ¿&quot;">â€‹</a></h3><p>å¸¸è§„çš„ç›´æ¥åˆ·æ–°ï¼š<strong><code>window.location.reload()</code></strong> ä¼šåˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚ä½“éªŒå¹¶ä¸å¥½ï¼Œè€Œä¸”çŠ¶æ€ä¸æ˜“äºå­˜å‚¨ï¼Œç”šè‡³å¯èƒ½éœ€è¦å€ŸåŠ©äº SessionStorage æˆ–æ˜¯ LocalStorageã€‚</p><p>Grafana çš„ JavaScript è°ƒç”¨æ–‡æ¡£å¹¶ä¸æ˜¯å¾ˆæ¸…æ™°æ˜äº†ï¼Œè€Œä¸”ç”±äºå„ä¸ªç‰ˆæœ¬ä½¿ç”¨çš„ Angular/React ç‰ˆæœ¬å’Œ API æ¥å£å¹¶ä¸ç›¸åŒï¼ŒæŸ¥è¯¢æ–‡æ¡£ä¼šæ˜¾å¾—ååˆ†å›°éš¾ã€‚</p><p><strong>å¦‚æœæœ‰éœ€è¦è°ƒç”¨åˆ° Grafana è‡ªå·±çš„æ•´ä¸ªè°ƒç”¨é’©å­çš„è¯ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ thisï¼Œæˆ–è€… ctrl.$injector çš„å†…è”å‡½æ•°æ¥å®ŒæˆåŠŸèƒ½è°ƒç”¨ã€‚</strong></p><p>æ­¤å¤„å¦‚æœéœ€è¦åˆ·æ–°æ•´ä¸ªé¢æ¿ï¼ˆDashboardï¼Œä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„é¢æ¿ï¼ˆPanelï¼‰ï¼‰å¯ä»¥ç›´æ¥è°ƒç”¨ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span></code></pre></div><p>å¦‚æœæœ‰è‡ªå·±çš„äº‹ä»¶ç®¡ç†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»‘å®šäº‹ä»¶ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">loadDatasource</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    data</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> r</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">r</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // Wait till data exists has loaded before we handle any data</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;render&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">onRender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;data-received&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">onDataReceived</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;data-error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">onDataError</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;panel-size-changed&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">onResize</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;data-snapshot-load&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">onDataSnapshotLoad</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;refresh&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">onRefresh</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // Refresh after data is loaded</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">refresh</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">});</span></span></code></pre></div>`,25),F=n(`<h3 id="grafana-8-å·²å¤±æ•ˆ-åŠ¨æ€æ›´æ–°å˜é‡-variable-å€¼" tabindex="-1">Grafana 8 å·²å¤±æ•ˆ åŠ¨æ€æ›´æ–°å˜é‡ï¼ˆVariableï¼‰å€¼ <a class="header-anchor" href="#grafana-8-å·²å¤±æ•ˆ-åŠ¨æ€æ›´æ–°å˜é‡-variable-å€¼" aria-label="Permalink to &quot;Grafana 8 å·²å¤±æ•ˆ åŠ¨æ€æ›´æ–°å˜é‡ï¼ˆVariableï¼‰å€¼&quot;">â€‹</a></h3><p>å¦‚æœéœ€è¦è”åŠ¨æŸ¥è¯¢ï¼Œå¯ä»¥å…ˆè®¾å®šä¸€ä¸ªå˜é‡ï¼ˆvariableï¼‰ä¸º Text Boxï¼ˆå…¶ä»–ç±»å‹æœªæµ‹è¯•ï¼Œå¦‚æœæœ‰æ”¯æŒï¼Œå¯ä»¥è¡¥å……è¿›æ¥ï¼‰ï¼ŒæŒ‰éœ€è®¾å®šæ˜¯å¦éœ€è¦éšè—è¯¥å˜é‡ã€‚</p><p>æƒ³è¦ç›´æ¥è·å–æ‰€æœ‰å˜é‡çš„å¼•ç”¨å¯¹è±¡çš„è¯å¯ä»¥è°ƒç”¨ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">ctrl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span></code></pre></div><p>è®¾å®šä¹‹åç›´æ¥è°ƒç”¨ä¸‹é¢å°è£…å¥½çš„å‡½æ•°å³å¯ï¼š</p><p><strong>è·å–å˜é‡ä¸ºæ•°ç»„</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * getEnvVariables</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * é€šè¿‡åç§°è·å–ç¯å¢ƒå˜é‡çš„å€¼</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> {String}</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> name</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> - ç¯å¢ƒå˜é‡å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> {String}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> getEnvVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> envVariables</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> ctrl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> envVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> envItem</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> envVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">envItem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">            value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> envItem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">current</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">            break</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> !==</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">indexOf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">!==</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> valueArr</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> resArr</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> valueArr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">            let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> parseInt</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">valueArr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">isNaN</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                continue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">            resArr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> resArr</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p><strong>è®¾å®šå­—ç¬¦ä¸²ä¸ºå˜é‡</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * setEnvVariable</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * è®¾å®šç¯å¢ƒå˜é‡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> {String}</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> name</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> - ç¯å¢ƒå˜é‡å</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> {String}</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> value</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> - ç¯å¢ƒå˜é‡çš„æ–°å€¼</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> setEnvVariable</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> envVariables</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> ctrl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">dashboard</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> envVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> envItem</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> envVariables</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">envItem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">            envItem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">current</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">            envItem</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">current</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">text</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> value</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="æ”¯æŒé•¿åº¦è¿‡é•¿æ—¶åœ¨é¢æ¿å†…æ»šåŠ¨" tabindex="-1">æ”¯æŒé•¿åº¦è¿‡é•¿æ—¶åœ¨é¢æ¿å†…æ»šåŠ¨ <a class="header-anchor" href="#æ”¯æŒé•¿åº¦è¿‡é•¿æ—¶åœ¨é¢æ¿å†…æ»šåŠ¨" aria-label="Permalink to &quot;æ”¯æŒé•¿åº¦è¿‡é•¿æ—¶åœ¨é¢æ¿å†…æ»šåŠ¨&quot;">â€‹</a></h3><p>Grafana çš„é¢æ¿ç°åœ¨å·²ç»ä¸æ”¯æŒè‡ªåŠ¨å»¶å±•äº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ CSS ä¸­æ·»åŠ ä»¥ä¸‹çš„ä»£ç æ¥æ”¯æŒæ»šåŠ¨ï¼š</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">#data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#ABB2BF;">    max-height</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">85</span><span style="--shiki-light:#D73A49;--shiki-dark:#E06C75;">vh</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#ABB2BF;">    overflow</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">scroll</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>è¿™æ ·çš„è¯å°±å¯ä»¥é™åˆ¶é¢æ¿å†…å®¹æ¸²æŸ“åœ¨ 85% çš„å¯è§†é«˜åº¦å†…ï¼ˆå¦‚æœæœ‰åˆ«çš„å¤§å°éœ€æ±‚å¯ä»¥æŒ‰éœ€è°ƒæ•´ï¼‰ï¼Œè¶…å‡ºçš„å†…å®¹åˆ™æ»šåŠ¨å±•ç¤ºã€‚</p><p>å¦‚æœéœ€è¦åŠ¨æ€è°ƒæ•´ï¼Œå°±åƒåŸç”Ÿ Grafana é‚£æ ·æ”¯æŒçš„æ‹–åŠ¨å¤§å°çš„è¯ï¼Œå¯ä»¥è·å– ctrl.heightï¼Œç„¶åä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ cssTextï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> document</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> maxHeight</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> ctrl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> // é¢„ç•™çš„ç©ºé—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">cssText</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> +=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> \` max-height: </span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">maxHeight</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">px;&quot;</span></span></code></pre></div><h3 id="è°ƒç”¨æ¥å£å¹¶è¿”å›æ•°æ®" tabindex="-1">è°ƒç”¨æ¥å£å¹¶è¿”å›æ•°æ® <a class="header-anchor" href="#è°ƒç”¨æ¥å£å¹¶è¿”å›æ•°æ®" aria-label="Permalink to &quot;è°ƒç”¨æ¥å£å¹¶è¿”å›æ•°æ®&quot;">â€‹</a></h3><p>åœ¨ Datasource ä¸­é€‰æ‹© --Grafanaâ€“ï¼ˆç½®ç©ºï¼‰ã€‚</p><p>ç„¶ååœ¨ JavaScript ä¸­ç›´æ¥è¯·æ±‚æ•°æ®ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // è·å–æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> resp</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;https://example.com/api/[path]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // è§£æä¸º JSON</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> resp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span></code></pre></div><p>å¦‚æœéœ€è¦ç»´æŠ¤ä¸€ä¸ªéœ€è¦æ›´æ–°çŠ¶æ€çš„ HTMLï¼Œå¯èƒ½éœ€è¦åˆ›å»ºå¯¹è±¡ã€ç±»ã€‚</p><h3 id="å…¼å®¹-windows-åŠå…¶ä»–ç³»ç»Ÿçš„æ»šåŠ¨æ¡æ ·å¼" tabindex="-1">å…¼å®¹ Windows åŠå…¶ä»–ç³»ç»Ÿçš„æ»šåŠ¨æ¡æ ·å¼ <a class="header-anchor" href="#å…¼å®¹-windows-åŠå…¶ä»–ç³»ç»Ÿçš„æ»šåŠ¨æ¡æ ·å¼" aria-label="Permalink to &quot;å…¼å®¹ Windows åŠå…¶ä»–ç³»ç»Ÿçš„æ»šåŠ¨æ¡æ ·å¼&quot;">â€‹</a></h3><p>ç±»ä¼¼ Grafana åŸç”Ÿçš„æ»šåŠ¨æ¡æ ·å¼å¯ä»¥ç›´æ¥å¤åˆ¶è¿™ä¸ª cssï¼š</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">#data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">::-webkit-scrollbar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#ABB2BF;">    width</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#E06C75;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#ABB2BF;">    height</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#E06C75;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">#data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">::-webkit-scrollbar-thumb</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#ABB2BF;">  background-color</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">#0d0d0d</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#ABB2BF;">  border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">999</span><span style="--shiki-light:#D73A49;--shiki-dark:#E06C75;">px</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">#data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#56B6C2;">::-webkit-scrollbar-corner</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#ABB2BF;">  background-color</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">transparent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>æœ€åä¸€ä¸ªç”¨äºä¿®å¤æ»šåŠ¨æ¡éé»˜è®¤æƒ…å†µä¸‹ï¼ŒèƒŒæ™¯é¢œè‰²ä¸ºç™½è‰²çš„é—®é¢˜ã€‚</p><h3 id="æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸º-yyyy-mm-dd-hh-mm-ss" tabindex="-1">æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸º YYYY-MM-DD HH:MM:SS <a class="header-anchor" href="#æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸º-yyyy-mm-dd-hh-mm-ss" aria-label="Permalink to &quot;æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸º YYYY-MM-DD HH:MM:SS&quot;">â€‹</a></h3><p>å¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç </p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å·¥å…·å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * getTwoDigitFormat</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * æ ¼å¼åŒ–ä¸ºä¸¤ä½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> {Number}</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> ä¸è¶…è¿‡ä¸¤ä½æ•°çš„æ•´æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> {String}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> getTwoDigitFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">padStart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ç”¨æ³•ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> d</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> generalFormat</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> \`</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">d</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getFullYear</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getTwoDigitFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">d</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getMonth</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getTwoDigitFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">d</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getDate</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">())</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;"> \${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getTwoDigitFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">d</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getHours</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">())</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getTwoDigitFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">d</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getMinutes</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">())</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getTwoDigitFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">d</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">getSeconds</span><span style="--shiki-light:#032F62;--shiki-dark:#ABB2BF;">())</span><span style="--shiki-light:#032F62;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">generalFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div>`,27);function c(D,f,v,u,b,m){const t=i("NolebasePageProperties"),k=i("NolebaseUnlazyImg"),l=i("VPNolebaseInlineLinkPreview"),p=i("NolebaseGitContributors"),e=i("NolebaseGitChangelog");return g(),d("div",null,[A,s(t),o,a("p",null,[s(k,{src:y,alt:"",thumbhash:"BQgGCoBohYh5iAiXW4iwlQk=",placeholderSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAJCAYAAABT2S4KAAAEvElEQVR4AQCBAH7/AAgECf8IBAj/BwMH/wYCBv8FAQX/BQEF/wYCBv8IBAf/CgYI/wwICv8NCQz/DgoM/w4KDf8NCQz/DAgL/woGCf8IBAj/BwMH/wUBBv8EAAb/AwAG/wMAB/8CAAf/AwAJ/wMACv8EAAz/BgIP/wcDEf8JBRT/CwcW/w0JGP8NCRn/AIEAfv8ADwsM/w8LC/8OCgr/DgkK/w0JCf8OCgn/DwsK/xEMC/8TDw3/FREP/xcTEf8YFBL/GBQS/xcTEf8WEhD/FBAP/xIODf8QDAz/DgoL/w0JC/8MCAv/CwcL/wsHC/8LBwz/CwcO/wwID/8NCRH/DgoU/xAMFv8SDRj/Ew8a/xQPG/8AgQB+/wAaFhD/GhYQ/xkVD/8ZFQ7/GRUO/xoWD/8cGBD/HhoS/yEdFf8jHxf/JSEZ/ycjGv8nIxr/JiIa/yUhGf8jHxf/IR0V/x8bFP8dGRP/GxcS/xoWEf8YFBH/GBQR/xcTEv8XExP/FxMU/xcTFf8ZFBf/GhYZ/xsXG/8cGBz/HRkd/wCBAH7/ACMfE/8jHhP/Ih4S/yIeEv8jHxP/JSAU/ycjFv8qJhj/LSkb/zAsHv8yLiD/NDAh/zQwIv8zLyH/Mi4g/zAsHv8tKRz/Kyca/yklGf8nIxj/JSEX/yQgF/8iHhb/IR0W/yEdF/8gHBf/IBwY/yEdGv8iHhv/Ix8d/yQgHv8kIB7/AIEAfv8AJSET/yUhE/8lIRP/JSET/yYiFP8oJBX/KycY/y4qG/8xLR7/NDAg/zczI/84NCT/OTUk/zg0JP82MiL/NDAg/zEtHv8vKxz/LSkb/ysnGf8pJRj/JyMY/yYiF/8lIRf/JCAX/yMfGP8jHxn/Ix8a/yQgG/8lIRz/JiId/yYiHv8AgQB+/wAfGxD/HxsQ/x8bEP8fGxD/IR0R/yMfE/8lIRX/KSUY/ywoG/8vKx7/Mi0g/zMvIf8zLyH/Mi4g/zAsHv8tKRz/Kyca/ygkGP8mIhb/JCAV/yIeFf8hHRT/IBwU/x8bFP8eGhT/HhoV/x4aFf8eGhf/HxsY/x8bGf8gHBr/IRwb/wCBAH7/ABIOCv8SDgr/Ew8K/xMPC/8VEQv/FxMN/xkVD/8cGBL/HxsV/yIeF/8kIBn/JSEa/yUhGf8jHxj/IR0W/x8bFP8cGBH/GRUP/xcTDv8WEg3/FBAN/xMPDf8TDw3/Eg4N/xIODv8SDg//Eg4Q/xMPEf8UEBP/FBAU/xURFf8WEhb/AIEAfv8ABQEE/wUBBP8FAQT/BgIE/wcDBf8JBQf/CwcJ/w4KC/8RDQ7/FBAQ/xUREf8WEhH/FRER/xMPD/8RDQ3/DgoK/wwICP8JBQb/BwMF/wYCBP8FAQT/BQAF/wQABf8EAAb/BAAH/wUBCf8FAQr/BgIM/wgEDv8JBQ//CgYQ/woGEf8BgQB+/wAAAAD/AAAA/wAAAP8AAAD/AAAB/wAAAv8DAAT/BQEH/wgECf8KBgv/DAcM/wwIDP8LBwv/CQUJ/wcCB/8EAAT/AQAC/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAv8AAAP/AAAF/wAABv8AAAj/AAAK/wEADP8CAA3/AwAO/+5DYlescuGVAAAAAElFTkSuQmCC",width:"3136",height:"826",autoSizes:"true"})]),C,a("p",null,[h("è¯¦ç»†å¼•ç”¨ï¼š"),s(l,{href:"https://community.grafana.com/t/javascript-jquery-event-on-regular-refresh-intervals/16856",target:"_blank",rel:"noreferrer"},{default:B(()=>[h("Javascript/jQuery event on regular refresh intervals? - Grafana Community")]),_:1})]),F,s(p),s(e)])}const _=r(E,[["render",c]]);export{x as __pageData,_ as default};
