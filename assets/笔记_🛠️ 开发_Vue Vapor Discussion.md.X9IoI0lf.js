import{_ as r,c as d,I as a,j as s,w as t,a as i,au as h,D as e,o}from"./chunks/framework.RMxno62p.js";const I=JSON.parse('{"title":"Vue Vapor Discussion","description":"","frontmatter":{},"headers":[],"relativePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/Vue Vapor Discussion.md","filePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/Vue Vapor Discussion.md"}'),c={name:"ç¬”è®°/ğŸ› ï¸ å¼€å‘/Vue Vapor Discussion.md"},B=s("h1",{id:"vue-vapor-discussion",tabindex:"-1"},[i("Vue Vapor Discussion "),s("a",{class:"header-anchor",href:"#vue-vapor-discussion","aria-label":'Permalink to "Vue Vapor Discussion"'},"â€‹")],-1),g=h(`<p>æœ¬æ–‡ç²—ç•¥åˆ—ä¸¾äº†ä¸€ä¸‹ Vapor ç›®å‰éœ€è¦å…·ä½“è®¨è®ºçš„ä¸€äº›äº‹æƒ…</p><p>é—®é¢˜æ±‡æ€»ï¼š</p><ol><li>runtime-vapor å’Œ runtime-core ä»£ç å¤ç”¨</li><li>Render Watch and Render Effect</li><li>onEffectCleanup ç›´æ¥é›†æˆåˆ° reactivity ä¸­</li><li>runtime-vapor æ·»åŠ  renderEffectï¼Œç§»é™¤åŸæœ‰çš„ watchEffect å’Œ watch çš„ flush rendering</li><li>renderWatch é‡Œé¢å®ç° beforeUpdate, updated ä¹‹ç±»çš„å„ç§é’©å­</li><li>å¦‚ä½•æ··ç”¨ Vapor Component å’Œ vDom Componentï¼Ÿ</li><li>å…³äºå…¶å®ƒæœªå®ç°åŠŸèƒ½çš„è®¨è®º</li></ol><h2 id="effectid" tabindex="-1">EffectID <a class="header-anchor" href="#effectid" aria-label="Permalink to &quot;EffectID&quot;">â€‹</a></h2><p>å¦‚æœæŠŠ v-if è¿™ç±»å¯¹ EffectID æœ‰éœ€æ±‚çš„åœºæ™¯åšæˆç±»ä¼¼è¿™æ ·çš„ runtime codeï¼Œå¥½åƒå°±ä¸éœ€è¦ effect id äº†å‘¢</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> t0</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">renderWatch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> /* vIfExpression */</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> scope</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> EffectScope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    onEffectCleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    scope</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> t1</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> template</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">      renderEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        setText</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">n1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">bar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span></code></pre></div><h2 id="runtime-vapor-å’Œ-runtime-core-ä»£ç å¤ç”¨" tabindex="-1">runtime-vapor å’Œ runtime-core ä»£ç å¤ç”¨ <a class="header-anchor" href="#runtime-vapor-å’Œ-runtime-core-ä»£ç å¤ç”¨" aria-label="Permalink to &quot;runtime-vapor å’Œ runtime-core ä»£ç å¤ç”¨&quot;">â€‹</a></h2><p>ä¸»è¦æ¶‰åŠ <code>scheduler.ts</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶è´Ÿè´£è°ƒåº¦ effect çš„ flushï¼Œä¹Ÿå°±æ˜¯ <code>sync</code>/<code>pre</code>/<code>post</code> è¿™äº›ï¼Œå› ä¸ºè€ƒè™‘åˆ°ä¹‹åéœ€è¦æ”¯æŒ Vapor Component å’Œ vDom Componentï¼Ÿçš„æ··ç”¨é—®é¢˜ï¼Œç°åœ¨çš„ vapor å’Œ core å„æœ‰ä¸€ä¸ª scheduler.ts æ–‡ä»¶çš„å½¢å¼æ˜¯æœ‰é—®é¢˜çš„ã€‚</p>`,8),y=h('<h2 id="render-watch-render-effect" tabindex="-1">Render Watch / Render Effectï¼š <a class="header-anchor" href="#render-watch-render-effect" aria-label="Permalink to &quot;Render Watch / Render Effectï¼š&quot;">â€‹</a></h2><p>åœ¨ render å‡½æ•°ä¸­ä½¿ç”¨ä¸“ç”¨çš„ Render <code>watch</code> å’Œ Render <code>watchEffect</code> API</p><h2 id="å°†-oneffectcleanup-ç›´æ¥é›†æˆåˆ°-reactivity-package-ä¸­" tabindex="-1">å°† onEffectCleanup ç›´æ¥é›†æˆåˆ° reactivity package ä¸­ <a class="header-anchor" href="#å°†-oneffectcleanup-ç›´æ¥é›†æˆåˆ°-reactivity-package-ä¸­" aria-label="Permalink to &quot;å°† onEffectCleanup ç›´æ¥é›†æˆåˆ° reactivity package ä¸­&quot;">â€‹</a></h2><p>æˆ‘ä»¬éœ€è¦è®¨è®ºå°†å®ƒåŠ å…¥ <strong>reactivity pkg</strong> æˆ–è€…å•ç‹¬çš„ <strong>scheduler pkg</strong> ä¸­</p><p>è¿™ä¸ª <code>onEffectCleanup</code> å·²ç»åœ¨ Vapor ä¸­å®è£…äº†ï¼Œä¸‹é¢æ˜¯å¯¹åº”çš„ Issue å’Œ PR</p>',5),E=h(`<p>ç”¨èµ·æ¥å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼Œä¸‹é¢çš„ä¾‹å­ä¸­æ¼”ç¤ºäº† <code>@[eventName]=&quot;handler&quot;</code> è¿™ç§æƒ…å†µ, è¿™é‡Œçš„ on å‡½æ•°æ˜¯ runtime-vapor æä¾›çš„ä¸€ä¸ªè¿è¡Œæ—¶ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// in component setup or render</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">watchEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">el1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">eventName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">el2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">eventName</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// in runtime-vapor pkg</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">el</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">handler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  el</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  onEffectCleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    el</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">removeEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>Additionally, provide support for <code>watch</code></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">newId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">oldId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">response</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> doAsyncWork</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">newId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // \`cancel\` will be called if \`id\` changes, cancelling</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  // the previous request if it hasn&#39;t completed yet</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  onEffectCleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> response</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span></code></pre></div><h2 id="runtime-vapor-æ·»åŠ -rendereffect-ç§»é™¤åŸæœ‰çš„-watcheffect-å’Œ-watch-çš„-flush-rendering" tabindex="-1">runtime-vapor æ·»åŠ  renderEffectï¼Œç§»é™¤åŸæœ‰çš„ watchEffect å’Œ watch çš„ flush rendering <a class="header-anchor" href="#runtime-vapor-æ·»åŠ -rendereffect-ç§»é™¤åŸæœ‰çš„-watcheffect-å’Œ-watch-çš„-flush-rendering" aria-label="Permalink to &quot;runtime-vapor æ·»åŠ  renderEffectï¼Œç§»é™¤åŸæœ‰çš„ watchEffect å’Œ watch çš„ flush rendering&quot;">â€‹</a></h2><p>è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é™¤äº† watchEffect çš„ render ç‰ˆæœ¬ä¹‹å¤–ï¼Œåº”è¯¥è¿˜éœ€è¦ watch çš„ render ç‰ˆæœ¬å§<br> æˆ‘ä¸¾ä¸ªä¾‹å­ï¼š</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#E06C75;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">Comp</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;show&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> /&gt;</span></span></code></pre></div><p><strong>Compiled To</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">renderEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                // âŒ è¿™é‡Œé¢çš„ setup å’Œ render ä¹Ÿä¼šè¢«ä½œä¸º Effect çš„ä¾èµ–è¿› âŒ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> comp</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> createComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Comp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">comp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    onEffectCleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      /* ... */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">renderWatch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">show</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> /* æˆ–è€…å…¶å®ƒè¡¨è¾¾å¼ */</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                // âœ… è¿™æ ·å°±æ²¡é—®é¢˜äº† âœ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> comp</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> createComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Comp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    insert</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">comp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">    onEffectCleanup</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">      /* ... */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">})</span></span></code></pre></div><h2 id="renderwatch-é‡Œé¢å®ç°-beforeupdate-updated-ä¹‹ç±»çš„å„ç§é’©å­" tabindex="-1">renderWatch é‡Œé¢å®ç° beforeUpdate, updated ä¹‹ç±»çš„å„ç§é’©å­ <a class="header-anchor" href="#renderwatch-é‡Œé¢å®ç°-beforeupdate-updated-ä¹‹ç±»çš„å„ç§é’©å­" aria-label="Permalink to &quot;renderWatch é‡Œé¢å®ç° beforeUpdate, updated ä¹‹ç±»çš„å„ç§é’©å­&quot;">â€‹</a></h2><p>å¾…è®¨è®ºæ›´å¤šç»†èŠ‚</p><h2 id="å¦‚ä½•æ··ç”¨-vapor-component-å’Œ-vdom-component" tabindex="-1">å¦‚ä½•æ··ç”¨ Vapor Component å’Œ vDom Componentï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•æ··ç”¨-vapor-component-å’Œ-vdom-component" aria-label="Permalink to &quot;å¦‚ä½•æ··ç”¨ Vapor Component å’Œ vDom Componentï¼Ÿ&quot;">â€‹</a></h2><p>å¾…è®¨è®ºæ›´å¤šç»†èŠ‚</p><h2 id="æœªå®ç°åŠŸèƒ½çš„è®¨è®º" tabindex="-1">æœªå®ç°åŠŸèƒ½çš„è®¨è®º <a class="header-anchor" href="#æœªå®ç°åŠŸèƒ½çš„è®¨è®º" aria-label="Permalink to &quot;æœªå®ç°åŠŸèƒ½çš„è®¨è®º&quot;">â€‹</a></h2>`,14),F=s("p",null,"v-for #21 opened 3 weeks ago by sxzz",-1),f=s("p",null,"Runtime Directives todoPR welcome #19 opened 3 weeks ago by sxzz",-1),A=s("p",null,"v-memo on hold todo #18 opened 3 weeks ago by sxzz",-1),C=s("p",null,"v-model pending #17 opened last month by Ubugeeei",-1),u=s("p",null,"v-show pending #16 opened last month by zhangmo8",-1),D=s("p",null,"v-if on hold #9 opened last month by faga295",-1),m=s("p",null,"[Runtime] Component (base issue) on discussing todo #4 opened last month by Ubugeeei",-1),v=s("p",null,"Life Cycles",-1);function _(b,w,V,P,x,q){const l=e("NolebasePageProperties"),n=e("VPNolebaseInlineLinkPreview"),p=e("NolebaseGitContributors"),k=e("NolebaseGitChangelog");return o(),d("div",null,[B,a(l),g,s("p",null,[a(n,{href:"https://github.com/vuejs/core-vapor/pull/69",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("ç›¸å…³ PR")]),_:1})]),s("p",null,[a(n,{href:"https://github.com/vuejs/core-vapor/pull/69/files#diff-c60e2c7d0cb1f0141de00557a7f54c49c8e1e88dddc4e0b74c3fadef78d088ffR51-R62",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("ç›¸å…³ä»£ç ")]),_:1})]),y,s("p",null,[a(n,{href:"https://github.com/vuejs/core-vapor/issues/67",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Issue")]),_:1}),i(" / "),a(n,{href:"https://github.com/vuejs/core-vapor/pull/69",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("PR")]),_:1})]),E,s("p",null,[a(n,{href:"https://github.com/vuejs/core-vapor?tab=readme-ov-file#todo",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("TODO")]),_:1}),i(" | "),a(n,{href:"https://github.com/vuejs/core-vapor/issues",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Issues")]),_:1}),i(" | "),a(n,{href:"https://github.com/vuejs/core-vapor/issues/4",target:"_blank",rel:"noreferrer"},{default:t(()=>[i("Component")]),_:1})]),F,f,A,C,u,D,m,v,a(p),a(k)])}const N=r(c,[["render",_]]);export{I as __pageData,N as default};
