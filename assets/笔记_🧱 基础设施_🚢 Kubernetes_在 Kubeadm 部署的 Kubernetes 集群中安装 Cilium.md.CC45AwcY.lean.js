import{_ as r,c as d,I as a,j as s,w as l,a as i,au as t,D as e,o}from"./chunks/framework.RMxno62p.js";const Fs=JSON.parse('{"title":"åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium","description":"","frontmatter":{"tags":["è¿ç»´/äº‘åŸç”Ÿ/Kubernetes","è¿ç»´/äº‘åŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes/K8s","å¼€å‘/äº‘åŸç”Ÿ/Kubernetes","è¿ç»´/Cilium","å‘½ä»¤è¡Œ/cilium","è½¯ä»¶/äº‘åŸç”Ÿ/Cilium","å‘½ä»¤è¡Œ/kubeadm","è½¯ä»¶/äº‘åŸç”Ÿ/kubeadm","è½¯ä»¶/äº‘åŸç”Ÿ/kube-proxy","è®¡ç®—æœº/ç½‘ç»œ/Cilium","å‘½ä»¤è¡Œ/helm","è½¯ä»¶/äº‘åŸç”Ÿ/helm","å¼€å‘/æ ‡è®°è¯­è¨€/YAML"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium.md","filePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium.md"}'),c={name:"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium.md"},g=s("h1",{id:"åœ¨-kubeadm-éƒ¨ç½²çš„-kubernetes-é›†ç¾¤ä¸­å®‰è£…-cilium",tabindex:"-1"},[i("åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium "),s("a",{class:"header-anchor",href:"#åœ¨-kubeadm-éƒ¨ç½²çš„-kubernetes-é›†ç¾¤ä¸­å®‰è£…-cilium","aria-label":'Permalink to "åœ¨ Kubeadm éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Cilium"'},"â€‹")],-1),F=s("h3",{id:"æ–‡æ¡£å…¼å®¹æ€§",tabindex:"-1"},[i("æ–‡æ¡£å…¼å®¹æ€§ "),s("a",{class:"header-anchor",href:"#æ–‡æ¡£å…¼å®¹æ€§","aria-label":'Permalink to "æ–‡æ¡£å…¼å®¹æ€§"'},"â€‹")],-1),y={tabindex:"0"},C=s("thead",null,[s("tr",null,[s("th",null,"ä¸»ä½“"),s("th",null,"ç‰ˆæœ¬å·"),s("th",null,"æ–‡æ¡£åœ°å€ï¼ˆå¦‚æœæœ‰ï¼‰")])],-1),u=s("td",null,"Kubernetes",-1),m=s("td",null,"1.28",-1),A=s("td",null,"Cilium",-1),b=s("td",null,"1.14.2",-1),B=s("td",null,"helm",-1),E=s("td",null,"v3.9.0",-1),f=s("h2",{id:"å…ˆå†³æ¡ä»¶",tabindex:"-1"},[i("å…ˆå†³æ¡ä»¶ "),s("a",{class:"header-anchor",href:"#å…ˆå†³æ¡ä»¶","aria-label":'Permalink to "å…ˆå†³æ¡ä»¶"'},"â€‹")],-1),_=s("h2",{id:"å‡†å¤‡é…ç½®æ–‡ä»¶",tabindex:"-1"},[i("å‡†å¤‡é…ç½®æ–‡ä»¶ "),s("a",{class:"header-anchor",href:"#å‡†å¤‡é…ç½®æ–‡ä»¶","aria-label":'Permalink to "å‡†å¤‡é…ç½®æ–‡ä»¶"'},"â€‹")],-1),v=s("p",null,[i("åˆ›å»ºä¸€ä¸ªåä¸º "),s("code",null,"cilium-values.yml"),i(" çš„é…ç½®æ–‡ä»¶å¹¶æ”¾åˆ°ä½ å–œæ¬¢çš„åœ°æ–¹ï¼Œä¹‹åæˆ‘ä»¬éœ€è¦ä½¿ç”¨ "),s("code",null,"cilium install"),i(" æ ¹æ®è¿™ä»½é…ç½®æ–‡ä»¶äº§å‡ºæœ€ç»ˆ "),s("code",null,"helm install"),i(" éœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚"),s("sup",{class:"footnote-ref"},[s("a",{href:"#fn1",id:"fnref1"},"[1]")])],-1),D=t("",1),x=s("code",null,"ipam.mode",-1),P=s("code",null,"kubernetes",-1),w=t("",44),q=s("code",null,"cilium",-1),I=s("code",null,"10.0.0.0/8",-1),T=s("sup",{class:"footnote-ref"},[s("a",{href:"#fn3",id:"fnref3"},"[3]")],-1),R=s("code",null,"10.0.0.0/8",-1),N=s("code",null,"10.",-1),K=s("code",null,"10.0.0.1",-1),S=s("code",null,"cilium",-1),H=s("code",null,"cilium install",-1),O=s("code",null,"helm install",-1),M=s("code",null,"ipam.operator.clusterPoolIPv4PodCIDRList",-1),V=s("code",null,"ipv4NativeRoutingCIDR",-1),L=t("",29),$=s("li",null,[i("å¦‚æœæ˜¯åœ¨ä¸­å›½å¤§é™†éƒ¨ç½²çš„æœºå™¨ï¼Œæ˜¯ä¸æ˜¯å› ä¸º "),s("code",null,"1.1.1.1"),i(" è¢«å¢™äº†ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸‹ä»£ç†æ˜¯å¦é…ç½®æ­£ç¡®ï¼ŒèŠ‚ç‚¹æ˜¯å¦é€‰æ‹©æ­£ç¡®")],-1),U=t("",1),G=t("",9),Y=s("hr",{class:"footnotes-sep"},null,-1),j={class:"footnotes"},z={class:"footnotes-list"},J={id:"fn1",class:"footnote-item"},Z=s("a",{href:"#fnref1",class:"footnote-backref"},"â†©ï¸",-1),Q={id:"fn2",class:"footnote-item"},W=s("code",null,"helm",-1),X=s("code",null,"helm",-1),ss=s("code",null,"cilium",-1),is=s("a",{href:"#fnref2",class:"footnote-backref"},"â†©ï¸",-1),as={id:"fn3",class:"footnote-item"},ns=s("code",null,"10.0.0.0/8",-1),ls=s("code",null,"10",-1),ts=s("code",null,"10",-1),es=s("a",{href:"#fnref3",class:"footnote-backref"},"â†©ï¸",-1);function hs(ks,ps,rs,ds,os,cs){const h=e("NolebasePageProperties"),n=e("VPNolebaseInlineLinkPreview"),k=e("NolebaseGitContributors"),p=e("NolebaseGitChangelog");return o(),d("div",null,[g,a(h),F,s("table",y,[C,s("tbody",null,[s("tr",null,[u,m,s("td",null,[a(n,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("https://v1-28.docs.kubernetes.io/")]),_:1})])]),s("tr",null,[A,b,s("td",null,[a(n,{href:"https://docs.cilium.io/en/v1.14/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("https://docs.cilium.io/en/v1.14/")]),_:1})])]),s("tr",null,[B,E,s("td",null,[a(n,{href:"https://helm.sh/docs/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("https://helm.sh/docs/")]),_:1})])])])]),f,s("ul",null,[s("li",null,[a(n,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/ä¸ºå®‰è£… CNI ä½¿ç”¨ Kubeadm å‡†å¤‡ä¸€ä¸ª Kubernetes é›†ç¾¤.html"},{default:l(()=>[i("ä¸ºå®‰è£… CNI ä½¿ç”¨ Kubeadm å‡†å¤‡ä¸€ä¸ª Kubernetes é›†ç¾¤")]),_:1})])]),_,v,s("p",null,[i("å¯¹äºä¸€ä¸ªæ ¹æ®"),a(n,{href:"#å…ˆå†³æ¡ä»¶"},{default:l(()=>[i("å…ˆå†³æ¡ä»¶")]),_:1}),i("ä¸­çš„è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ’°å†™å¦‚ä¸‹çš„æ–‡ä»¶å†…å®¹ï¼š")]),D,s("p",null,[i("å¯¹äº "),x,i(" ä¸º "),P,i("ï¼Œä½ å¯ä»¥åœ¨ "),a(n,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Cluster Scope (Default) â€” Cilium 1.14.2 documentation")]),_:1}),i(" å’Œ "),a(n,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/kubernetes/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Kubernetes Host Scope â€” Cilium 1.14.2 documentation")]),_:1}),i(" äº†è§£æ›´å¤šã€‚")]),w,s("p",null,[i("è¿™æ ·çš„å‘½ä»¤åœ¨ Kubernetes é›†ç¾¤ä¸­å®‰è£…ï¼Œé‚£ "),q,i(" æ˜¯é»˜è®¤ä½¿ç”¨çš„ "),a(n,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#ipam-crd-cluster-pool",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Cluster Scope (Default)")]),_:1}),i(" ä½œä¸º IPAM çš„æ¨¡å¼æ¥è¿è¡Œï¼Œè€Œ "),a(n,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#ipam-crd-cluster-pool",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Cluster Scope (Default)")]),_:1}),i(" å¥½å·§ä¸å·§ä½¿ç”¨çš„é»˜è®¤çš„ CIDR æ˜¯ "),I,T,i("ï¼Œå¦‚æœä½ å­¦è¿‡ CIDRï¼ˆæ²¡æœ‰å­¦è¿‡ä¹Ÿä¸è¦ç´§ï¼Œå¯ä»¥çœ‹çœ‹"),a(n,{href:"/ç¬”è®°/ğŸ› ï¸ å¼€å‘/ğŸ•¸ ç½‘ç»œ/IP åé¢çš„æ–œæ æ˜¯ä»€ä¹ˆï¼Ÿ.html"},{default:l(()=>[i("IP åé¢çš„æ–œæ æ˜¯ä»€ä¹ˆï¼Ÿ")]),_:1}),i("ï¼‰ï¼Œä½ å¯ä»¥çœ‹å‡ºæ¥ "),R,i(" æ„å‘³ç€ "),N,i(" åé¢çš„æ•°å­—éƒ½æ˜¯å¯ä»¥è¢«åˆ†é…çš„ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ "),K,i(" ä¹Ÿæ˜¯ "),S,i(" æ¥ç®¡çš„æµé‡çš„ä¸€éƒ¨åˆ†äº†ï¼Œæ‰€ä»¥ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚")]),s("p",null,[i("æ­£ç¡®çš„åšæ³•æ˜¯æˆ‘ä»¬åœ¨å®‰è£…çš„æ—¶å€™ç»™å‚æ•°æˆ–è€…åœ¨ç»™ "),H,i(" ä½¿ç”¨çš„æˆ–è€… "),O,i(" ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹ "),M,i(" å’Œ "),V,i(" è¿™ä¸¤ä¸ªå­—æ®µï¼Œé…ç½®çš„å­—é¢é‡ä¸ Kubernetes é›†ç¾¤çš„é…ç½®ç›¸åŒå³å¯ã€‚å¦‚æœä½ æƒ³è¦åˆ é™¤ Cilium é‡æ–°éƒ¨ç½²ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹"),a(n,{href:"/ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/ğŸš¢ Kubernetes/å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium.html"},{default:l(()=>[i("å®Œå…¨å¸è½½ä½¿ç”¨ Helm å®‰è£…çš„ Cilium")]),_:1}),i(" è¿™ç¯‡æ–‡æ¡£çš„æŒ‡å¼•ã€‚")]),L,s("ol",null,[s("li",null,[i("å¦‚æœè¯´æˆ‘ä»¬å®¿ä¸»æœºä¹Ÿæ— æ³•è®¿é—® "),s("ol",null,[$,s("li",null,[i("å¦‚æœè¯´ä»£ç†æ­£ç¡®çš„è¯ï¼Œé‚£å¯èƒ½ä½ å¯ä»¥å‚è€ƒä¸€ä¸‹ "),a(n,{href:"#å› ä¸º-cidr-å†²çªå¯¼è‡´çš„-host-ç½‘ç»œå¼‚å¸¸"},{default:l(()=>[i("å› ä¸º CIDR å†²çªå¯¼è‡´çš„ Host ç½‘ç»œå¼‚å¸¸")]),_:1}),i("éƒ¨åˆ†æ˜¯å¦åŒ¹é…ä½ æ­£åœ¨é­é‡çš„æ•…éšœï¼Œä¹Ÿè®¸æ˜¯å› ä¸º CIDR çš„å†²çªå¯¼è‡´ DNS æˆ–è€…è·¯ç”±æŒ‚äº†")])])]),U]),G,s("ul",null,[s("li",null,[a(n,{href:"https://github.com/cilium/cilium/issues/16235",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Cannot reach external endpoint with service ip when the external endpoint is one of k8s node Â· Issue #16235 Â· cilium/cilium")]),_:1})]),s("li",null,[a(n,{href:"https://stackoverflow.com/questions/76432743/cant-access-the-external-network-from-pod-nginx-pod",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("kubernetes - Canâ€™t access the external network from pod (nginx-pod) - Stack Overflow")]),_:1})]),s("li",null,[a(n,{href:"https://serverfault.com/questions/1103034/kubernetes-nodes-are-not-reachable-and-cannot-reach-local-network-after-installi",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("linux - Kubernetes Nodes are not reachable and cannot reach local network after installing cilium - Server Fault")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/cilium/cilium/issues/20085",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Pod cannot access external network Â· Issue #20085 Â· cilium/cilium")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/cilium/cilium/issues/22162",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("CI: ConformanceAKS: curl succeeded while it should have failed due to incorrect exit code Â· Issue #22162 Â· cilium/cilium")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/cilium/cilium-cli/issues/673",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("cilium connectivity test failures Â· Issue #673 Â· cilium/cilium-cli")]),_:1})]),s("li",null,[a(n,{href:"https://github.com/kubernetes-sigs/kubespray/issues/8546",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Cilium deployment fails to pass conn test and sonobuoy Â· Issue #8546 Â· kubernetes-sigs/kubespray")]),_:1})])]),a(k),a(p),Y,s("section",j,[s("ol",z,[s("li",J,[s("p",null,[i("è™½ç„¶ "),a(n,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-migration/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Migrating a cluster to Cilium")]),_:1}),i(" æ˜¯ä¸“é—¨ä¸ºè¿ç§»åˆ° Cilium å‡†å¤‡çš„æ–‡æ¡£ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯å…¨æ–°çš„å®‰è£…ï¼Œé‚£è¿™é‡Œé¢æœ‰çš„æ­¥éª¤æ˜¯ä¸éœ€è¦éµå¾ªçš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å€Ÿé‰´ä¸€ä¸‹éƒ¨åˆ†çš„æ“ä½œã€‚ "),Z])]),s("li",Q,[s("p",null,[i("åœ¨ "),a(n,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-helm/",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Installation using Helm")]),_:1}),i(" ä¸­è®²è§£äº†å¦‚ä½•ä½¿ç”¨ "),W,i(" è¿›è¡Œå®‰è£…ï¼Œ"),X,i(" å®‰è£…å’Œç›´æ¥ç”¨ "),ss,i(" å®‰è£…å…¶å®åº•å±‚ä¸Šè€Œè¨€æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯é…ç½®çš„è¿‡ç¨‹ä¸åŒï¼Œä¹Ÿå¯ä»¥é˜…è¯»ä¸€ä¸‹è¿™ç¯‡æ–‡æ¡£æ¥äº†è§£åŒºåˆ«ã€‚ "),is])]),s("li",as,[s("p",null,[i("å¯¹äºé»˜è®¤çš„ "),a(n,{href:"https://docs.cilium.io/en/stable/network/concepts/ipam/cluster-pool/#check-for-conflicting-node-cidrs",target:"_blank",rel:"noreferrer"},{default:l(()=>[i("Cluster Scope (Default)")]),_:1}),i(" æ¨¡å¼è€Œè¨€ï¼ŒCilium é»˜è®¤ä½¿ç”¨ "),ns,i(" ä½œä¸º Pod çš„ CIDRï¼Œä¸å¾—ä¸è¯´æ˜¯çœŸçš„å¤ªé‡äº†ï¼Œè¿™æ ·çš„ CIDR è¿”å›å°†ä¼šè¦†ç›–æ•´ä¸ª "),ls,i(" IP æ®µï¼Œå¾ˆå¤šå†…ç½‘åŸºç¡€è®¾æ–½éƒ½æ˜¯é€‰æ‹©çš„ "),ts,i(" æ®µï¼Œå¦‚æœç›´æ¥ç”¨é»˜è®¤é…ç½®è‚¯å®šä¼šå‡ºå¤§é—®é¢˜ã€‚ "),es])])])])])}const ys=r(c,[["render",hs]]);export{Fs as __pageData,ys as default};
