import{_ as c,c as r,I as e,j as a,w as s,a as i,au as p,D as t,o as b}from"./chunks/framework.RMxno62p.js";const E=JSON.parse('{"title":"Obsidian 官方文档参考","description":"","frontmatter":{"tags":["软件/Obsidian","软件/Obsidian/插件","开发/前端"]},"headers":[],"relativePath":"笔记/🛠️ 开发/Obsidian 插件开发/Obsidian 官方文档参考.md","filePath":"笔记/🛠️ 开发/Obsidian 插件开发/Obsidian 官方文档参考.md"}'),h={name:"笔记/🛠️ 开发/Obsidian 插件开发/Obsidian 官方文档参考.md"},u=a("h1",{id:"obsidian-官方文档参考",tabindex:"-1"},[i("Obsidian 官方文档参考 "),a("a",{class:"header-anchor",href:"#obsidian-官方文档参考","aria-label":'Permalink to "Obsidian 官方文档参考"'},"​")],-1),_=p('<h2 id="关于-main-ts" tabindex="-1">关于 <code>main.ts</code> <a class="header-anchor" href="#关于-main-ts" aria-label="Permalink to &quot;关于 `main.ts`&quot;">​</a></h2><ol><li>使用 <code>require(&#39;obsidian&#39;)</code> 导入任何黑曜石 API。</li><li>使用 <code>require(&#39;fs&#39;)</code> 或 <code>require(&#39;electron&#39;)</code> 导入 NodeJS 或 Electron API。</li><li>必须使用 <code>export default class</code> 导出一个扩展 <code>Plugin</code> 的默认类</li><li>必须使用诸如 <code>Rollup</code>、<code>Webpack</code> 或其他 JavaScript/TypeScript 打包工具，将所有的外部依赖关系捆绑到这个文件中。</li></ol><h2 id="黑曜石-app-架构" tabindex="-1">黑曜石 App 架构 <a class="header-anchor" href="#黑曜石-app-架构" aria-label="Permalink to &quot;黑曜石 App 架构&quot;">​</a></h2><p>该应用程序被组织成几个主要模块。</p><ol><li>App，全局对象，拥有其他一切。你可以在你的插件中通过 <code>this.app</code> 访问它。App 接口提供了以下接口的访问器。</li><li>Vault，让你与保险库中的文件和文件夹互动的接口。</li><li>Workspace，让你与屏幕上的面板互动的接口。</li><li>MetadataCache，包含每个markdown文件的缓存元数据的界面，包括标题、链接、嵌入、标签和块。</li></ol><p>同时，继承了 Plugin 类之后，可以使用下面的函数：</p><ol><li>使用 <code>this.addRibbonIcon</code> 添加一个侧边栏图标。</li><li>使用 <code>this.addStatusBarItem</code> 添加一个状态栏（底部）元素。</li><li>使用 <code>this.addCommand</code> 添加一个全局命令，可以选择一个默认的热键。</li><li>使用 <code>this.addSettingTab</code> 添加一个插件设置标签。</li><li>使用 <code>this.registerView</code> 注册一种新的视图。</li><li>使用 <code>this.loadData</code> 和 <code>this.saveData</code> 来保存和加载插件数据。</li></ol><p>对于从任何事件接口注册事件，如 <code>App</code> 和 <code>Workspace</code>，请使用 <code>this.registerEvent</code>，它将在你的插件卸载时自动分离你的事件处理程序。:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>this.registerEvent(app.on(&#39;event-name&#39;, callback));</span></span></code></pre></div><p>如果需要为那些在插件卸载后依然需要存在于页面上的元素注册 DOM 事件，如<code>window</code>或<code>document</code>事件，请使用<code>this.registerDomEvent</code>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>this.registerDomEvent(element, &#39;click&#39;, callback);</span></span></code></pre></div><p>如果需要使用<code>setInterval</code>，请使用<code>this.registerInterval</code>。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>this.registerInterval(setInterval(callback, 1000));</span></span></code></pre></div>',13);function m(g,v,f,k,P,O){const n=t("NolebasePageProperties"),o=t("VPNolebaseInlineLinkPreview"),d=t("NolebaseGitContributors"),l=t("NolebaseGitChangelog");return b(),r("div",null,[u,e(n),_,a("p",null,[e(o,{href:"https://github.com/obsidianmd/obsidian-api",target:"_blank",rel:"noreferrer"},{default:s(()=>[i("obsidianmd/obsidian-api")]),_:1})]),a("p",null,[e(o,{href:"https://github.com/obsidianmd/obsidian-sample-plugin",target:"_blank",rel:"noreferrer"},{default:s(()=>[i("obsidianmd/obsidian-sample-plugin")]),_:1})]),a("p",null,[e(o,{href:"https://publish.obsidian.md/help-zh/%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8F%92%E4%BB%B6",target:"_blank",rel:"noreferrer"},{default:s(()=>[i("第三方插件 - Obsidian 中文帮助 - Obsidian Publish")]),_:1})]),a("p",null,[e(o,{href:"https://publish.obsidian.md/alexisrondeau/Obsidian+Plugin+Development",target:"_blank",rel:"noreferrer"},{default:s(()=>[i("Obsidian Plugin Development - Alexis Rondeau - Obsidian Publish")]),_:1})]),a("p",null,[e(o,{href:"https://help.obsidian.md/How+to/Embed+files",target:"_blank",rel:"noreferrer"},{default:s(()=>[i("Embed files - Obsidian Help")]),_:1})]),e(d),e(l)])}const A=c(h,[["render",m]]);export{E as __pageData,A as default};
