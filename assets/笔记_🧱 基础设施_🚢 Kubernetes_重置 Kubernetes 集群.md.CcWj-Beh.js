import{_ as p,c as k,I as i,j as s,w as r,a as e,au as d,D as a,o}from"./chunks/framework.RMxno62p.js";const x=JSON.parse('{"title":"重置 Kubernetes 集群","description":"","frontmatter":{"tags":["命令行/kubeadm","软件/云原生/kubeadm","开发/云原生/容器网络接口","开发/云原生/容器网络接口/CNI","命令行/systemd","命令行/docker","开发/容器化/Docker","开发/云原生/Docker","软件/云原生/docker","命令行/containerd","软件/云原生/containerd","命令行/ipvsadm","软件/云原生/ipvsadm","计算机/操作系统/Linux","计算机/操作系统/Linux/命令行","操作系统/Linux"]},"headers":[],"relativePath":"笔记/🧱 基础设施/🚢 Kubernetes/重置 Kubernetes 集群.md","filePath":"笔记/🧱 基础设施/🚢 Kubernetes/重置 Kubernetes 集群.md"}'),c={name:"笔记/🧱 基础设施/🚢 Kubernetes/重置 Kubernetes 集群.md"},g=s("h1",{id:"重置-kubernetes-集群",tabindex:"-1"},[e("重置 Kubernetes 集群 "),s("a",{class:"header-anchor",href:"#重置-kubernetes-集群","aria-label":'Permalink to "重置 Kubernetes 集群"'},"​")],-1),u=s("h3",{id:"文档兼容性",tabindex:"-1"},[e("文档兼容性 "),s("a",{class:"header-anchor",href:"#文档兼容性","aria-label":'Permalink to "文档兼容性"'},"​")],-1),C={tabindex:"0"},F=s("thead",null,[s("tr",null,[s("th",null,"主体"),s("th",null,"版本号"),s("th",null,"文档地址（如果有）")])],-1),b=s("td",null,"kubeadm",-1),y=s("td",null,"1.28",-1),_=d(`<p>用于删除集群，删除 CNI 配置，清空 IPVS，重设 Docker 和 containerd 的命令：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-VZh-q" id="tab-YRUutnm" checked><label for="tab-YRUutnm">多行</label><input type="radio" name="group-VZh-q" id="tab-gF03apq"><label for="tab-gF03apq">单行</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reset</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --force</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/cni/net.d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ipvsadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --clear</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> containerd</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kubeadm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reset</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --force</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/cni/net.d</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ipvsadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --clear</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> containerd</span></span></code></pre></div></div></div>`,2);function m(v,A,f,E,N,B){const t=a("NolebasePageProperties"),n=a("VPNolebaseInlineLinkPreview"),l=a("NolebaseGitContributors"),h=a("NolebaseGitChangelog");return o(),k("div",null,[g,i(t),u,s("table",C,[F,s("tbody",null,[s("tr",null,[b,y,s("td",null,[i(n,{href:"https://v1-28.docs.kubernetes.io/",target:"_blank",rel:"noreferrer"},{default:r(()=>[e("https://v1-28.docs.kubernetes.io/")]),_:1})])])])]),_,i(l),i(h)])}const D=p(c,[["render",m]]);export{x as __pageData,D as default};
