import{_ as h,c as n,I as s,au as l,D as i,o as p}from"./chunks/framework.RMxno62p.js";const B=JSON.parse('{"title":"","description":"","frontmatter":{"tags":["开发/数据/数据库","计算机/数据库/postgres","计算机/数据库/postgresql","开发/语言/SQL","开发/数据/时间处理","开发/数据/数据处理","开发/数据/时区"]},"headers":[],"relativePath":"笔记/🛠️ 开发/🗂 数据库/关系型数据库 Relational DB/🐘 PostgreSQL/时间类型的互相转换.md","filePath":"笔记/🛠️ 开发/🗂 数据库/关系型数据库 Relational DB/🐘 PostgreSQL/时间类型的互相转换.md"}'),k={name:"笔记/🛠️ 开发/🗂 数据库/关系型数据库 Relational DB/🐘 PostgreSQL/时间类型的互相转换.md"},d=l('<h2 id="时间类型互相转换" tabindex="-1">时间类型互相转换 <a class="header-anchor" href="#时间类型互相转换" aria-label="Permalink to &quot;时间类型互相转换&quot;">​</a></h2><h3 id="timestamp-转换为-unix-时间戳" tabindex="-1">timestamp 转换为 UNIX 时间戳 <a class="header-anchor" href="#timestamp-转换为-unix-时间戳" aria-label="Permalink to &quot;timestamp 转换为 UNIX 时间戳&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> EXTRACT(EPOCH </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP::</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> unix_timestamp;</span></span></code></pre></div><h3 id="timestamp-转换为毫秒级-unix-时间戳" tabindex="-1">timestamp 转换为毫秒级 UNIX 时间戳 <a class="header-anchor" href="#timestamp-转换为毫秒级-unix-时间戳" aria-label="Permalink to &quot;timestamp 转换为毫秒级 UNIX 时间戳&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> EXTRACT(EPOCH </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP::</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> unix_timestamp_milli;</span></span></code></pre></div><h4 id="切除-unix-时间戳的毫秒部分" tabindex="-1">切除 UNIX 时间戳的毫秒部分 <a class="header-anchor" href="#切除-unix-时间戳的毫秒部分" aria-label="Permalink to &quot;切除 UNIX 时间戳的毫秒部分&quot;">​</a></h4><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CEIL(EXTRACT(EPOCH </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP::</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> unix_timestamp;</span></span></code></pre></div><h4 id="切除毫秒级-unix-时间戳的微秒部分" tabindex="-1">切除毫秒级 UNIX 时间戳的微秒部分 <a class="header-anchor" href="#切除毫秒级-unix-时间戳的微秒部分" aria-label="Permalink to &quot;切除毫秒级 UNIX 时间戳的微秒部分&quot;">​</a></h4><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CEIL(EXTRACT(EPOCH </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP::</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)::</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">bigint</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> unix_timestamp_milli;</span></span></code></pre></div><h3 id="unix-时间戳转换为-timestamp" tabindex="-1">UNIX 时间戳转换为 timestamp <a class="header-anchor" href="#unix-时间戳转换为-timestamp" aria-label="Permalink to &quot;UNIX 时间戳转换为 timestamp&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> TO_TIMESTAMP(EXTRACT(EPOCH </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h4 id="切除-timestamp-的毫秒部分" tabindex="-1">切除 timestamp 的毫秒部分 <a class="header-anchor" href="#切除-timestamp-的毫秒部分" aria-label="Permalink to &quot;切除 timestamp 的毫秒部分&quot;">​</a></h4><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> DATE_TRUNC(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;second&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, TO_TIMESTAMP(EXTRACT(EPOCH </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP))) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> timestamp</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre></div><h2 id="时区转换" tabindex="-1">时区转换 <a class="header-anchor" href="#时区转换" aria-label="Permalink to &quot;时区转换&quot;">​</a></h2><h3 id="偏移时区" tabindex="-1">偏移时区 <a class="header-anchor" href="#偏移时区" aria-label="Permalink to &quot;偏移时区&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP::</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AT</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> TIME</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> ZONE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;UTC+08&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> now_china_timstamp</span></span></code></pre></div><h3 id="指定时区" tabindex="-1">指定时区 <a class="header-anchor" href="#指定时区" aria-label="Permalink to &quot;指定时区&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> CURRENT_TIMESTAMP::</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AT</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> TIME</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> ZONE</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Asia/Shanghai&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> now_china_timstamp</span></span></code></pre></div>',18);function r(o,g,D,c,A,m){const a=i("NolebasePageProperties"),t=i("NolebaseGitContributors"),e=i("NolebaseGitChangelog");return p(),n("div",null,[s(a),d,s(t),s(e)])}const y=h(k,[["render",r]]);export{B as __pageData,y as default};
