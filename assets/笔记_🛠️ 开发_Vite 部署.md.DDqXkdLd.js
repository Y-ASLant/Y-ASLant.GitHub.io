import{_ as d,c as r,I as a,j as i,a as s,w as t,au as l,D as h,o}from"./chunks/framework.RMxno62p.js";const K=JSON.parse('{"title":"Vite éƒ¨ç½²","description":"","frontmatter":{},"headers":[],"relativePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/Vite éƒ¨ç½².md","filePath":"ç¬”è®°/ğŸ› ï¸ å¼€å‘/Vite éƒ¨ç½².md"}'),g={name:"ç¬”è®°/ğŸ› ï¸ å¼€å‘/Vite éƒ¨ç½².md"},c=i("h1",{id:"vite-éƒ¨ç½²",tabindex:"-1"},[s("Vite éƒ¨ç½² "),i("a",{class:"header-anchor",href:"#vite-éƒ¨ç½²","aria-label":'Permalink to "Vite éƒ¨ç½²"'},"â€‹")],-1),y=i("h2",{id:"å®‰è£…å’Œé…ç½®",tabindex:"-1"},[s("å®‰è£…å’Œé…ç½® "),i("a",{class:"header-anchor",href:"#å®‰è£…å’Œé…ç½®","aria-label":'Permalink to "å®‰è£…å’Œé…ç½®"'},"â€‹")],-1),B=i("h3",{id:"å®‰è£…å‰ç½®è½¯ä»¶",tabindex:"-1"},[s("å®‰è£…å‰ç½®è½¯ä»¶ "),i("a",{class:"header-anchor",href:"#å®‰è£…å‰ç½®è½¯ä»¶","aria-label":'Permalink to "å®‰è£…å‰ç½®è½¯ä»¶"'},"â€‹")],-1),C=i("code",null,"yum",-1),F=i("code",null,"dnf",-1),A=i("li",null,"ä¼˜å…ˆå®‰è£… epel-releaseï¼ˆä¸€ä¸ªå¾ˆå¤§çš„è½¯ä»¶åº“æºï¼Œå®‰è£…åå¯ä»¥æœç´¢å’Œå®‰è£…æ›´å¤šçš„è½¯ä»¶åŒ…ï¼‰",-1),D=i("li",null,"æ›´æ–°æ•´ä¸ªè½¯ä»¶åŒ…åˆ—è¡¨ç¼“å­˜å’Œç³»ç»Ÿ",-1),E=i("li",null,"-y å‚æ•°è¡¨ç¤ºæ— éœ€è¯¢é—®æ˜¯å¦å®‰è£…ï¼Œç›´æ¥é™é»˜å®‰è£…",-1),u=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> epel-release</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> git</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -y</span></span></code></pre></div><p>å¦‚æœæ­¤å¤„æç¤ºæ‰¾ä¸åˆ° nginxï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ·»åŠ ä¸€ä¸‹ nginx å®˜æ–¹çš„è½¯ä»¶æº</p><h4 id="è°ƒæ•´-nginx-è½¯ä»¶æº" tabindex="-1">è°ƒæ•´ Nginx è½¯ä»¶æº <a class="header-anchor" href="#è°ƒæ•´-nginx-è½¯ä»¶æº" aria-label="Permalink to &quot;è°ƒæ•´ Nginx è½¯ä»¶æº&quot;">â€‹</a></h4><p>åˆ›å»ºä¸€ä¸ª nginx.repo æ–‡ä»¶å¹¶ä¸”å†™å…¥ nginx å®˜æ–¹æºé…ç½®ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/yum.repos.d/nginx.repo</span></span></code></pre></div><p>nginx.repo å†…å®¹ï¼Œå…¶ä¸­éœ€è¦æ›¿æ¢ä¸€äº›å­—ç¬¦ä¸²ï¼š æŠŠ <code>&lt;OS&gt;</code> æ›¿æ¢ä¸ºå‘è¡Œç‰ˆï¼Œæ¯”å¦‚ rhelï¼Œæˆ–è€… centos æŠŠ <code>&lt;OSRELEASE&gt;</code> æ›¿æ¢ä¸ºå‘è¡Œç‰ˆçš„å¤§ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ <code>6</code>, <code>6._x_</code>, <code>7</code>, <code>7._x_</code></p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">[nginx]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">nginx repo</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">baseurl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">https://nginx.org/packages/mainline/&lt;OS&gt;/&lt;OSRELEASE&gt;/$basearch/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">gpgcheck</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">1</span></span></code></pre></div><p>æ¯”å¦‚ CentOS7 çš„è¯å¯ä»¥è¿™æ ·å†™</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">[nginx]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">nginx repo</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">baseurl</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">https://nginx.org/packages/mainline/centos/7/$basearch/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">gpgcheck</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">1</span></span></code></pre></div><p>ç¼–è¾‘ä¹‹åè¾“å…¥ <code>:wq</code> é€€å‡º</p><p>è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥æ›´æ–°è½¯ä»¶æºå’Œç³»ç»Ÿ</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> update</span></span></code></pre></div><p>å†æ¬¡å°è¯•å®‰è£…</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre></div><p>å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œå¯ä»¥é€‰æ‹©æ‰‹åŠ¨ç¼–è¯‘</p><h4 id="æ‰‹åŠ¨ç¼–è¯‘-nginx" tabindex="-1">æ‰‹åŠ¨ç¼–è¯‘ Nginx <a class="header-anchor" href="#æ‰‹åŠ¨ç¼–è¯‘-nginx" aria-label="Permalink to &quot;æ‰‹åŠ¨ç¼–è¯‘ Nginx&quot;">â€‹</a></h4><p>å®‰è£…ç¼–è¯‘éœ€è¦çš„ä¾èµ–åŒ…</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gcc-c++</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pcre</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pcre-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> zlib</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> zlib-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> openssl-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> libxml2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> libxml2-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> libxslt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> libxslt-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gd-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> perl-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> perl-ExtUtils-Embed</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeoIP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeoIP-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> GeoIP-data</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gperftools-devel</span></span></code></pre></div><p>ä½¿ç”¨ <code>wget</code> å‘½ä»¤ä¸‹è½½ nginx çš„æºç </p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> http://nginx.org/download/nginx-1.20.1.tar.gz</span></span></code></pre></div><h4 id="å®‰è£…-node-js" tabindex="-1">å®‰è£… Node.js <a class="header-anchor" href="#å®‰è£…-node-js" aria-label="Permalink to &quot;å®‰è£… Node.js&quot;">â€‹</a></h4><p>ä½¿ç”¨ <code>curl</code> å‘½ä»¤ä¸‹è½½å¹¶å¯¼å…¥ Node14 ä»“åº“å’Œé…ç½®ï¼ˆå’Œä¸‹é¢çš„ Node16 äºŒé€‰ä¸€ï¼‰</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://rpm.nodesource.com/setup_14.x</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bash</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span></span></code></pre></div><p>ä½¿ç”¨ <code>curl</code> å‘½ä»¤ä¸‹è½½å¹¶å¯¼å…¥ Node16 ä»“åº“å’Œé…ç½®ï¼ˆå’Œä¸Šé¢çš„ Node14 äºŒé€‰ä¸€ï¼‰</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://rpm.nodesource.com/setup_16.x</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bash</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span></span></code></pre></div><p>æ‰§è¡Œå®Œä¹‹åæ‰§è¡Œå®‰è£… nodejs æœ¬ä½“ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nodejs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> gcc-c++</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> make</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -y</span></span></code></pre></div><p>å®‰è£… pnpmï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pnpm</span></span></code></pre></div><h3 id="è®¾å®š-nginx-æœåŠ¡ä¸ºå¼€æœºè‡ªå¯-å¹¶ä¸”å¼€å§‹è¿è¡Œ" tabindex="-1">è®¾å®š Nginx æœåŠ¡ä¸ºå¼€æœºè‡ªå¯ï¼Œå¹¶ä¸”å¼€å§‹è¿è¡Œ <a class="header-anchor" href="#è®¾å®š-nginx-æœåŠ¡ä¸ºå¼€æœºè‡ªå¯-å¹¶ä¸”å¼€å§‹è¿è¡Œ" aria-label="Permalink to &quot;è®¾å®š Nginx æœåŠ¡ä¸ºå¼€æœºè‡ªå¯ï¼Œå¹¶ä¸”å¼€å§‹è¿è¡Œ&quot;">â€‹</a></h3><p>ä½¿ç”¨ <code>systemctl</code> è®¾å®šå¼€æœºè‡ªå¯å’Œè¿è¡Œ</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span></span></code></pre></div><p>è¿è¡Œååº”è¯¥å¯ä»¥ä» <code>http://IP:80</code> çš„è®¿é—®åˆ°åˆå§‹çš„ç½‘ç«™ å¦‚æœè®¿é—®ä¸åˆ°ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹é˜²ç«å¢™é…ç½®</p><h3 id="é˜²ç«å¢™é…ç½®" tabindex="-1">é˜²ç«å¢™é…ç½® <a class="header-anchor" href="#é˜²ç«å¢™é…ç½®" aria-label="Permalink to &quot;é˜²ç«å¢™é…ç½®&quot;">â€‹</a></h3><h4 id="æ£€æŸ¥-iptables" tabindex="-1">æ£€æŸ¥ <code>iptables</code> <a class="header-anchor" href="#æ£€æŸ¥-iptables" aria-label="Permalink to &quot;æ£€æŸ¥ \`iptables\`&quot;">â€‹</a></h4><ol><li>å…ˆæ£€æŸ¥ <code>iptables</code>ï¼ˆè€ç‰Œé˜²ç«å¢™è§„åˆ™é…ç½®è½¯ä»¶ï¼‰æ˜¯å¦åœ¨è¿è¡Œ</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables</span></span></code></pre></div><p>å¦‚æœè¿è¡Œå‘½ä»¤åæç¤º <code>Unit iptables.service could not be found.</code> åˆ™è¡¨ç¤ºæœåŠ¡ä¸å­˜åœ¨ å¦‚æœæ‰¾åˆ°äº†æœåŠ¡çš„è¯ä¼šæœ‰è¿™æ ·çš„æç¤ºï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â—</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables.service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">   Loaded:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loaded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (/usr/lib/systemd/system/iptables.service; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">disabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vendor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> preset:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">   Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> inactive</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (dead)</span></span></code></pre></div><p>ç¬¬ä¸‰è¡Œä¼šæœ‰ä¸€ä¸ª Active å­—æ®µï¼Œå¦‚æœç»“å°¾æ˜¯ dead åˆ™è¡¨ç¤ºä¸åœ¨è¿è¡Œï¼Œå¦åˆ™ä¼šæœ‰ç»¿è‰²çš„ <code>Active: active (running)</code> å­—æ ·</p><p>å¦‚æœæ­£åœ¨è¿è¡Œçš„è¯å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…è®¸ 80 ç«¯å£æµé‡ï¼š ä»¥ä¸‹å‘½ä»¤çš„å«ä¹‰æ˜¯ï¼š <strong>ä½¿ç”¨ iptables å‘½ä»¤æ·»åŠ å…è®¸ï¼ˆACCEPTï¼‰ 80 ç«¯å£çš„ TCP æµé‡</strong></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iptables</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -I</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> INPUT</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dport</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 80</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -j</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ACCEPT</span></span></code></pre></div><h4 id="æ£€æŸ¥-firewalld" tabindex="-1">æ£€æŸ¥ <code>firewalld</code> <a class="header-anchor" href="#æ£€æŸ¥-firewalld" aria-label="Permalink to &quot;æ£€æŸ¥ \`firewalld\`&quot;">â€‹</a></h4><ol start="2"><li>æ£€æŸ¥ <code>firewalld</code> æ˜¯å¦åœ¨è¿è¡Œ</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> firewalld</span></span></code></pre></div><p>å¦‚æœè¿è¡Œå‘½ä»¤åæç¤º <code>Unit firewalld.service could not be found.</code> åˆ™è¡¨ç¤ºæœåŠ¡ä¸å­˜åœ¨ å¦‚æœæ‰¾åˆ°äº†æœåŠ¡çš„è¯ä¼šæœ‰è¿™æ ·çš„æç¤ºï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">â—</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> firewalld.service</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> firewalld</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dynamic</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> firewall</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">   Loaded:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> loaded</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (/usr/lib/systemd/system/firewalld.service; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">disabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vendor</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> preset:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">   Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> inactive</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (dead)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">     Docs:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> man:firewalld</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>ç¬¬ä¸‰è¡Œä¼šæœ‰ä¸€ä¸ª Active å­—æ®µï¼Œå¦‚æœç»“å°¾æ˜¯ dead åˆ™è¡¨ç¤ºä¸åœ¨è¿è¡Œï¼Œå¦åˆ™ä¼šæœ‰ç»¿è‰²çš„ <code>Active: active (running)</code> å­—æ ·</p><p>å¦‚æœæ­£åœ¨è¿è¡Œçš„è¯å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…è®¸ 80 ç«¯å£æµé‡ï¼š ä»¥ä¸‹å‘½ä»¤çš„å«ä¹‰æ˜¯ï¼š <strong>ä½¿ç”¨ firwall-cmd åœ¨ public åŸŸæ°¸ä¹…ï¼ˆpermanentï¼‰æ·»åŠ å…è®¸ 80 ç«¯å£çš„ TCP æµé‡</strong></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> firewall-cmd</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --zone=public</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --add-port=80/tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --permanent</span></span></code></pre></div><h2 id="å‡†å¤‡å‰ç«¯" tabindex="-1">å‡†å¤‡å‰ç«¯ <a class="header-anchor" href="#å‡†å¤‡å‰ç«¯" aria-label="Permalink to &quot;å‡†å¤‡å‰ç«¯&quot;">â€‹</a></h2><h3 id="å…‹éš†å¹¶ç¼–è¯‘" tabindex="-1">å…‹éš†å¹¶ç¼–è¯‘ <a class="header-anchor" href="#å…‹éš†å¹¶ç¼–è¯‘" aria-label="Permalink to &quot;å…‹éš†å¹¶ç¼–è¯‘&quot;">â€‹</a></h3><h4 id="å…‹éš†" tabindex="-1">å…‹éš† <a class="header-anchor" href="#å…‹éš†" aria-label="Permalink to &quot;å…‹éš†&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ä»“åº“åœ°</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å€</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é¡¹ç›®æ–‡ä»¶</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å¤¹</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><h4 id="ç¼–è¯‘" tabindex="-1">ç¼–è¯‘ <a class="header-anchor" href="#ç¼–è¯‘" aria-label="Permalink to &quot;ç¼–è¯‘&quot;">â€‹</a></h4><p>å¯¹äº vitesse è€Œè¨€ï¼Œç›´æ¥è¿è¡Œ <code>pnpm build</code> å°±å¥½äº†ï¼Œæ‰§è¡Œä¾èµ–æ›´æ–°å’Œ <code>build</code> å‘½ä»¤</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> i</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> build</span></span></code></pre></div><p>ç¼–è¯‘åæ–‡ä»¶ä¼šè¢«æ”¾åˆ° <code>dist</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™ä¸ªæ—¶å€™ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç‰ˆæœ¬åˆ‡æ¢ï¼Œå¯ä»¥æŠŠ <code>dist</code> æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶å•ç‹¬æ”¾åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ï¼Œè¿™æ ·ä¸‹æ¬¡æ›´æ–°å‰ç«¯çš„æ—¶å€™å°±ä¸ä¼šç”±äºè¿è¡Œ <code>pnpm build</code> æŒ‡ä»¤å¯¼è‡´ <code>dist</code> æ–‡ä»¶å¤¹è¢«æ¸…ç©ºï¼Œå› è€Œå¯¼è‡´é¡µé¢æ— æ³•è®¿é—®</p>`,58),v=i("code",null,"dist",-1),b=i("code",null,"/usr/local/frontend/<é¡¹ç›®åç§°>/app",-1),_=i("code",null,"frontend",-1),m=i("code",null,"mkdir",-1),x=i("code",null,"sudo",-1),f=i("code",null,"root",-1),P=l('<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/local/frontend/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é¡¹ç›®å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div>',1),S=i("code",null,"wheel",-1),T=i("code",null,"wheel",-1),N=i("code",null,"sudo",-1),w=i("code",null,"chown",-1),I=i("strong",null,"ch",-1),R=i("strong",null,"own",-1),q=l('<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> root:whell</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/local/frontend</span></span></code></pre></div>',1),H=i("code",null,"mv",-1),$=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dist</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">æ–‡ä»¶å¤¹åœ°</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å€</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><h2 id="é…ç½®ç½‘é¡µæœåŠ¡å™¨" tabindex="-1">é…ç½®ç½‘é¡µæœåŠ¡å™¨ <a class="header-anchor" href="#é…ç½®ç½‘é¡µæœåŠ¡å™¨" aria-label="Permalink to &quot;é…ç½®ç½‘é¡µæœåŠ¡å™¨&quot;">â€‹</a></h2><p>æ­¤å¤„æœ‰ä¸¤ç§æ–¹æ¡ˆå¯ä»¥é€‰æ‹©ï¼Œä¸€ç§æ˜¯ç›´æ¥é€šè¿‡ Nginx è¯»å–é™æ€æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯åŸºäºä¸€ä¸ª serve å‘½ä»¤çš„æœåŠ¡æ¥å®ç°é™æ€æ–‡ä»¶çš„æœåŠ¡å™¨ï¼Œè¯·æ±‚è¯¥ç½‘ç«™çš„æ—¶å€™ï¼Œæµé‡ä¼šé€šè¿‡ Nginx é‡å®šå‘åˆ° serve æä¾›çš„åœ°å€ï¼Œä»è€ŒæŠŠæ•°æ®é€šè¿‡ Nginx ä» serve åä»£ç†åˆ°æœåŠ¡å™¨å¤–éƒ¨ï¼Œå®ç°å¯¹å†…éƒ¨æ•°æ®çš„è®¿é—®</p><h3 id="é™æ€æ–‡ä»¶" tabindex="-1">é™æ€æ–‡ä»¶ <a class="header-anchor" href="#é™æ€æ–‡ä»¶" aria-label="Permalink to &quot;é™æ€æ–‡ä»¶&quot;">â€‹</a></h3><p>é™æ€æ–‡ä»¶çš„é…ç½®ç¨å¾®ä¼šéº»çƒ¦ä¸€äº›ï¼Œå¯èƒ½è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šé‡åˆ°æƒé™é—®é¢˜ï¼Œ403 é…ç½®é—®é¢˜ï¼Œ<code>vue-router</code> history æ¨¡å¼é…ç½®ä¸æ­£ç¡®å¯¼è‡´çš„ 404 é—®é¢˜</p><p>æ–°å»ºä¸€ä¸ª Nginx é…ç½®æ–‡ä»¶ï¼ˆé…ç½®çš„æ—¶å€™å¯ä»¥æŠŠé‡Œé¢çš„ä¸­æ–‡æ³¨é‡Šåˆ ä¸€ä¸‹ï¼Œé¿å…ç¼–ç é—®é¢˜ï¼‰</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/conf.d/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">åŸŸ</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.conf</span></span></code></pre></div><p>é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;ç«¯å£&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸåï¼ˆä¸å¸¦ http å‰ç¼€ï¼‰&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				root </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/front; // å‰ç«¯æ–‡ä»¶è·¯å¾„ï¼Œç»å¯¹è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				index </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">index.html; //</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> hash </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">æ¨¡å¼åªé…ç½®è¿™è¡Œæ”¯æŒè®¿é—® html æ–‡ä»¶å°±å¯ä»¥äº†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">				try_files $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/ /index.html; // </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">history</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> æ¨¡å¼ä¸‹éœ€è¦åŠ ä¸€è¡Œè¿™ä¸ª</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>å¦‚æœéœ€è¦éƒ¨ç½²åˆ°å­ç›®å½•ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ¥ï¼š</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;ç«¯å£&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸåï¼ˆä¸å¸¦ http å‰ç¼€ï¼‰&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> /demo </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{ // å­çº§ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				alias </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/front/demo;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				index </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">index.html;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/ /demo/index.html;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>å¦‚æœéœ€è¦é…ç½®ä¸º 443ï¼ˆHTTPSï¼‰çš„æœåŠ¡å™¨ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ¥ï¼š</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;ç«¯å£&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸå&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> https://$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">request_uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># è¿™é‡Œæ˜¯æŒ‡è‡ªåŠ¨ 301 é‡å®šå‘åˆ° https åè®®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">443</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ssl http2;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        # listen [::]:443 ssl;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸå&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_certificate </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;è¯ä¹¦ä½ç½®&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_certificate_key </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;è¯ä¹¦ç§é’¥ä½ç½®&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_prefer_server_ciphers </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_protocols </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">TLSv1 TLSv1.1 TLSv1.2;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_ciphers </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS !RC4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        keepalive_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_session_cache </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">shared:SSL:10m;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_session_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        add_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Strict-Transport-Security max-age=63072000;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        # add_header X-Frame-Options DENY;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        add_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Content-Type-Options nosniff;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				root </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/front; // å‰ç«¯æ–‡ä»¶è·¯å¾„ï¼Œç»å¯¹è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				index </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">index.html; //</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> hash </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">æ¨¡å¼åªé…ç½®è¿™è¡Œæ”¯æŒè®¿é—® html æ–‡ä»¶å°±å¯ä»¥äº†</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">				try_files $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/ /index.html; // </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">history</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> æ¨¡å¼ä¸‹éœ€è¦åŠ ä¸€è¡Œè¿™ä¸ª</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> /demo </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{ // å­çº§ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				alias </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/front/demo;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				index </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">index.html;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/ /demo/index.html;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>ç¼–è¾‘ä¹‹åä¿å­˜é€€å‡ºã€‚</p><p>æµ‹è¯• Nginx é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span></span></code></pre></div><p>å¦‚æœæœ‰é”™è¯¯çš„è¯ä¼šæç¤ºå…·ä½“çš„æ–‡ä»¶å’Œè¡Œå·</p><p>ä½¿ç”¨ <code>nginx</code> å‘½ä»¤åŠ ä¸Šå‚æ•° <code>s</code> é‡æ–°è½½å…¥ Nginx é…ç½®æ–‡ä»¶å¹¶åº”ç”¨</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reload</span></span></code></pre></div><h3 id="åä»£ç†" tabindex="-1">åä»£ç† <a class="header-anchor" href="#åä»£ç†" aria-label="Permalink to &quot;åä»£ç†&quot;">â€‹</a></h3><p>å®‰è£… serve</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> serve</span></span></code></pre></div><p>åä»£ç†å›¾ç¤ºï¼š</p><p><code>å®¢æˆ·ç«¯ &lt;------&gt; Nginx &lt;------&gt; serve</code></p><p>Nginx ä»æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼ˆæ¯”å¦‚è¯·æ±‚ a.comï¼‰äº†è§£åˆ°éœ€è¦å»æ‰¾ serve å¼€çš„ç«¯å£å’Œåœ°å€è¦æ•°æ®ï¼Œäºæ˜¯æŠŠæµé‡è½¬å‘è¿‡å»ï¼Œserve æ¥æ”¶åˆ°ä¹‹åï¼Œäº†è§£è·¯ç”±çš„å‚æ•°ï¼Œå¹¶ä¸”æŠŠé™æ€æ–‡ä»¶æå–å‡ºæ¥è¿”å›ç»™ Nginxï¼ŒNginx æ‹¿åˆ°è¿”å›å€¼ä¹‹åç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œè¿™ä¸ªæµç¨‹å°±å«åšã€Œåä»£ç†ã€</p><p>åä»£ç†éœ€è¦é¢å¤–é…ç½®ä¸€ä¸ªæœåŠ¡ï¼Œæ–°å»ºä¸€ä¸ª service æ–‡ä»¶</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/lib/systemd/system/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é¡¹ç›®å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.service</span></span></code></pre></div><p>å†™å…¥æœåŠ¡ä¿¡æ¯</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">&lt;é¡¹ç›®åç§°&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">After</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">network.target</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">[Service]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">ExecStart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">/usr/bin/serve -s &lt;ç¼–è¯‘äº§ç‰©è·¯å¾„&gt; -l &lt;ç›‘å¬ç«¯å£å·&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">ExecStop</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">/bin/kill -s SIGINT -$MAINPID &amp; /bin/kill -s SIGINT -$MAINPID</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">ExecReload</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">/bin/kill -s SIGINT -$MAINPID &amp; /bin/kill -s SIGINT -$MAINPID &amp;&amp; /usr/bin/serve -s &lt;ç¼–è¯‘äº§ç‰©è·¯å¾„&gt; -l &lt;é¡¹ç›®ç«¯å£å·&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">always</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">WorkingDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">&lt;ç¼–è¯‘äº§ç‰©è·¯å¾„&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">WantedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#98C379;">multi-user.target</span></span></code></pre></div><p>é‡è½½ systemctl çš„æœåŠ¡é…ç½®</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> daemon-reload</span></span></code></pre></div><p>å¼€å¯ serve æœåŠ¡å¼€æœºè‡ªå¯</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é¡¹ç›®å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>å¼€å§‹ serve æœåŠ¡</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é¡¹ç›®å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>æ–°å»ºä¸€ä¸ª Nginx é…ç½®æ–‡ä»¶ï¼ˆé…ç½®çš„æ—¶å€™å¯ä»¥æŠŠé‡Œé¢çš„ä¸­æ–‡æ³¨é‡Šåˆ ä¸€ä¸‹ï¼Œé¿å…ç¼–ç é—®é¢˜ï¼‰</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /etc/nginx/conf.d/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">åŸŸ</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.conf</span></span></code></pre></div><p>é…ç½®æ–‡ä»¶å†…å®¹ï¼š æ­¤å¤„ <strong>å¤–éƒ¨å¯è®¿é—®ç«¯å£</strong> å’Œ <strong>é¡¹ç›®ç«¯å£å·</strong> ä¸å¯ä»¥æ˜¯ä¸€è‡´çš„</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;å¤–éƒ¨å¯è®¿é—®ç«¯å£&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸåï¼ˆä¸å¸¦ http å‰ç¼€ï¼‰&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">http_host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ Hostï¼Œå€¼ä¸ºå®¢æˆ·ç«¯è®¿é—®çš„åŸŸå</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-IP $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_addr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-IPï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æº IP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-PORT $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-Portï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æºç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Forwarded-Forï¼Œç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ã€‚å®ƒä¸æ˜¯RFCä¸­å®šä¹‰çš„æ ‡å‡†è¯·æ±‚å¤´ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://127.0.0.1:&lt;é¡¹ç›®ç«¯å£å·&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>å¦‚æœéœ€è¦éƒ¨ç½²åˆ°å­ç›®å½•ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ¥ï¼š</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;å¤–éƒ¨å¯è®¿é—®ç«¯å£&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸåï¼ˆä¸å¸¦ http å‰ç¼€ï¼‰&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> /demo </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{ // å­çº§ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">http_host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ Hostï¼Œå€¼ä¸ºå®¢æˆ·ç«¯è®¿é—®çš„åŸŸå</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-IP $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_addr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-IPï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æº IP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-PORT $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-Portï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æºç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Forwarded-Forï¼Œç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ã€‚å®ƒä¸æ˜¯RFCä¸­å®šä¹‰çš„æ ‡å‡†è¯·æ±‚å¤´ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://127.0.0.1:&lt;é¡¹ç›®ç«¯å£å·&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>å¦‚æœéœ€è¦é…ç½®ä¸º 443ï¼ˆHTTPSï¼‰çš„æœåŠ¡å™¨ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ¥ï¼š</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;å¤–éƒ¨å¯è®¿é—®ç«¯å£&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸå&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> https://$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">request_uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># è¿™é‡Œæ˜¯æŒ‡è‡ªåŠ¨ 301 é‡å®šå‘åˆ° https åè®®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">443</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> ssl http2;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        # listen [::]:443 ssl;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;åŸŸå&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_certificate </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;è¯ä¹¦ä½ç½®&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_certificate_key </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;è¯ä¹¦ç§é’¥ä½ç½®&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_prefer_server_ciphers </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_protocols </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">TLSv1 TLSv1.1 TLSv1.2;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_ciphers </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS !RC4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        keepalive_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_session_cache </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">shared:SSL:10m;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        ssl_session_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">10m</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        add_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Strict-Transport-Security max-age=63072000;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        # add_header X-Frame-Options DENY;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        add_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Content-Type-Options nosniff;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">http_host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ Hostï¼Œå€¼ä¸ºå®¢æˆ·ç«¯è®¿é—®çš„åŸŸå</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-IP $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_addr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-IPï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æº IP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-PORT $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-Portï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æºç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Forwarded-Forï¼Œç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ã€‚å®ƒä¸æ˜¯RFCä¸­å®šä¹‰çš„æ ‡å‡†è¯·æ±‚å¤´ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://127.0.0.1:&lt;ç«¯å£å·&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> /demo </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{ // å­çº§ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">http_host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ Hostï¼Œå€¼ä¸ºå®¢æˆ·ç«¯è®¿é—®çš„åŸŸå</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-IP $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_addr</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-IPï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æº IP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Real-PORT $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">remote_port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Real-Portï¼Œå€¼ä¸ºå®¢æˆ·ç«¯æ¥æºç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">X-Forwarded-For $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># æ·»åŠ ä¸€ä¸ªå¤´éƒ¨ X-Forwarded-Forï¼Œç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ã€‚å®ƒä¸æ˜¯RFCä¸­å®šä¹‰çš„æ ‡å‡†è¯·æ±‚å¤´ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">				proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">http://127.0.0.1:&lt;é¡¹ç›®ç«¯å£å·&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>æµ‹è¯• Nginx é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -t</span></span></code></pre></div><p>å¦‚æœæœ‰é”™è¯¯çš„è¯ä¼šæç¤ºå…·ä½“çš„æ–‡ä»¶å’Œè¡Œå·</p><p>é‡æ–°è½½å…¥ Nginx é…ç½®æ–‡ä»¶å¹¶åº”ç”¨</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> reload</span></span></code></pre></div><p>ä½¿ç”¨ <code>setsebool</code> å‘½ä»¤é…ç½® SELinux è§„åˆ™ä»¥å…è®¸ Nginx è®¿é—®å†…ç½‘ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> setsebool</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> httpd_can_network_connect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> on</span></span></code></pre></div><h2 id="é”™è¯¯æ’æŸ¥" tabindex="-1">é”™è¯¯æ’æŸ¥ <a class="header-anchor" href="#é”™è¯¯æ’æŸ¥" aria-label="Permalink to &quot;é”™è¯¯æ’æŸ¥&quot;">â€‹</a></h2><h3 id="åä»£ç†-502" tabindex="-1">åä»£ç† 502 <a class="header-anchor" href="#åä»£ç†-502" aria-label="Permalink to &quot;åä»£ç† 502&quot;">â€‹</a></h3><p>502 è¡¨ç¤ºåä»£ç†è®¿é—®çš„ç«¯å£è®¿é—®ä¸åˆ°äº†ã€‚ serve æœåŠ¡å¯ç”¨äº†å—ï¼Ÿå¯ä»¥æ£€æŸ¥ä»¥ä¸‹æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é¡¹ç›®å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥æ£€æŸ¥ä»¥ä¸‹æ˜¯å¦æ˜¯ç«¯å£å ç”¨ï¼Œé‡å¤æ‰§è¡Œå‘½ä»¤å¯¼è‡´çš„ã€‚</p><h3 id="_403" tabindex="-1">403 <a class="header-anchor" href="#_403" aria-label="Permalink to &quot;403&quot;">â€‹</a></h3><p>403 æœ‰å¾ˆå¤šå¯èƒ½ï¼Œæ— è®ºæ˜¯é™æ€æ–‡ä»¶é…ç½®è¿˜æ˜¯åä»£ç†é…ç½®éƒ½æœ‰å¯èƒ½å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ä¸€æ˜¯ç¼ºå°‘ä¸»é¡µæ–‡ä»¶ï¼ŒäºŒæ˜¯æƒé™é—®é¢˜ï¼Œä¸‰æ˜¯ <strong>SELinux</strong> çŠ¶æ€ å¦‚æœæ˜¯ä½¿ç”¨çš„é™æ€æ–‡ä»¶é…ç½®ï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ–‡ä»¶çš„æƒé™ï¼Œæ˜¯ä¸æ˜¯ rootï¼Œè¿˜å¯ä»¥çœ‹ä¸€ä¸‹æ–‡ä»¶å…·ä½“çš„æƒé™å€¼ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ç›®</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å½•</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;{k=0;for(i=0;i&lt;=8;i++)k+=((substr($1,i+2,1)~/[rwx]/) \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">             *2^(8-i));if(k)printf(&quot;%0o &quot;,k);print}&#39;</span></span></code></pre></div>`,58),L=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">æ€»ç”¨é‡</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">664</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -rw-rw-r--</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> neko</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> neko</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  9</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 17:34</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hello</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">775</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> drwxrwxr-x</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> neko</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> neko</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">  6</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10æœˆ</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:37</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> tests</span></span></code></pre></div><p>ä¸€èˆ¬ 600 çš„è¯è®¿é—®ä¸åˆ°ï¼Œä¸æ˜¯ root çš„è¯ä¹Ÿå¯èƒ½æ²¡åŠæ³•è®¿é—®åˆ°ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µé‡æ–°è®¾å®šä¸€ä¸‹æƒé™æ‰è¡Œã€‚</p>`,2),X=l(`<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 755</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">æ–‡</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ä»¶</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>å¦‚æœè®¾å®šåˆ° 777 æ‰èƒ½è®¿é—®çš„è¯ï¼Œå’Œ CentOS å†…ç½®çš„ SELinux ä¿æŠ¤å®‰å…¨ç­–ç•¥æœ‰å…³ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹ï¼š é™æ€æ–‡ä»¶çš„è¯ï¼Œæˆäºˆ Nginx é’ˆå¯¹ç‰¹å®šç›®å½•çš„è®¿é—®æƒé™ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> chcon</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -Rt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> httpd_sys_content_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é¡¹ç›®ç»å¯¹è·¯</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å¾„</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>åä»£ç†çš„è¯ï¼Œæˆäºˆ Nginx è®¿é—®ç½‘ç»œçš„æƒé™ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setsebool</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> httpd_can_network_connect</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> on</span></span></code></pre></div><h3 id="_404" tabindex="-1">404 <a class="header-anchor" href="#_404" aria-label="Permalink to &quot;404&quot;">â€‹</a></h3><p>å¦‚æœæ˜¯åä»£ç†é…ç½®çš„è¯ï¼Œ404 ä¸€èˆ¬æ˜¯ç¼–è¯‘äº§ç‰©ç›®å½•ä¸‹é¢æ–‡ä»¶æ‰¾ä¸åˆ°äº†ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ URL æ˜¯å¦æ­£ç¡®ï¼Œç¼–è¯‘åçš„æ–‡ä»¶æœ¬åœ°ä¹Ÿå¯ä»¥æµ‹è¯•ä»¥ä¸‹æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥è®¿é—®åˆ°ã€‚</p><p>å¦‚æœæ˜¯ Nginx é™æ€æ–‡ä»¶é…ç½®çš„è¯ï¼Œ404 å¯èƒ½æ˜¯ history æ¨¡å¼å…¼å®¹æ€§é…ç½®å¯¼è‡´çš„ï¼Œ<code>vue-router</code> æœ‰ hashï¼ˆå“ˆå¸Œï¼‰å’Œ historyï¼ˆå†å²ï¼‰æ¨¡å¼ï¼Œå¯¹äº 404 è€Œè¨€éœ€è¦å¤šåŠ ä¸€è¡Œ</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">		try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/ /index.html; // </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">history</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> æ¨¡å¼ä¸‹éœ€è¦åŠ ä¸€è¡Œè¿™ä¸ª</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">		...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div>`,9);function V(G,O,j,U,M,z){const e=h("NolebasePageProperties"),n=h("VPNolebaseInlineLinkPreview"),p=h("NolebaseGitContributors"),k=h("NolebaseGitChangelog");return o(),r("div",null,[c,a(e),y,B,i("p",null,[s("ä½¿ç”¨ "),C,s(" æˆ–è€… "),F,s("ï¼ˆä¸¤è€…éƒ½ä¸€æ ·çš„æ•ˆæœï¼Œ"),a(n,{href:"./yum dnf åŒ…ç®¡ç†å™¨.html"},{default:t(()=>[s("yum dnf åŒ…ç®¡ç†å™¨")]),_:1}),s("ï¼‰è¿›è¡Œå®‰è£…")]),i("ol",null,[A,D,i("li",null,[s("æ­¤å¤„éœ€è¦å®‰è£… Nginxï¼ŒVimï¼ˆç¼–è¾‘å™¨ï¼Œä¸å–œæ¬¢çš„è¯å¯ä»¥æ¢æˆ GUN Nanoï¼‰ï¼ŒGitï¼ˆ"),a(n,{href:"./../ğŸ“Ÿ ç»ˆç«¯/è½¯ä»¶/Git ç‰ˆæœ¬æ§åˆ¶/Git å‘½ä»¤é€Ÿè®°.html"},{default:t(()=>[s("Git å‘½ä»¤é€Ÿè®°")]),_:1}),s("ï¼‰ï¼ŒNode.jsï¼Œpnpmï¼ˆåŒ…ç®¡ç†å™¨ï¼‰")]),E]),u,i("p",null,[s("ç§»åŠ¨ç¼–è¯‘äº§ç‰© "),v,s(" æ–‡ä»¶å¤¹åˆ°åˆ«çš„åœ°æ–¹ å¦‚æœæ˜¯éœ€è¦é™åˆ¶æƒé™å’Œè®¿é—®çš„ï¼Œå¯ä»¥æ”¾åˆ° "),b,s("ï¼Œ"),_,s(" æ˜¯å‰ç«¯çš„æ„æ€ è¿™ä¸ªç›®å½•ä½¿ç”¨ "),m,s(" ï¼ˆå‚è€ƒ "),a(n,{href:"./../ğŸ“Ÿ ç»ˆç«¯/Linux å‘½ä»¤/æ–‡ä»¶ç®¡ç†/mkdir åˆ›å»ºç›®å½•.html"},{default:t(()=>[s("mkdir åˆ›å»ºç›®å½•")]),_:1}),s("ï¼‰åˆ›å»ºçš„æ—¶å€™å¸¦ä¸Š "),x,s(" å°±å¯ä»¥é™åˆ¶ä¸ºä»…å¯ "),f,s(" æˆ– root æƒé™è®¿é—®ï¼š")]),P,i("p",null,[s("è¿˜å¯ä»¥æˆäºˆ "),S,s(" ç”¨æˆ·ç»„æƒé™ï¼ˆå¯é€‰ï¼‰ï¼Œ"),T,s(" ç”¨æˆ·ç»„å°±ç­‰åŒäºã€Œè¶…çº§ç®¡ç†ç»„ã€ï¼Œåœ¨è¿™ä¸ªç»„çš„äººéƒ½æœ‰ "),N,s(" æƒé™ï¼Œ"),w,s(" å‘½ä»¤ï¼ˆå‚è€ƒ "),a(n,{href:"./../ğŸ“Ÿ ç»ˆç«¯/Linux å‘½ä»¤/æƒé™ç®¡ç†/chown å˜æ›´æ‰€å±æƒ.html"},{default:t(()=>[s("chown å˜æ›´æ‰€å±æƒ")]),_:1}),s("ï¼‰è¡¨ç¤ºã€Œ"),I,s("ange "),R,s("ershipï¼ˆå˜æ›´å½’å±æƒï¼‰ã€ï¼Œ root:wheel è¡¨ç¤ºï¼šã€Œroot ç”¨æˆ·å’Œ wheel ç”¨æˆ·ç»„ã€ï¼Œ-R è¡¨ç¤ºä½¿ç”¨é€’å½’ç­–ç•¥ï¼Œéå†å¹¶åº”ç”¨è§„åˆ™åˆ°ä¸‹é¢çš„ç›®å½•å’Œæ–‡ä»¶")]),q,i("p",null,[s("å¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„éœ€æ±‚ï¼Œå¯ä»¥æ”¾åˆ°åŸåœ°ï¼Œæ¯”å¦‚æ–°å»ºä¸€ä¸ª app æ–‡ä»¶å¤¹ç”¨æ¥å­˜ç¼–è¯‘äº§ç‰©ä¹Ÿæ˜¯å®Œå…¨æ²¡é—®é¢˜çš„ï¼›ä½¿ç”¨ "),H,s(" å‘½ä»¤ï¼ˆå‚è€ƒ "),a(n,{href:"./../ğŸ“Ÿ ç»ˆç«¯/Linux å‘½ä»¤/æ–‡ä»¶ç®¡ç†/mv å‰ªè´´ã€ç§»åŠ¨.html"},{default:t(()=>[s("mv å‰ªè´´ã€ç§»åŠ¨")]),_:1}),s("ï¼‰æŠŠç¼–è¯‘å¥½çš„å†…å®¹æ”¾åˆ°æ–°çš„åœ°æ–¹ï¼š")]),$,i("p",null,[s("ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤å¯ä»¥è·å¾—ä¸‹é¢çš„è¾“å‡ºï¼Œè¿™æ ·å¯ä»¥åœ¨æœ€å‰é¢çœ‹åˆ°æ¯ä¸ªæ–‡ä»¶çš„å…·ä½“æƒé™å€¼ï¼ˆ"),a(n,{href:"./../ğŸ“Ÿ ç»ˆç«¯/Linux æƒé™.html"},{default:t(()=>[s("Linux æƒé™")]),_:1}),s("ï¼‰ï¼š")]),L,i("p",null,[s("å˜æ›´æƒé™å€¼ï¼Œ755 æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå…·ä½“æ ¹æ®æƒ…å†µè€Œå®šï¼ˆå‚è§ "),a(n,{href:"https://www.jianshu.com/p/aa0ae40204ae",target:"_blank",rel:"noreferrer"},{default:t(()=>[s("https://www.jianshu.com/p/aa0ae40204ae")]),_:1}),s("ï¼‰ ä¸€èˆ¬å¸¸ç”¨çš„æ˜¯ 655 æˆ–è€… 755")]),X,a(p),a(k)])}const Y=d(g,[["render",V]]);export{K as __pageData,Y as default};
