import{_ as p,c as e,I as s,j as a,w as r,a as h,au as d,D as i,o as g}from"./chunks/framework.RMxno62p.js";const f=JSON.parse('{"title":"åœ¨ AWS EC2 ä¸Šé…ç½® MSK äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º Topic","description":"","frontmatter":{"tags":["åŸºç¡€è®¾æ–½/äº‘æœåŠ¡å•†/äºšé©¬é€Šäº‘/AWS","åŸºç¡€è®¾æ–½/æ¶ˆæ¯ä¸­é—´ä»¶/Kafka/äºšé©¬é€Šäº‘/AWS/MSK","åŸºç¡€è®¾æ–½/æ¶ˆæ¯ä¸­é—´ä»¶/Kafka","å¼€å‘/åç«¯/æ¶ˆæ¯é˜Ÿåˆ—/Kafka","æ“ä½œç³»ç»Ÿ/CentOS","æ“ä½œç³»ç»Ÿ/CentOS/CentOS-8","å‘½ä»¤è¡Œ/wget","å¼€å‘/è¯­è¨€/Java","å¼€å‘/è¯­è¨€/Java/JDK"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/åœ¨ AWS EC2 ä¸Šé…ç½® MSK äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º Topic.md","filePath":"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/åœ¨ AWS EC2 ä¸Šé…ç½® MSK äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º Topic.md"}'),o={name:"ç¬”è®°/ğŸ§± åŸºç¡€è®¾æ–½/åœ¨ AWS EC2 ä¸Šé…ç½® MSK äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º Topic.md"},F=a("h1",{id:"åœ¨-aws-ec2-ä¸Šé…ç½®-msk-äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º-topic",tabindex:"-1"},[h("åœ¨ AWS EC2 ä¸Šé…ç½® MSK äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º Topic "),a("a",{class:"header-anchor",href:"#åœ¨-aws-ec2-ä¸Šé…ç½®-msk-äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º-topic","aria-label":'Permalink to "åœ¨ AWS EC2 ä¸Šé…ç½® MSK äº¤äº’ç›¸å…³çš„ç¯å¢ƒå¹¶åˆ›å»º Topic"'},"â€‹")],-1),c=d(`<h2 id="å®‰è£…-java" tabindex="-1">å®‰è£… Java <a class="header-anchor" href="#å®‰è£…-java" aria-label="Permalink to &quot;å®‰è£… Java&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java-11</span></span></code></pre></div><h2 id="ä¸‹è½½-kafka" tabindex="-1">ä¸‹è½½ Kafka <a class="header-anchor" href="#ä¸‹è½½-kafka" aria-label="Permalink to &quot;ä¸‹è½½ Kafka&quot;">â€‹</a></h2><p>ç”¨ä¸‹é¢çš„å‘½ä»¤ä¸‹è½½ Kafkaï¼ŒKafka çš„ç‰ˆæœ¬å·åº”è¯¥è¦ä¸ AWS Console ä¸­çš„ç‰ˆæœ¬å·ä¸€ä¸€å¯¹åº”</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://archive.apache.org/dist/kafka/</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Kafka</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ç‰ˆæœ¬</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å·</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/kafka_2.13-</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Kafka</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ç‰ˆæœ¬</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å·</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.tgz</span></span></code></pre></div><p>ä»¥é›†ç¾¤ä¸º 3.5.1 ç‰ˆæœ¬çš„ Kafka ä¸ºä¾‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://archive.apache.org/dist/kafka/3.5.1/kafka_2.13-3.5.1.tgz</span></span></code></pre></div><p>è¿™æ ·ä¸‹è½½å°±å¥½äº†</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://archive.apache.org/dist/kafka/3.5.1/kafka_2.13-3.5.1.tgz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:03:13--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  https://archive.apache.org/dist/kafka/3.5.1/kafka_2.13-3.5.1.tgz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> archive.apache.org</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (archive.apache.org)... 65.108.204.189, 2a01:4f9:1a:a084::2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> archive.apache.org</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (archive.apache.org)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">65.108.204.189</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">:443...</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connected.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sent,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> awaiting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> response...</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Length:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 106748875</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (102M) [application/x-gzip]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Saving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> â€˜kafka_2.13-3.5.1.tgzâ€™</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">100%[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=====================================================================================================</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 106,748,875</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 11.2MB/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 13s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2024-01-28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:03:27</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (7.86 </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">MB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) - â€˜kafka_2.13-3.5.1.tgzâ€™ saved [106748875/106748875]</span></span></code></pre></div><p>ç„¶åè§£å‹ç¼©</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -xzf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka_2.13-3.5.1.tgz</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[ec2-user@ip-10-100-105-95 </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]$ ls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">app</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  etoplus-mds</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  home</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  kafka_2.13-3.5.1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  kafka_2.13-3.5.1.tgz</span></span></code></pre></div><h2 id="ä¸ºç¯å¢ƒè¿›è¡Œé¢å¤–é…ç½®" tabindex="-1">ä¸ºç¯å¢ƒè¿›è¡Œé¢å¤–é…ç½® <a class="header-anchor" href="#ä¸ºç¯å¢ƒè¿›è¡Œé¢å¤–é…ç½®" aria-label="Permalink to &quot;ä¸ºç¯å¢ƒè¿›è¡Œé¢å¤–é…ç½®&quot;">â€‹</a></h2><h3 id="ä¸‹è½½-aws-msk-æ‹“å±•åº“" tabindex="-1">ä¸‹è½½ AWS MSK æ‹“å±•åº“ <a class="header-anchor" href="#ä¸‹è½½-aws-msk-æ‹“å±•åº“" aria-label="Permalink to &quot;ä¸‹è½½ AWS MSK æ‹“å±•åº“&quot;">â€‹</a></h3><p>åœ¨ EC2 ä¸Šä¸ MSK äº¤äº’ï¼Œéœ€è¦ä½¿ç”¨åˆ° AWS IAM åœ¨ EC2 ä¸Šçš„è®¤è¯å’Œé‰´æƒæœºåˆ¶ï¼Œè€Œè¿™æ ·çš„æœºåˆ¶æ˜¯è¦æ±‚æˆ‘ä»¬å®‰è£…é¢å¤–çš„é‰´æƒæ‹“å±•ç±»çš„ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ä¸‹è½½</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://github.com/aws/aws-msk-iam-auth/releases/download/v1.1.1/aws-msk-iam-auth-1.1.1-all.jar</span></span></code></pre></div><p>ä¸‹è½½å¥½ä¹‹ååº”è¯¥æ˜¯è¿™æ ·çš„</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://github.com/aws/aws-msk-iam-auth/releases/download/v1.1.1/aws-msk-iam-auth-1.1.1-all.jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:03:56--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  http://wget/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wget</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (wget)... failed: Name or service not known.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">wget:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> unable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> resolve</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> host</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> address</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> â€˜wgetâ€™</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:03:57--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  https://github.com/aws/aws-msk-iam-auth/releases/download/v1.1.1/aws-msk-iam-auth-1.1.1-all.jar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> github.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (github.com)... 20.205.243.166</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> github.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (github.com)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">20.205.243.166</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">:443...</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connected.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sent,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> awaiting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> response...</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 302</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Found</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Location:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://objects.githubusercontent.com/github-production-release-asset-2e65be/292053394/b0314dc8-42a6-4855-8114-7de9dc35c48b?X-Amz-Algorithm=AWS4-HMAC-SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Credential</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">AKIAVCODYLSA53PQK4ZA%2F20240128%2Fus-east-1%2Fs3%2Faws4_request</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Date</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">20240128T100357Z</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Expires</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Signature</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">47a72642671b2a24eca100c163ab3030a02fa51b7ca2e7c9bf321b14f33199e7</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-SignedHeaders</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">actor_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">key_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">repo_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">292053394</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-disposition</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">attachment%3B%20filename%3Daws-msk-iam-auth-1.1.1-all.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">application%2Foctet-stream</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> [following]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">--2024-01-28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:03:57--</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  https://objects.githubusercontent.com/github-production-release-asset-2e65be/292053394/b0314dc8-42a6-4855-8114-7de9dc35c48b?X-Amz-Algorithm=AWS4-HMAC-SHA256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Credential</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">AKIAVCODYLSA53PQK4ZA%2F20240128%2Fus-east-1%2Fs3%2Faws4_request</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Date</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">20240128T100357Z</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Expires</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-Signature</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">47a72642671b2a24eca100c163ab3030a02fa51b7ca2e7c9bf321b14f33199e7</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">X-Amz-SignedHeaders</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">actor_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">key_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">repo_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">292053394</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-disposition</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">attachment%3B%20filename%3Daws-msk-iam-auth-1.1.1-all.jar</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">response-content-type</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">application%2Foctet-stream</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> objects.githubusercontent.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (objects.githubusercontent.com)... 185.199.111.133, 185.199.108.133, 185.199.109.133, ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> objects.githubusercontent.com</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (objects.githubusercontent.com)</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">185.199.111.133</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">:443...</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> connected.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sent,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> awaiting</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> response...</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Length:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 12417891</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (12M) [application/octet-stream]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Saving</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> â€˜aws-msk-iam-auth-1.1.1-all.jarâ€™</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">100%[</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">=====================================================================================================</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">]</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 12,417,891</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">  2.82MB/s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">   in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 4.8s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">   </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">2024-01-28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:04:04</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (2.47 </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">MB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) - â€˜aws-msk-iam-auth-1.1.1-all.jarâ€™ saved [12417891/12417891]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">FINISHED</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --2024-01-28</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 10:04:04--</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Total</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> wall</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> clock</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> time:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 7.5s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Downloaded:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> files,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 12M</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 4.8s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (2.47 </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">MB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>ç§»åŠ¨åˆ°ä¸‹è½½çš„ Kafka çš„ç›®å½•ä¸‹çš„ <code>libs</code> ç›®å½•ä¸‹é¢</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> aws-msk-iam-auth-1.1.1-all.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/libs/</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties</span></span></code></pre></div><h3 id="é…ç½®å®¢æˆ·ç«¯è¿æ¥é…ç½®" tabindex="-1">é…ç½®å®¢æˆ·ç«¯è¿æ¥é…ç½® <a class="header-anchor" href="#é…ç½®å®¢æˆ·ç«¯è¿æ¥é…ç½®" aria-label="Permalink to &quot;é…ç½®å®¢æˆ·ç«¯è¿æ¥é…ç½®&quot;">â€‹</a></h3><p>å†…å®¹å¦‚ä¸‹</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>security.protocol=SASL_SSL</span></span>
<span class="line"><span>sasl.mechanism=AWS_MSK_IAM</span></span>
<span class="line"><span>sasl.jaas.config=software.amazon.msk.auth.iam.IAMLoginModule required; sasl.client.callback.handler.class=software.amazon.msk.auth.iam.IAMClientCallbackHandler</span></span></code></pre></div><p>è€Œè¿™å…¶ä¸­çš„</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sasl.client.callback.handler.class=software.amazon.msk.auth.iam.IAMClientCallbackHandler</span></span></code></pre></div><p>ä¸€è¡Œå°±æ˜¯ç”¨äºè‡ªåŠ¨é€šè¿‡ EC2 æœºå™¨ä¸Šçš„ IAM è®¤è¯æœºåˆ¶å®Œæˆè®¤è¯çš„æ‹“å±•åº“çš„å…³è”é…ç½®ã€‚</p><h3 id="æˆäºˆæ‰§è¡Œæƒé™" tabindex="-1">æˆäºˆæ‰§è¡Œæƒé™ <a class="header-anchor" href="#æˆäºˆæ‰§è¡Œæƒé™" aria-label="Permalink to &quot;æˆäºˆæ‰§è¡Œæƒé™&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/kafka-topics.sh</span></span></code></pre></div><h3 id="åˆ›å»º-topic" tabindex="-1">åˆ›å»º Topic <a class="header-anchor" href="#åˆ›å»º-topic" aria-label="Permalink to &quot;åˆ›å»º Topic&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">./kafka_2.13-</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;Kafka </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ç‰ˆæœ¬</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å·</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/bin/kafka-topics.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --create</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¿æ¥å­—ç¬¦</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ä¸²</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Kafka</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> æŒ‰ç‰ˆæœ¬</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å·</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">/bin/client.properties</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --replication-factor</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">é›†ç¾¤</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Replica</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> å¤§</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --partitions</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">åˆ†åŒº</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å·</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --topic</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Topic</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> çš„å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">å­—</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><p>æ¯”å¦‚è¿™æ ·</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">./kafka_2.13-3.5.1/bin/kafka-topics.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --create</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¿æ¥å­—ç¬¦</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ä¸²</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --replication-factor</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --partitions</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --topic</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test.consumer</span></span></code></pre></div><h2 id="é—®é¢˜æ’æŸ¥" tabindex="-1">é—®é¢˜æ’æŸ¥ <a class="header-anchor" href="#é—®é¢˜æ’æŸ¥" aria-label="Permalink to &quot;é—®é¢˜æ’æŸ¥&quot;">â€‹</a></h2><h3 id="åˆ›å»ºæ—¶é­é‡-replication-factor-3-larger-than-available-brokers-2" tabindex="-1">åˆ›å»ºæ—¶é­é‡ <code>Replication factor: 3 larger than available brokers: 2</code> <a class="header-anchor" href="#åˆ›å»ºæ—¶é­é‡-replication-factor-3-larger-than-available-brokers-2" aria-label="Permalink to &quot;åˆ›å»ºæ—¶é­é‡ \`Replication factor: 3 larger than available brokers: 2\`&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">./kafka_2.13-3.5.1/bin/kafka-topics.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --create</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¿æ¥å­—ç¬¦</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ä¸²</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --replication-factor</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --partitions</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --topic</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test.consumer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">WARNING:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Due</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> limitations</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> metric</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> names,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> topics</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> period</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) or underscore (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">&#39;_&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) could collide. To avoid issues it is best to use either, but not both.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> while</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> executing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> topic</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> command</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Replication</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> factor:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> larger</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> than</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> available</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> brokers:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[2024-01-28 10:07:56,910] ERROR org.apache.kafka.common.errors.InvalidReplicationFactorException: Replication factor: 3 larger than available brokers: 2.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">kafka.admin.TopicCommand$</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>è¿™æ˜¯å› ä¸ºè¿æ¥åˆ°çš„é›†ç¾¤çš„ Replicaï¼ˆå‰¯æœ¬ï¼‰æ•°é‡å’Œå‘½ä»¤è¦æ±‚çš„ä¸ä¸€è‡´å¯¼è‡´çš„ï¼Œä¸å¯ä»¥åœ¨åˆ›å»º Topic çš„æ—¶å€™æŒ‡å®šè¶…è¿‡ Replicaï¼ˆå‰¯æœ¬ï¼‰æ•°é‡çš„ã€Œå‰¯æœ¬å€ç‡ã€ï¼Œéœ€è¦è‡³å°‘æ˜¯ Replicaï¼ˆå‰¯æœ¬ï¼‰æ•°é‡çš„æ•´æ•°å€æˆ–è€…èƒ½è¢«æ•´é™¤æ‰è¡Œã€‚</p><h3 id="åˆ›å»ºæ—¶é­é‡-class-software-amazon-msk-auth-iam-iamclientcallbackhandler-could-not-be-found" tabindex="-1">åˆ›å»ºæ—¶é­é‡ <code>Class software.amazon.msk.auth.iam.IAMClientCallbackHandler could not be found.</code> <a class="header-anchor" href="#åˆ›å»ºæ—¶é­é‡-class-software-amazon-msk-auth-iam-iamclientcallbackhandler-could-not-be-found" aria-label="Permalink to &quot;åˆ›å»ºæ—¶é­é‡ \`Class software.amazon.msk.auth.iam.IAMClientCallbackHandler could not be found.\`&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/kafka-topics.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --create</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¿æ¥å­—ç¬¦</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ä¸²</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --command-config</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/bin/client.properties</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --replication-factor</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --partitions</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --topic</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> test.consumer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Exception</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> thread</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;main&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigException:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Invalid</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> value</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> software.amazon.msk.auth.iam.IAMClientCallbackHandler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> sasl.client.callback.handler.class:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Class</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> software.amazon.msk.auth.iam.IAMClientCallbackHandler</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> could</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> found.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigDef.parseType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ConfigDef.java:744</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigDef.parseValue</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ConfigDef.java:490</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.ConfigDef.parse</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">ConfigDef.java:483</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.AbstractConfig.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ini</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AbstractConfig.java:112</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.common.config.AbstractConfig.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ini</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AbstractConfig.java:145</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.clients.admin.AdminClientConfig.</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ini</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">t</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&gt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">AdminClientConfig.java:245</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> org.apache.kafka.clients.admin.Admin.create</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Admin.java:134</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$TopicService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.createAdminClient</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala:203</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$TopicService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.apply</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala:207</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala:51</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">        at</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> kafka.admin.TopicCommand.main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">TopicCommand.scala</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>ä¹‹å‰ä¸‹è½½å¥½çš„ AWS Auth æ‹“å±•ç±»éœ€è¦ç§»åŠ¨åˆ° Kafka å®‰è£…ç›®å½•çš„ <code>libs</code> ç›®å½•ä¸‹é¢ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> aws-msk-iam-auth-1.1.1-all.jar</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ./kafka_2.13-3.5.1/libs/</span></span></code></pre></div><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2>`,41);function y(C,B,A,m,E,b){const n=i("NolebasePageProperties"),k=i("VPNolebaseInlineLinkPreview"),t=i("NolebaseGitContributors"),l=i("NolebaseGitChangelog");return g(),e("div",null,[F,s(n),c,a("p",null,[s(k,{href:"https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",target:"_blank",rel:"noreferrer"},{default:r(()=>[h("Step 4: Create a topic - Amazon Managed Streaming for Apache Kafka")]),_:1})]),s(t),s(l)])}const v=p(o,[["render",y]]);export{f as __pageData,v as default};
