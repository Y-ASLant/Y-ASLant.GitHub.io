import{_ as k,c as r,I as s,j as a,w as l,a as e,au as d,D as i,o}from"./chunks/framework.RMxno62p.js";const _=JSON.parse(`{"title":"ç”³è¯· Let's Encrypt çš„ SSL è¯ä¹¦","description":"","frontmatter":{"tags":["æ•°å­¦/å¯†ç å­¦/è¯ä¹¦/TLS/SSL","æ•°å­¦/å¯†ç å­¦/è¯ä¹¦/TLS/HTTPS","æ•°å­¦/å¯†ç å­¦/è¯ä¹¦/TLS/åŸŸåè¯ä¹¦","æ•°å­¦/å¯†ç å­¦/è¯ä¹¦/LetsEncrypt","å‘½ä»¤è¡Œ/openssl","æ“ä½œç³»ç»Ÿ/Debian","æ“ä½œç³»ç»Ÿ/CentOS","æ“ä½œç³»ç»Ÿ/Debian/Debian-11","æ“ä½œç³»ç»Ÿ/CentOS/CentOS-8","æ“ä½œç³»ç»Ÿ/CentOS/CentOS-7"]},"headers":[],"relativePath":"ç¬”è®°/ğŸ”’ PKI å…¬é’¥åŸºç¡€è®¾æ–½/TLS ä¼ è¾“å±‚å®‰å…¨/HTTPS/ç”³è¯· Lets Encrypt çš„ SSL è¯ä¹¦.md","filePath":"ç¬”è®°/ğŸ”’ PKI å…¬é’¥åŸºç¡€è®¾æ–½/TLS ä¼ è¾“å±‚å®‰å…¨/HTTPS/ç”³è¯· Lets Encrypt çš„ SSL è¯ä¹¦.md"}`),c={name:"ç¬”è®°/ğŸ”’ PKI å…¬é’¥åŸºç¡€è®¾æ–½/TLS ä¼ è¾“å±‚å®‰å…¨/HTTPS/ç”³è¯· Lets Encrypt çš„ SSL è¯ä¹¦.md"},g=a("h1",{id:"ç”³è¯·-let-s-encrypt-çš„-ssl-è¯ä¹¦",tabindex:"-1"},[e("ç”³è¯· Let's Encrypt çš„ SSL è¯ä¹¦ "),a("a",{class:"header-anchor",href:"#ç”³è¯·-let-s-encrypt-çš„-ssl-è¯ä¹¦","aria-label":`Permalink to "ç”³è¯· Let's Encrypt çš„ SSL è¯ä¹¦"`},"â€‹")],-1),y=d(`<h2 id="centos-7-8" tabindex="-1">CentOS 7/8 <a class="header-anchor" href="#centos-7-8" aria-label="Permalink to &quot;CentOS 7/8&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> python3-certbot-dns-cloudflare</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;dns_cloudflare_email = &lt;Cloudflare ç”µå­é‚®ç®±&gt;\\ndns_cloudflare_api_key = &lt;API Key&gt;&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 700</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certonly</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --cert-name</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¯ä¹¦æ–‡ä»¶å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dns-cloudflare</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dns-cloudflare-credentials</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/.secrets/certbot/cloudflare.ini</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --server</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://acme-v02.api.letsencrypt.org/directory</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&lt;åŸŸå&gt;&quot;</span></span></code></pre></div><h2 id="debian-11" tabindex="-1">Debian 11 <a class="header-anchor" href="#debian-11" aria-label="Permalink to &quot;Debian 11&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certbot</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> python3-certbot-dns-cloudflare</span></span></code></pre></div><h3 id="ä½¿ç”¨-global-key" tabindex="-1">ä½¿ç”¨ Global Key <a class="header-anchor" href="#ä½¿ç”¨-global-key" aria-label="Permalink to &quot;ä½¿ç”¨ Global Key&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;dns_cloudflare_email = \\ndns_cloudflare_api_key = &#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dns_cloudflare_email</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">Cloudflare</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ç”µå­é‚®</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç®±</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dns_cloudflare_api_key</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Ke</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 700</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certonly</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --cert-name</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¯ä¹¦æ–‡ä»¶å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dns-cloudflare</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dns-cloudflare-credentials</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/.secrets/certbot/cloudflare.ini</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --server</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://acme-v02.api.letsencrypt.org/directory</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&lt;åŸŸå&gt;&quot;</span></span></code></pre></div><h3 id="ä½¿ç”¨é™åˆ¶çš„-api-ä»¤ç‰Œ" tabindex="-1">ä½¿ç”¨é™åˆ¶çš„ API ä»¤ç‰Œ <a class="header-anchor" href="#ä½¿ç”¨é™åˆ¶çš„-api-ä»¤ç‰Œ" aria-label="Permalink to &quot;ä½¿ç”¨é™åˆ¶çš„ API ä»¤ç‰Œ&quot;">â€‹</a></h3><p>API ä»¤ç‰Œéœ€è¦ DNS ç¼–è¾‘æƒé™</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> python3-pip</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pip3</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cloudflare</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;dns_cloudflare_api_token = &#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">dns_cloudflare_api_token</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">API</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> Toke</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 700</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 700</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .secrets/certbot/cloudflare.ini</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> certonly</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --cert-name</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">è¯ä¹¦æ–‡ä»¶å</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">ç§°</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dns-cloudflare</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --dns-cloudflare-credentials</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/.secrets/certbot/cloudflare.ini</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --server</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://acme-v02.api.letsencrypt.org/directory</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&lt;åŸŸå&gt;&quot;</span></span></code></pre></div><h2 id="å»¶ä¼¸é˜…è¯»" tabindex="-1">å»¶ä¼¸é˜…è¯» <a class="header-anchor" href="#å»¶ä¼¸é˜…è¯»" aria-label="Permalink to &quot;å»¶ä¼¸é˜…è¯»&quot;">â€‹</a></h2>`,22);function C(F,u,b,A,v,m){const n=i("NolebasePageProperties"),t=i("VPNolebaseInlineLinkPreview"),h=i("NolebaseGitContributors"),p=i("NolebaseGitChangelog");return o(),r("div",null,[g,s(n),y,a("p",null,[s(t,{href:"https://certbot.eff.org/instructions?ws=nginx&os=centosrhel8",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("https://certbot.eff.org/instructions?ws=nginx&os=centosrhel8")]),_:1}),s(t,{href:"https://snapcraft.io/docs/installing-snap-on-centos",target:"_blank",rel:"noreferrer"},{default:l(()=>[e("https://snapcraft.io/docs/installing-snap-on-centos")]),_:1})]),s(h),s(p)])}const f=k(c,[["render",C]]);export{_ as __pageData,f as default};
